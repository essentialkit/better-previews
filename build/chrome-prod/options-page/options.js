var IS_DEV_BUILD=false;
(()=>{var Ou=Object.create;var wo=Object.defineProperty;var Du=Object.getOwnPropertyDescriptor;var Lu=Object.getOwnPropertyNames;var Iu=Object.getPrototypeOf,Ru=Object.prototype.hasOwnProperty;var fr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),dr=(e,t)=>{for(var n in t)wo(e,n,{get:t[n],enumerable:!0})},Mu=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Lu(t))!Ru.call(e,r)&&r!==n&&wo(e,r,{get:()=>t[r],enumerable:!(i=Du(t,r))||i.enumerable});return e};var wa=(e,t,n)=>(n=e!=null?Ou(Iu(e)):{},Mu(t||!e||!e.__esModule?wo(n,"default",{value:e,enumerable:!0}):n,e));var Ol=fr(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.sanitizeUrl=void 0;var jd=/^([^\w]*)(javascript|data|vbscript)/im,Fd=/&#(\w+)(^\w|;)?/g,Gd=/&(newline|tab);/gi,zd=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Wd=/^.+(:|&colon;)/gim,Yd=[".","/"];function Vd(e){return Yd.indexOf(e[0])>-1}function qd(e){return e.replace(Fd,function(t,n){return String.fromCharCode(n)})}function Kd(e){var t=qd(e||"").replace(Gd,"").replace(zd,"").trim();if(!t)return"about:blank";if(Vd(t))return t;var n=t.match(Wd);if(!n)return t;var i=n[0];return jd.test(i)?"about:blank":t}zr.sanitizeUrl=Kd});var Ll=fr((Xw,ps)=>{function Dl(e,t){if(t&&t.documentElement)e=t,t=arguments[2];else if(!e||!e.documentElement)throw new Error("First argument to Readability constructor should be a document object.");if(t=t||{},this._doc=e,this._docJSDOMParser=this._doc.firstChild.__JSDOMParser__,this._articleTitle=null,this._articleByline=null,this._articleDir=null,this._articleSiteName=null,this._attempts=[],this._debug=!!t.debug,this._maxElemsToParse=t.maxElemsToParse||this.DEFAULT_MAX_ELEMS_TO_PARSE,this._nbTopCandidates=t.nbTopCandidates||this.DEFAULT_N_TOP_CANDIDATES,this._charThreshold=t.charThreshold||this.DEFAULT_CHAR_THRESHOLD,this._classesToPreserve=this.CLASSES_TO_PRESERVE.concat(t.classesToPreserve||[]),this._keepClasses=!!t.keepClasses,this._serializer=t.serializer||function(n){return n.innerHTML},this._disableJSONLD=!!t.disableJSONLD,this._flags=this.FLAG_STRIP_UNLIKELYS|this.FLAG_WEIGHT_CLASSES|this.FLAG_CLEAN_CONDITIONALLY,this._debug){let n=function(i){if(i.nodeType==i.TEXT_NODE)return`${i.nodeName} ("${i.textContent}")`;let r=Array.from(i.attributes||[],function(o){return`${o.name}="${o.value}"`}).join(" ");return`<${i.localName} ${r}>`};this.log=function(){if(typeof dump<"u"){var i=Array.prototype.map.call(arguments,function(r){return r&&r.nodeName?n(r):r}).join(" ");dump("Reader: (Readability) "+i+`
`)}else if(typeof console<"u"){let r=Array.from(arguments,o=>o&&o.nodeType==this.ELEMENT_NODE?n(o):o);r.unshift("Reader: (Readability)"),console.log.apply(console,r)}}}else this.log=function(){}}Dl.prototype={FLAG_STRIP_UNLIKELYS:1,FLAG_WEIGHT_CLASSES:2,FLAG_CLEAN_CONDITIONALLY:4,ELEMENT_NODE:1,TEXT_NODE:3,DEFAULT_MAX_ELEMS_TO_PARSE:0,DEFAULT_N_TOP_CANDIDATES:5,DEFAULT_TAGS_TO_SCORE:"section,h2,h3,h4,h5,h6,p,td,pre".toUpperCase().split(","),DEFAULT_CHAR_THRESHOLD:500,REGEXPS:{unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i,positive:/article|body|content|entry|hentry|h-entry|main|page|pagination|post|text|blog|story/i,negative:/-ad-|hidden|^hid$| hid$| hid |^hid |banner|combx|comment|com-|contact|foot|footer|footnote|gdpr|masthead|media|meta|outbrain|promo|related|scroll|share|shoutbox|sidebar|skyscraper|sponsor|shopping|tags|tool|widget/i,extraneous:/print|archive|comment|discuss|e[\-]?mail|share|reply|all|login|sign|single|utility/i,byline:/byline|author|dateline|writtenby|p-author/i,replaceFonts:/<(\/?)font[^>]*>/gi,normalize:/\s{2,}/g,videos:/\/\/(www\.)?((dailymotion|youtube|youtube-nocookie|player\.vimeo|v\.qq)\.com|(archive|upload\.wikimedia)\.org|player\.twitch\.tv)/i,shareElements:/(\b|_)(share|sharedaddy)(\b|_)/i,nextLink:/(next|weiter|continue|>([^\|]|$)|»([^\|]|$))/i,prevLink:/(prev|earl|old|new|<|«)/i,tokenize:/\W+/g,whitespace:/^\s*$/,hasContent:/\S$/,hashUrl:/^#.+/,srcsetUrl:/(\S+)(\s+[\d.]+[xw])?(\s*(?:,|$))/g,b64DataUrl:/^data:\s*([^\s;,]+)\s*;\s*base64\s*,/i,jsonLdArticleTypes:/^Article|AdvertiserContentArticle|NewsArticle|AnalysisNewsArticle|AskPublicNewsArticle|BackgroundNewsArticle|OpinionNewsArticle|ReportageNewsArticle|ReviewNewsArticle|Report|SatiricalArticle|ScholarlyArticle|MedicalScholarlyArticle|SocialMediaPosting|BlogPosting|LiveBlogPosting|DiscussionForumPosting|TechArticle|APIReference$/},UNLIKELY_ROLES:["menu","menubar","complementary","navigation","alert","alertdialog","dialog"],DIV_TO_P_ELEMS:new Set(["BLOCKQUOTE","DL","DIV","IMG","OL","P","PRE","TABLE","UL"]),ALTER_TO_DIV_EXCEPTIONS:["DIV","ARTICLE","SECTION","P"],PRESENTATIONAL_ATTRIBUTES:["align","background","bgcolor","border","cellpadding","cellspacing","frame","hspace","rules","style","valign","vspace"],DEPRECATED_SIZE_ATTRIBUTE_ELEMS:["TABLE","TH","TD","HR","PRE"],PHRASING_ELEMS:["ABBR","AUDIO","B","BDO","BR","BUTTON","CITE","CODE","DATA","DATALIST","DFN","EM","EMBED","I","IMG","INPUT","KBD","LABEL","MARK","MATH","METER","NOSCRIPT","OBJECT","OUTPUT","PROGRESS","Q","RUBY","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRONG","SUB","SUP","TEXTAREA","TIME","VAR","WBR"],CLASSES_TO_PRESERVE:["page"],HTML_ESCAPE_MAP:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},_postProcessContent:function(e){this._fixRelativeUris(e),this._simplifyNestedElements(e),this._keepClasses||this._cleanClasses(e)},_removeNodes:function(e,t){if(this._docJSDOMParser&&e._isLiveNodeList)throw new Error("Do not pass live node lists to _removeNodes");for(var n=e.length-1;n>=0;n--){var i=e[n],r=i.parentNode;r&&(!t||t.call(this,i,n,e))&&r.removeChild(i)}},_replaceNodeTags:function(e,t){if(this._docJSDOMParser&&e._isLiveNodeList)throw new Error("Do not pass live node lists to _replaceNodeTags");for(let n of e)this._setNodeTag(n,t)},_forEachNode:function(e,t){Array.prototype.forEach.call(e,t,this)},_findNode:function(e,t){return Array.prototype.find.call(e,t,this)},_someNode:function(e,t){return Array.prototype.some.call(e,t,this)},_everyNode:function(e,t){return Array.prototype.every.call(e,t,this)},_concatNodeLists:function(){var e=Array.prototype.slice,t=e.call(arguments),n=t.map(function(i){return e.call(i)});return Array.prototype.concat.apply([],n)},_getAllNodesWithTag:function(e,t){return e.querySelectorAll?e.querySelectorAll(t.join(",")):[].concat.apply([],t.map(function(n){var i=e.getElementsByTagName(n);return Array.isArray(i)?i:Array.from(i)}))},_cleanClasses:function(e){var t=this._classesToPreserve,n=(e.getAttribute("class")||"").split(/\s+/).filter(function(i){return t.indexOf(i)!=-1}).join(" ");for(n?e.setAttribute("class",n):e.removeAttribute("class"),e=e.firstElementChild;e;e=e.nextElementSibling)this._cleanClasses(e)},_fixRelativeUris:function(e){var t=this._doc.baseURI,n=this._doc.documentURI;function i(s){if(t==n&&s.charAt(0)=="#")return s;try{return new URL(s,t).href}catch{}return s}var r=this._getAllNodesWithTag(e,["a"]);this._forEachNode(r,function(s){var a=s.getAttribute("href");if(a)if(a.indexOf("javascript:")===0)if(s.childNodes.length===1&&s.childNodes[0].nodeType===this.TEXT_NODE){var l=this._doc.createTextNode(s.textContent);s.parentNode.replaceChild(l,s)}else{for(var c=this._doc.createElement("span");s.firstChild;)c.appendChild(s.firstChild);s.parentNode.replaceChild(c,s)}else s.setAttribute("href",i(a))});var o=this._getAllNodesWithTag(e,["img","picture","figure","video","audio","source"]);this._forEachNode(o,function(s){var a=s.getAttribute("src"),l=s.getAttribute("poster"),c=s.getAttribute("srcset");if(a&&s.setAttribute("src",i(a)),l&&s.setAttribute("poster",i(l)),c){var f=c.replace(this.REGEXPS.srcsetUrl,function(d,g,E,x){return i(g)+(E||"")+x});s.setAttribute("srcset",f)}})},_simplifyNestedElements:function(e){for(var t=e;t;){if(t.parentNode&&["DIV","SECTION"].includes(t.tagName)&&!(t.id&&t.id.startsWith("readability"))){if(this._isElementWithoutContent(t)){t=this._removeAndGetNext(t);continue}else if(this._hasSingleTagInsideElement(t,"DIV")||this._hasSingleTagInsideElement(t,"SECTION")){for(var n=t.children[0],i=0;i<t.attributes.length;i++)n.setAttribute(t.attributes[i].name,t.attributes[i].value);t.parentNode.replaceChild(n,t),t=n;continue}}t=this._getNextNode(t)}},_getArticleTitle:function(){var e=this._doc,t="",n="";try{t=n=e.title.trim(),typeof t!="string"&&(t=n=this._getInnerText(e.getElementsByTagName("title")[0]))}catch{}var i=!1;function r(f){return f.split(/\s+/).length}if(/ [\|\-\\\/>»] /.test(t))i=/ [\\\/>»] /.test(t),t=n.replace(/(.*)[\|\-\\\/>»] .*/gi,"$1"),r(t)<3&&(t=n.replace(/[^\|\-\\\/>»]*[\|\-\\\/>»](.*)/gi,"$1"));else if(t.indexOf(": ")!==-1){var o=this._concatNodeLists(e.getElementsByTagName("h1"),e.getElementsByTagName("h2")),s=t.trim(),a=this._someNode(o,function(f){return f.textContent.trim()===s});a||(t=n.substring(n.lastIndexOf(":")+1),r(t)<3?t=n.substring(n.indexOf(":")+1):r(n.substr(0,n.indexOf(":")))>5&&(t=n))}else if(t.length>150||t.length<15){var l=e.getElementsByTagName("h1");l.length===1&&(t=this._getInnerText(l[0]))}t=t.trim().replace(this.REGEXPS.normalize," ");var c=r(t);return c<=4&&(!i||c!=r(n.replace(/[\|\-\\\/>»]+/g,""))-1)&&(t=n),t},_prepDocument:function(){var e=this._doc;this._removeNodes(this._getAllNodesWithTag(e,["style"])),e.body&&this._replaceBrs(e.body),this._replaceNodeTags(this._getAllNodesWithTag(e,["font"]),"SPAN")},_nextNode:function(e){for(var t=e;t&&t.nodeType!=this.ELEMENT_NODE&&this.REGEXPS.whitespace.test(t.textContent);)t=t.nextSibling;return t},_replaceBrs:function(e){this._forEachNode(this._getAllNodesWithTag(e,["br"]),function(t){for(var n=t.nextSibling,i=!1;(n=this._nextNode(n))&&n.tagName=="BR";){i=!0;var r=n.nextSibling;n.parentNode.removeChild(n),n=r}if(i){var o=this._doc.createElement("p");for(t.parentNode.replaceChild(o,t),n=o.nextSibling;n;){if(n.tagName=="BR"){var s=this._nextNode(n.nextSibling);if(s&&s.tagName=="BR")break}if(!this._isPhrasingContent(n))break;var a=n.nextSibling;o.appendChild(n),n=a}for(;o.lastChild&&this._isWhitespace(o.lastChild);)o.removeChild(o.lastChild);o.parentNode.tagName==="P"&&this._setNodeTag(o.parentNode,"DIV")}})},_setNodeTag:function(e,t){if(this.log("_setNodeTag",e,t),this._docJSDOMParser)return e.localName=t.toLowerCase(),e.tagName=t.toUpperCase(),e;for(var n=e.ownerDocument.createElement(t);e.firstChild;)n.appendChild(e.firstChild);e.parentNode.replaceChild(n,e),e.readability&&(n.readability=e.readability);for(var i=0;i<e.attributes.length;i++)try{n.setAttribute(e.attributes[i].name,e.attributes[i].value)}catch{}return n},_prepArticle:function(e){this._cleanStyles(e),this._markDataTables(e),this._fixLazyImages(e),this._cleanConditionally(e,"form"),this._cleanConditionally(e,"fieldset"),this._clean(e,"object"),this._clean(e,"embed"),this._clean(e,"footer"),this._clean(e,"link"),this._clean(e,"aside");var t=this.DEFAULT_CHAR_THRESHOLD;this._forEachNode(e.children,function(n){this._cleanMatchedNodes(n,function(i,r){return this.REGEXPS.shareElements.test(r)&&i.textContent.length<t})}),this._clean(e,"iframe"),this._clean(e,"input"),this._clean(e,"textarea"),this._clean(e,"select"),this._clean(e,"button"),this._cleanHeaders(e),this._cleanConditionally(e,"table"),this._cleanConditionally(e,"ul"),this._cleanConditionally(e,"div"),this._replaceNodeTags(this._getAllNodesWithTag(e,["h1"]),"h2"),this._removeNodes(this._getAllNodesWithTag(e,["p"]),function(n){var i=n.getElementsByTagName("img").length,r=n.getElementsByTagName("embed").length,o=n.getElementsByTagName("object").length,s=n.getElementsByTagName("iframe").length,a=i+r+o+s;return a===0&&!this._getInnerText(n,!1)}),this._forEachNode(this._getAllNodesWithTag(e,["br"]),function(n){var i=this._nextNode(n.nextSibling);i&&i.tagName=="P"&&n.parentNode.removeChild(n)}),this._forEachNode(this._getAllNodesWithTag(e,["table"]),function(n){var i=this._hasSingleTagInsideElement(n,"TBODY")?n.firstElementChild:n;if(this._hasSingleTagInsideElement(i,"TR")){var r=i.firstElementChild;if(this._hasSingleTagInsideElement(r,"TD")){var o=r.firstElementChild;o=this._setNodeTag(o,this._everyNode(o.childNodes,this._isPhrasingContent)?"P":"DIV"),n.parentNode.replaceChild(o,n)}}})},_initializeNode:function(e){switch(e.readability={contentScore:0},e.tagName){case"DIV":e.readability.contentScore+=5;break;case"PRE":case"TD":case"BLOCKQUOTE":e.readability.contentScore+=3;break;case"ADDRESS":case"OL":case"UL":case"DL":case"DD":case"DT":case"LI":case"FORM":e.readability.contentScore-=3;break;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"TH":e.readability.contentScore-=5;break}e.readability.contentScore+=this._getClassWeight(e)},_removeAndGetNext:function(e){var t=this._getNextNode(e,!0);return e.parentNode.removeChild(e),t},_getNextNode:function(e,t){if(!t&&e.firstElementChild)return e.firstElementChild;if(e.nextElementSibling)return e.nextElementSibling;do e=e.parentNode;while(e&&!e.nextElementSibling);return e&&e.nextElementSibling},_textSimilarity:function(e,t){var n=e.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean),i=t.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean);if(!n.length||!i.length)return 0;var r=i.filter(s=>!n.includes(s)),o=r.join(" ").length/i.join(" ").length;return 1-o},_checkByline:function(e,t){if(this._articleByline)return!1;if(e.getAttribute!==void 0)var n=e.getAttribute("rel"),i=e.getAttribute("itemprop");return(n==="author"||i&&i.indexOf("author")!==-1||this.REGEXPS.byline.test(t))&&this._isValidByline(e.textContent)?(this._articleByline=e.textContent.trim(),!0):!1},_getNodeAncestors:function(e,t){t=t||0;for(var n=0,i=[];e.parentNode&&(i.push(e.parentNode),!(t&&++n===t));)e=e.parentNode;return i},_grabArticle:function(e){this.log("**** grabArticle ****");var t=this._doc,n=e!==null;if(e=e||this._doc.body,!e)return this.log("No body found in document. Abort."),null;for(var i=e.innerHTML;;){this.log("Starting grabArticle loop");var r=this._flagIsActive(this.FLAG_STRIP_UNLIKELYS),o=[],s=this._doc.documentElement;let kt=!0;for(;s;){s.tagName==="HTML"&&(this._articleLang=s.getAttribute("lang"));var a=s.className+" "+s.id;if(!this._isProbablyVisible(s)){this.log("Removing hidden node - "+a),s=this._removeAndGetNext(s);continue}if(this._checkByline(s,a)){s=this._removeAndGetNext(s);continue}if(kt&&this._headerDuplicatesTitle(s)){this.log("Removing header: ",s.textContent.trim(),this._articleTitle.trim()),kt=!1,s=this._removeAndGetNext(s);continue}if(r){if(this.REGEXPS.unlikelyCandidates.test(a)&&!this.REGEXPS.okMaybeItsACandidate.test(a)&&!this._hasAncestorTag(s,"table")&&!this._hasAncestorTag(s,"code")&&s.tagName!=="BODY"&&s.tagName!=="A"){this.log("Removing unlikely candidate - "+a),s=this._removeAndGetNext(s);continue}if(this.UNLIKELY_ROLES.includes(s.getAttribute("role"))){this.log("Removing content with role "+s.getAttribute("role")+" - "+a),s=this._removeAndGetNext(s);continue}}if((s.tagName==="DIV"||s.tagName==="SECTION"||s.tagName==="HEADER"||s.tagName==="H1"||s.tagName==="H2"||s.tagName==="H3"||s.tagName==="H4"||s.tagName==="H5"||s.tagName==="H6")&&this._isElementWithoutContent(s)){s=this._removeAndGetNext(s);continue}if(this.DEFAULT_TAGS_TO_SCORE.indexOf(s.tagName)!==-1&&o.push(s),s.tagName==="DIV"){for(var l=null,c=s.firstChild;c;){var f=c.nextSibling;if(this._isPhrasingContent(c))l!==null?l.appendChild(c):this._isWhitespace(c)||(l=t.createElement("p"),s.replaceChild(l,c),l.appendChild(c));else if(l!==null){for(;l.lastChild&&this._isWhitespace(l.lastChild);)l.removeChild(l.lastChild);l=null}c=f}if(this._hasSingleTagInsideElement(s,"P")&&this._getLinkDensity(s)<.25){var d=s.children[0];s.parentNode.replaceChild(d,s),s=d,o.push(s)}else this._hasChildBlockElement(s)||(s=this._setNodeTag(s,"P"),o.push(s))}s=this._getNextNode(s)}var g=[];this._forEachNode(o,function(X){if(!(!X.parentNode||typeof X.parentNode.tagName>"u")){var J=this._getInnerText(X);if(!(J.length<25)){var vt=this._getNodeAncestors(X,5);if(vt.length!==0){var Dt=0;Dt+=1,Dt+=J.split(",").length,Dt+=Math.min(Math.floor(J.length/100),3),this._forEachNode(vt,function(St,Z){if(!(!St.tagName||!St.parentNode||typeof St.parentNode.tagName>"u")){if(typeof St.readability>"u"&&(this._initializeNode(St),g.push(St)),Z===0)var zt=1;else Z===1?zt=2:zt=Z*3;St.readability.contentScore+=Dt/zt}})}}}});for(var E=[],x=0,T=g.length;x<T;x+=1){var w=g[x],C=w.readability.contentScore*(1-this._getLinkDensity(w));w.readability.contentScore=C,this.log("Candidate:",w,"with score "+C);for(var N=0;N<this._nbTopCandidates;N++){var A=E[N];if(!A||C>A.readability.contentScore){E.splice(N,0,w),E.length>this._nbTopCandidates&&E.pop();break}}}var y=E[0]||null,L=!1,D;if(y===null||y.tagName==="BODY"){for(y=t.createElement("DIV"),L=!0;e.firstChild;)this.log("Moving child out:",e.firstChild),y.appendChild(e.firstChild);e.appendChild(y),this._initializeNode(y)}else if(y){for(var R=[],$=1;$<E.length;$++)E[$].readability.contentScore/y.readability.contentScore>=.75&&R.push(this._getNodeAncestors(E[$]));var B=3;if(R.length>=B)for(D=y.parentNode;D.tagName!=="BODY";){for(var M=0,j=0;j<R.length&&M<B;j++)M+=Number(R[j].includes(D));if(M>=B){y=D;break}D=D.parentNode}y.readability||this._initializeNode(y),D=y.parentNode;for(var W=y.readability.contentScore,q=W/3;D.tagName!=="BODY";){if(!D.readability){D=D.parentNode;continue}var it=D.readability.contentScore;if(it<q)break;if(it>W){y=D;break}W=D.readability.contentScore,D=D.parentNode}for(D=y.parentNode;D.tagName!="BODY"&&D.children.length==1;)y=D,D=y.parentNode;y.readability||this._initializeNode(y)}var H=t.createElement("DIV");n&&(H.id="readability-content");var V=Math.max(10,y.readability.contentScore*.2);D=y.parentNode;for(var Q=D.children,at=0,rt=Q.length;at<rt;at++){var z=Q[at],G=!1;if(this.log("Looking at sibling node:",z,z.readability?"with score "+z.readability.contentScore:""),this.log("Sibling has score",z.readability?z.readability.contentScore:"Unknown"),z===y)G=!0;else{var wt=0;if(z.className===y.className&&y.className!==""&&(wt+=y.readability.contentScore*.2),z.readability&&z.readability.contentScore+wt>=V)G=!0;else if(z.nodeName==="P"){var Mt=this._getLinkDensity(z),Tt=this._getInnerText(z),dt=Tt.length;(dt>80&&Mt<.25||dt<80&&dt>0&&Mt===0&&Tt.search(/\.( |$)/)!==-1)&&(G=!0)}}G&&(this.log("Appending node:",z),this.ALTER_TO_DIV_EXCEPTIONS.indexOf(z.nodeName)===-1&&(this.log("Altering sibling:",z,"to div."),z=this._setNodeTag(z,"DIV")),H.appendChild(z),Q=D.children,at-=1,rt-=1)}if(this._debug&&this.log("Article content pre-prep: "+H.innerHTML),this._prepArticle(H),this._debug&&this.log("Article content post-prep: "+H.innerHTML),L)y.id="readability-page-1",y.className="page";else{var pt=t.createElement("DIV");for(pt.id="readability-page-1",pt.className="page";H.firstChild;)pt.appendChild(H.firstChild);H.appendChild(pt)}this._debug&&this.log("Article content after paging: "+H.innerHTML);var Ht=!0,Et=this._getInnerText(H,!0).length;if(Et<this._charThreshold)if(Ht=!1,e.innerHTML=i,this._flagIsActive(this.FLAG_STRIP_UNLIKELYS))this._removeFlag(this.FLAG_STRIP_UNLIKELYS),this._attempts.push({articleContent:H,textLength:Et});else if(this._flagIsActive(this.FLAG_WEIGHT_CLASSES))this._removeFlag(this.FLAG_WEIGHT_CLASSES),this._attempts.push({articleContent:H,textLength:Et});else if(this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY))this._removeFlag(this.FLAG_CLEAN_CONDITIONALLY),this._attempts.push({articleContent:H,textLength:Et});else{if(this._attempts.push({articleContent:H,textLength:Et}),this._attempts.sort(function(X,J){return J.textLength-X.textLength}),!this._attempts[0].textLength)return null;H=this._attempts[0].articleContent,Ht=!0}if(Ht){var Gt=[D,y].concat(this._getNodeAncestors(D));return this._someNode(Gt,function(X){if(!X.tagName)return!1;var J=X.getAttribute("dir");return J?(this._articleDir=J,!0):!1}),H}}},_isValidByline:function(e){return typeof e=="string"||e instanceof String?(e=e.trim(),e.length>0&&e.length<100):!1},_unescapeHtmlEntities:function(e){if(!e)return e;var t=this.HTML_ESCAPE_MAP;return e.replace(/&(quot|amp|apos|lt|gt);/g,function(n,i){return t[i]}).replace(/&#(?:x([0-9a-z]{1,4})|([0-9]{1,4}));/gi,function(n,i,r){var o=parseInt(i||r,i?16:10);return String.fromCharCode(o)})},_getJSONLD:function(e){var t=this._getAllNodesWithTag(e,["script"]),n;return this._forEachNode(t,function(i){if(!n&&i.getAttribute("type")==="application/ld+json")try{var r=i.textContent.replace(/^\s*<!\[CDATA\[|\]\]>\s*$/g,""),o=JSON.parse(r);if(!o["@context"]||!o["@context"].match(/^https?\:\/\/schema\.org$/)||(!o["@type"]&&Array.isArray(o["@graph"])&&(o=o["@graph"].find(function(c){return(c["@type"]||"").match(this.REGEXPS.jsonLdArticleTypes)})),!o||!o["@type"]||!o["@type"].match(this.REGEXPS.jsonLdArticleTypes)))return;if(n={},typeof o.name=="string"&&typeof o.headline=="string"&&o.name!==o.headline){var s=this._getArticleTitle(),a=this._textSimilarity(o.name,s)>.75,l=this._textSimilarity(o.headline,s)>.75;l&&!a?n.title=o.headline:n.title=o.name}else typeof o.name=="string"?n.title=o.name.trim():typeof o.headline=="string"&&(n.title=o.headline.trim());o.author&&(typeof o.author.name=="string"?n.byline=o.author.name.trim():Array.isArray(o.author)&&o.author[0]&&typeof o.author[0].name=="string"&&(n.byline=o.author.filter(function(c){return c&&typeof c.name=="string"}).map(function(c){return c.name.trim()}).join(", "))),typeof o.description=="string"&&(n.excerpt=o.description.trim()),o.publisher&&typeof o.publisher.name=="string"&&(n.siteName=o.publisher.name.trim());return}catch(c){this.log(c.message)}}),n||{}},_getArticleMetadata:function(e){var t={},n={},i=this._doc.getElementsByTagName("meta"),r=/\s*(dc|dcterm|og|twitter)\s*:\s*(author|creator|description|title|site_name)\s*/gi,o=/^\s*(?:(dc|dcterm|og|twitter|weibo:(article|webpage))\s*[\.:]\s*)?(author|creator|description|title|site_name)\s*$/i;return this._forEachNode(i,function(s){var a=s.getAttribute("name"),l=s.getAttribute("property"),c=s.getAttribute("content");if(!!c){var f=null,d=null;l&&(f=l.match(r),f&&(d=f[0].toLowerCase().replace(/\s/g,""),n[d]=c.trim())),!f&&a&&o.test(a)&&(d=a,c&&(d=d.toLowerCase().replace(/\s/g,"").replace(/\./g,":"),n[d]=c.trim()))}}),t.title=e.title||n["dc:title"]||n["dcterm:title"]||n["og:title"]||n["weibo:article:title"]||n["weibo:webpage:title"]||n.title||n["twitter:title"],t.title||(t.title=this._getArticleTitle()),t.byline=e.byline||n["dc:creator"]||n["dcterm:creator"]||n.author,t.excerpt=e.excerpt||n["dc:description"]||n["dcterm:description"]||n["og:description"]||n["weibo:article:description"]||n["weibo:webpage:description"]||n.description||n["twitter:description"],t.siteName=e.siteName||n["og:site_name"],t.title=this._unescapeHtmlEntities(t.title),t.byline=this._unescapeHtmlEntities(t.byline),t.excerpt=this._unescapeHtmlEntities(t.excerpt),t.siteName=this._unescapeHtmlEntities(t.siteName),t},_isSingleImage:function(e){return e.tagName==="IMG"?!0:e.children.length!==1||e.textContent.trim()!==""?!1:this._isSingleImage(e.children[0])},_unwrapNoscriptImages:function(e){var t=Array.from(e.getElementsByTagName("img"));this._forEachNode(t,function(i){for(var r=0;r<i.attributes.length;r++){var o=i.attributes[r];switch(o.name){case"src":case"srcset":case"data-src":case"data-srcset":return}if(/\.(jpg|jpeg|png|webp)/i.test(o.value))return}i.parentNode.removeChild(i)});var n=Array.from(e.getElementsByTagName("noscript"));this._forEachNode(n,function(i){var r=e.createElement("div");if(r.innerHTML=i.innerHTML,!!this._isSingleImage(r)){var o=i.previousElementSibling;if(o&&this._isSingleImage(o)){var s=o;s.tagName!=="IMG"&&(s=o.getElementsByTagName("img")[0]);for(var a=r.getElementsByTagName("img")[0],l=0;l<s.attributes.length;l++){var c=s.attributes[l];if(c.value!==""&&(c.name==="src"||c.name==="srcset"||/\.(jpg|jpeg|png|webp)/i.test(c.value))){if(a.getAttribute(c.name)===c.value)continue;var f=c.name;a.hasAttribute(f)&&(f="data-old-"+f),a.setAttribute(f,c.value)}}i.parentNode.replaceChild(r.firstElementChild,o)}}})},_removeScripts:function(e){this._removeNodes(this._getAllNodesWithTag(e,["script"]),function(t){return t.nodeValue="",t.removeAttribute("src"),!0}),this._removeNodes(this._getAllNodesWithTag(e,["noscript"]))},_hasSingleTagInsideElement:function(e,t){return e.children.length!=1||e.children[0].tagName!==t?!1:!this._someNode(e.childNodes,function(n){return n.nodeType===this.TEXT_NODE&&this.REGEXPS.hasContent.test(n.textContent)})},_isElementWithoutContent:function(e){return e.nodeType===this.ELEMENT_NODE&&e.textContent.trim().length==0&&(e.children.length==0||e.children.length==e.getElementsByTagName("br").length+e.getElementsByTagName("hr").length)},_hasChildBlockElement:function(e){return this._someNode(e.childNodes,function(t){return this.DIV_TO_P_ELEMS.has(t.tagName)||this._hasChildBlockElement(t)})},_isPhrasingContent:function(e){return e.nodeType===this.TEXT_NODE||this.PHRASING_ELEMS.indexOf(e.tagName)!==-1||(e.tagName==="A"||e.tagName==="DEL"||e.tagName==="INS")&&this._everyNode(e.childNodes,this._isPhrasingContent)},_isWhitespace:function(e){return e.nodeType===this.TEXT_NODE&&e.textContent.trim().length===0||e.nodeType===this.ELEMENT_NODE&&e.tagName==="BR"},_getInnerText:function(e,t){t=typeof t>"u"?!0:t;var n=e.textContent.trim();return t?n.replace(this.REGEXPS.normalize," "):n},_getCharCount:function(e,t){return t=t||",",this._getInnerText(e).split(t).length-1},_cleanStyles:function(e){if(!(!e||e.tagName.toLowerCase()==="svg")){for(var t=0;t<this.PRESENTATIONAL_ATTRIBUTES.length;t++)e.removeAttribute(this.PRESENTATIONAL_ATTRIBUTES[t]);this.DEPRECATED_SIZE_ATTRIBUTE_ELEMS.indexOf(e.tagName)!==-1&&(e.removeAttribute("width"),e.removeAttribute("height"));for(var n=e.firstElementChild;n!==null;)this._cleanStyles(n),n=n.nextElementSibling}},_getLinkDensity:function(e){var t=this._getInnerText(e).length;if(t===0)return 0;var n=0;return this._forEachNode(e.getElementsByTagName("a"),function(i){var r=i.getAttribute("href"),o=r&&this.REGEXPS.hashUrl.test(r)?.3:1;n+=this._getInnerText(i).length*o}),n/t},_getClassWeight:function(e){if(!this._flagIsActive(this.FLAG_WEIGHT_CLASSES))return 0;var t=0;return typeof e.className=="string"&&e.className!==""&&(this.REGEXPS.negative.test(e.className)&&(t-=25),this.REGEXPS.positive.test(e.className)&&(t+=25)),typeof e.id=="string"&&e.id!==""&&(this.REGEXPS.negative.test(e.id)&&(t-=25),this.REGEXPS.positive.test(e.id)&&(t+=25)),t},_clean:function(e,t){var n=["object","embed","iframe"].indexOf(t)!==-1;this._removeNodes(this._getAllNodesWithTag(e,[t]),function(i){if(n){for(var r=0;r<i.attributes.length;r++)if(this.REGEXPS.videos.test(i.attributes[r].value))return!1;if(i.tagName==="object"&&this.REGEXPS.videos.test(i.innerHTML))return!1}return!0})},_hasAncestorTag:function(e,t,n,i){n=n||3,t=t.toUpperCase();for(var r=0;e.parentNode;){if(n>0&&r>n)return!1;if(e.parentNode.tagName===t&&(!i||i(e.parentNode)))return!0;e=e.parentNode,r++}return!1},_getRowAndColumnCount:function(e){for(var t=0,n=0,i=e.getElementsByTagName("tr"),r=0;r<i.length;r++){var o=i[r].getAttribute("rowspan")||0;o&&(o=parseInt(o,10)),t+=o||1;for(var s=0,a=i[r].getElementsByTagName("td"),l=0;l<a.length;l++){var c=a[l].getAttribute("colspan")||0;c&&(c=parseInt(c,10)),s+=c||1}n=Math.max(n,s)}return{rows:t,columns:n}},_markDataTables:function(e){for(var t=e.getElementsByTagName("table"),n=0;n<t.length;n++){var i=t[n],r=i.getAttribute("role");if(r=="presentation"){i._readabilityDataTable=!1;continue}var o=i.getAttribute("datatable");if(o=="0"){i._readabilityDataTable=!1;continue}var s=i.getAttribute("summary");if(s){i._readabilityDataTable=!0;continue}var a=i.getElementsByTagName("caption")[0];if(a&&a.childNodes.length>0){i._readabilityDataTable=!0;continue}var l=["col","colgroup","tfoot","thead","th"],c=function(d){return!!i.getElementsByTagName(d)[0]};if(l.some(c)){this.log("Data table because found data-y descendant"),i._readabilityDataTable=!0;continue}if(i.getElementsByTagName("table")[0]){i._readabilityDataTable=!1;continue}var f=this._getRowAndColumnCount(i);if(f.rows>=10||f.columns>4){i._readabilityDataTable=!0;continue}i._readabilityDataTable=f.rows*f.columns>10}},_fixLazyImages:function(e){this._forEachNode(this._getAllNodesWithTag(e,["img","picture","figure"]),function(t){if(t.src&&this.REGEXPS.b64DataUrl.test(t.src)){var n=this.REGEXPS.b64DataUrl.exec(t.src);if(n[1]==="image/svg+xml")return;for(var i=!1,r=0;r<t.attributes.length;r++){var o=t.attributes[r];if(o.name!=="src"&&/\.(jpg|jpeg|png|webp)/i.test(o.value)){i=!0;break}}if(i){var s=t.src.search(/base64\s*/i)+7,a=t.src.length-s;a<133&&t.removeAttribute("src")}}if(!((t.src||t.srcset&&t.srcset!="null")&&t.className.toLowerCase().indexOf("lazy")===-1)){for(var l=0;l<t.attributes.length;l++)if(o=t.attributes[l],!(o.name==="src"||o.name==="srcset"||o.name==="alt")){var c=null;if(/\.(jpg|jpeg|png|webp)\s+\d/.test(o.value)?c="srcset":/^\s*\S+\.(jpg|jpeg|png|webp)\S*\s*$/.test(o.value)&&(c="src"),c){if(t.tagName==="IMG"||t.tagName==="PICTURE")t.setAttribute(c,o.value);else if(t.tagName==="FIGURE"&&!this._getAllNodesWithTag(t,["img","picture"]).length){var f=this._doc.createElement("img");f.setAttribute(c,o.value),t.appendChild(f)}}}}})},_getTextDensity:function(e,t){var n=this._getInnerText(e,!0).length;if(n===0)return 0;var i=0,r=this._getAllNodesWithTag(e,t);return this._forEachNode(r,o=>i+=this._getInnerText(o,!0).length),i/n},_cleanConditionally:function(e,t){!this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY)||this._removeNodes(this._getAllNodesWithTag(e,[t]),function(n){var i=function(L){return L._readabilityDataTable},r=t==="ul"||t==="ol";if(!r){var o=0,s=this._getAllNodesWithTag(n,["ul","ol"]);this._forEachNode(s,L=>o+=this._getInnerText(L).length),r=o/this._getInnerText(n).length>.9}if(t==="table"&&i(n)||this._hasAncestorTag(n,"table",-1,i)||this._hasAncestorTag(n,"code"))return!1;var a=this._getClassWeight(n);this.log("Cleaning Conditionally",n);var l=0;if(a+l<0)return!0;if(this._getCharCount(n,",")<10){for(var c=n.getElementsByTagName("p").length,f=n.getElementsByTagName("img").length,d=n.getElementsByTagName("li").length-100,g=n.getElementsByTagName("input").length,E=this._getTextDensity(n,["h1","h2","h3","h4","h5","h6"]),x=0,T=this._getAllNodesWithTag(n,["object","embed","iframe"]),w=0;w<T.length;w++){for(var C=0;C<T[w].attributes.length;C++)if(this.REGEXPS.videos.test(T[w].attributes[C].value))return!1;if(T[w].tagName==="object"&&this.REGEXPS.videos.test(T[w].innerHTML))return!1;x++}var N=this._getLinkDensity(n),A=this._getInnerText(n).length,y=f>1&&c/f<.5&&!this._hasAncestorTag(n,"figure")||!r&&d>c||g>Math.floor(c/3)||!r&&E<.9&&A<25&&(f===0||f>2)&&!this._hasAncestorTag(n,"figure")||!r&&a<25&&N>.2||a>=25&&N>.5||x===1&&A<75||x>1;return y}return!1})},_cleanMatchedNodes:function(e,t){for(var n=this._getNextNode(e,!0),i=this._getNextNode(e);i&&i!=n;)t.call(this,i,i.className+" "+i.id)?i=this._removeAndGetNext(i):i=this._getNextNode(i)},_cleanHeaders:function(e){let t=this._getAllNodesWithTag(e,["h1","h2"]);this._removeNodes(t,function(n){let i=this._getClassWeight(n)<0;return i&&this.log("Removing header with low class weight:",n),i})},_headerDuplicatesTitle:function(e){if(e.tagName!="H1"&&e.tagName!="H2")return!1;var t=this._getInnerText(e,!1);return this.log("Evaluating similarity of header:",t,this._articleTitle),this._textSimilarity(this._articleTitle,t)>.75},_flagIsActive:function(e){return(this._flags&e)>0},_removeFlag:function(e){this._flags=this._flags&~e},_isProbablyVisible:function(e){return(!e.style||e.style.display!="none")&&!e.hasAttribute("hidden")&&(!e.hasAttribute("aria-hidden")||e.getAttribute("aria-hidden")!="true"||e.className&&e.className.indexOf&&e.className.indexOf("fallback-image")!==-1)},parse:function(){if(this._maxElemsToParse>0){var e=this._doc.getElementsByTagName("*").length;if(e>this._maxElemsToParse)throw new Error("Aborting parsing document; "+e+" elements found")}this._unwrapNoscriptImages(this._doc);var t=this._disableJSONLD?{}:this._getJSONLD(this._doc);this._removeScripts(this._doc),this._prepDocument();var n=this._getArticleMetadata(t);this._articleTitle=n.title;var i=this._grabArticle();if(!i)return null;if(this.log("Grabbed: "+i.innerHTML),this._postProcessContent(i),!n.excerpt){var r=i.getElementsByTagName("p");r.length>0&&(n.excerpt=r[0].textContent.trim())}var o=i.textContent;return{title:this._articleTitle,byline:n.byline||this._articleByline,dir:this._articleDir,lang:this._articleLang,content:this._serializer(i),textContent:o,length:o.length,excerpt:n.excerpt,siteName:n.siteName||this._articleSiteName}}};typeof ps=="object"&&(ps.exports=Dl)});var Rl=fr((Jw,ms)=>{var Il={unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i};function Xd(e){return(!e.style||e.style.display!="none")&&!e.hasAttribute("hidden")&&(!e.hasAttribute("aria-hidden")||e.getAttribute("aria-hidden")!="true"||e.className&&e.className.indexOf&&e.className.indexOf("fallback-image")!==-1)}function Jd(e,t={}){typeof t=="function"&&(t={visibilityChecker:t});var n={minScore:20,minContentLength:140,visibilityChecker:Xd};t=Object.assign(n,t);var i=e.querySelectorAll("p, pre, article"),r=e.querySelectorAll("div > br");if(r.length){var o=new Set(i);[].forEach.call(r,function(a){o.add(a.parentNode)}),i=Array.from(o)}var s=0;return[].some.call(i,function(a){if(!t.visibilityChecker(a))return!1;var l=a.className+" "+a.id;if(Il.unlikelyCandidates.test(l)&&!Il.okMaybeItsACandidate.test(l)||a.matches("li p"))return!1;var c=a.textContent.trim().length;return c<t.minContentLength?!1:(s+=Math.sqrt(c-t.minContentLength),s>t.minScore)})}typeof ms=="object"&&(ms.exports=Jd)});var kl=fr((Qw,Ml)=>{var Qd=Ll(),Zd=Rl();Ml.exports={Readability:Qd,isProbablyReaderable:Zd}});var xa=Object.prototype.toString;function yi(e){switch(xa.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Yt(e,Error)}}function Hn(e,t){return xa.call(e)===`[object ${t}]`}function bi(e){return Hn(e,"ErrorEvent")}function hr(e){return Hn(e,"DOMError")}function xo(e){return Hn(e,"DOMException")}function Wt(e){return Hn(e,"String")}function Un(e){return e===null||typeof e!="object"&&typeof e!="function"}function re(e){return Hn(e,"Object")}function jn(e){return typeof Event<"u"&&Yt(e,Event)}function To(e){return typeof Element<"u"&&Yt(e,Element)}function So(e){return Hn(e,"RegExp")}function mn(e){return Boolean(e&&e.then&&typeof e.then=="function")}function Ao(e){return re(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function No(e){return typeof e=="number"&&e!==e}function Yt(e,t){try{return e instanceof t}catch{return!1}}function pr(e){return e&&e.Math==Math?e:void 0}var At=typeof globalThis=="object"&&pr(globalThis)||typeof window=="object"&&pr(window)||typeof self=="object"&&pr(self)||typeof global=="object"&&pr(global)||function(){return this}()||{};function Se(){return At}function gn(e,t,n){let i=n||At,r=i.__SENTRY__=i.__SENTRY__||{};return r[e]||(r[e]=t())}var ku=Se(),Pu=80;function Fn(e,t={}){try{let n=e,i=5,r=[],o=0,s=0,a=" > ",l=a.length,c,f=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||Pu;for(;n&&o++<i&&(c=$u(n,f),!(c==="html"||o>1&&s+r.length*l+c.length>=d));)r.push(c),s+=c.length,n=n.parentNode;return r.reverse().join(a)}catch{return"<unknown>"}}function $u(e,t){let n=e,i=[],r,o,s,a,l;if(!n||!n.tagName)return"";i.push(n.tagName.toLowerCase());let c=t&&t.length?t.filter(d=>n.getAttribute(d)).map(d=>[d,n.getAttribute(d)]):null;if(c&&c.length)c.forEach(d=>{i.push(`[${d[0]}="${d[1]}"]`)});else if(n.id&&i.push(`#${n.id}`),r=n.className,r&&Wt(r))for(o=r.split(/\s+/),l=0;l<o.length;l++)i.push(`.${o[l]}`);let f=["type","name","title","alt"];for(l=0;l<f.length;l++)s=f[l],a=n.getAttribute(s),a&&i.push(`[${s}="${a}"]`);return i.join("")}function Co(){try{return ku.document.location.href}catch{return""}}var ot=class extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}};var Bu=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Hu(e){return e==="http"||e==="https"}function We(e,t=!1){let{host:n,path:i,pass:r,port:o,projectId:s,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&r?`:${r}`:""}@${n}${o?`:${o}`:""}/${i&&`${i}/`}${s}`}function Ta(e){let t=Bu.exec(e);if(!t)throw new ot(`Invalid Sentry Dsn: ${e}`);let[n,i,r="",o,s="",a]=t.slice(1),l="",c=a,f=c.split("/");if(f.length>1&&(l=f.slice(0,-1).join("/"),c=f.pop()),c){let d=c.match(/^\d+/);d&&(c=d[0])}return Sa({host:o,pass:r,path:l,projectId:c,port:s,protocol:n,publicKey:i})}function Sa(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Uu(e){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return;let{port:t,projectId:n,protocol:i}=e;if(["protocol","publicKey","host","projectId"].forEach(o=>{if(!e[o])throw new ot(`Invalid Sentry Dsn: ${o} missing`)}),!n.match(/^\d+$/))throw new ot(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!Hu(i))throw new ot(`Invalid Sentry Dsn: Invalid protocol ${i}`);if(t&&isNaN(parseInt(t,10)))throw new ot(`Invalid Sentry Dsn: Invalid port ${t}`);return!0}function mr(e){let t=typeof e=="string"?Ta(e):Sa(e);return Uu(t),t}var ju="Sentry Logger ",Gn=["debug","info","warn","error","log","assert","trace"];function gr(e){if(!("console"in At))return e();let t=At.console,n={};Gn.forEach(i=>{let r=t[i]&&t[i].__sentry_original__;i in t&&r&&(n[i]=t[i],t[i]=r)});try{return e()}finally{Object.keys(n).forEach(i=>{t[i]=n[i]})}}function Aa(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?Gn.forEach(n=>{t[n]=(...i)=>{e&&gr(()=>{At.console[n](`${ju}[${n}]:`,...i)})}}):Gn.forEach(n=>{t[n]=()=>{}}),t}var k;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?k=gn("logger",Aa):k=Aa();function Ye(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.substr(0,t)}...`}function _r(e,t){if(!Array.isArray(e))return"";let n=[];for(let i=0;i<e.length;i++){let r=e[i];try{n.push(String(r))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Na(e,t,n=!1){return Wt(e)?So(t)?t.test(e):Wt(t)?n?e===t:e.includes(t):!1:!1}function wi(e,t=[],n=!1){return t.some(i=>Na(e,i,n))}function mt(e,t,n){if(!(t in e))return;let i=e[t],r=n(i);if(typeof r=="function")try{Er(r,i)}catch{}e[t]=r}function zn(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function Er(e,t){let n=t.prototype||{};e.prototype=t.prototype=n,zn(e,"__sentry_original__",t)}function _n(e){return e.__sentry_original__}function Do(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function vr(e){if(yi(e))return{message:e.message,name:e.name,stack:e.stack,...Oa(e)};if(jn(e)){let t={type:e.type,target:Ca(e.target),currentTarget:Ca(e.currentTarget),...Oa(e)};return typeof CustomEvent<"u"&&Yt(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Ca(e){try{return To(e)?Fn(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Oa(e){if(typeof e=="object"&&e!==null){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Lo(e,t=40){let n=Object.keys(vr(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Ye(n[0],t);for(let i=n.length;i>0;i--){let r=n.slice(0,i).join(", ");if(!(r.length>t))return i===n.length?r:Ye(r,t)}return""}function Wn(e){return Oo(e,new Map)}function Oo(e,t){if(re(e)){let n=t.get(e);if(n!==void 0)return n;let i={};t.set(e,i);for(let r of Object.keys(e))typeof e[r]<"u"&&(i[r]=Oo(e[r],t));return i}if(Array.isArray(e)){let n=t.get(e);if(n!==void 0)return n;let i=[];return t.set(e,i),e.forEach(r=>{i.push(Oo(r,t))}),i}return e}function Io(e){let t,n=e[0],i=1;for(;i<e.length;){let r=e[i],o=e[i+1];if(i+=2,(r==="optionalAccess"||r==="optionalCall")&&n==null)return;r==="access"||r==="optionalAccess"?(t=n,n=o(n)):(r==="call"||r==="optionalCall")&&(n=o((...s)=>n.call(t,...s)),t=void 0)}return n}var Fu=50;function yr(...e){let t=e.sort((n,i)=>n[0]-i[0]).map(n=>n[1]);return(n,i=0)=>{let r=[];for(let o of n.split(`
`).slice(i)){if(o.length>1024)continue;let s=o.replace(/\(error: (.*)\)/,"$1");for(let a of t){let l=a(s);if(l){r.push(l);break}}}return Da(r)}}function Mo(e){return Array.isArray(e)?yr(...e):e}function Da(e){if(!e.length)return[];let t=e,n=t[0].function||"",i=t[t.length-1].function||"";return(n.indexOf("captureMessage")!==-1||n.indexOf("captureException")!==-1)&&(t=t.slice(1)),i.indexOf("sentryWrapped")!==-1&&(t=t.slice(0,-1)),t.slice(0,Fu).map(r=>({...r,filename:r.filename||t[0].filename,function:r.function||"?"})).reverse()}var Ro="<anonymous>";function Vt(e){try{return!e||typeof e!="function"?Ro:e.name||Ro}catch{return Ro}}var En=Se();function br(){if(!("fetch"in En))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function xi(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function ko(){if(!br())return!1;if(xi(En.fetch))return!0;let e=!1,t=En.document;if(t&&typeof t.createElement=="function")try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=xi(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function Po(){let e=En.chrome,t=e&&e.app&&e.app.runtime,n="history"in En&&!!En.history.pushState&&!!En.history.replaceState;return!t&&n}var et=Se(),Ti={},La={};function Gu(e){if(!La[e])switch(La[e]=!0,e){case"console":zu();break;case"dom":Zu();break;case"xhr":qu();break;case"fetch":Wu();break;case"history":Ku();break;case"error":tf();break;case"unhandledrejection":ef();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn("unknown instrumentation type:",e);return}}function qt(e,t){Ti[e]=Ti[e]||[],Ti[e].push(t),Gu(e)}function oe(e,t){if(!(!e||!Ti[e]))for(let n of Ti[e]||[])try{n(t)}catch(i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Vt(n)}
Error:`,i)}}function zu(){"console"in et&&Gn.forEach(function(e){e in et.console&&mt(et.console,e,function(t){return function(...n){oe("console",{args:n,level:e}),t&&t.apply(et.console,n)}})})}function Wu(){!ko()||mt(et,"fetch",function(e){return function(...t){let n={args:t,fetchData:{method:Yu(t),url:Vu(t)},startTimestamp:Date.now()};return oe("fetch",{...n}),e.apply(et,t).then(i=>(oe("fetch",{...n,endTimestamp:Date.now(),response:i}),i),i=>{throw oe("fetch",{...n,endTimestamp:Date.now(),error:i}),i})}})}function Yu(e=[]){return"Request"in et&&Yt(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function Vu(e=[]){return typeof e[0]=="string"?e[0]:"Request"in et&&Yt(e[0],Request)?e[0].url:String(e[0])}function qu(){if(!("XMLHttpRequest"in et))return;let e=XMLHttpRequest.prototype;mt(e,"open",function(t){return function(...n){let i=this,r=n[1],o=i.__sentry_xhr__={method:Wt(n[0])?n[0].toUpperCase():n[0],url:n[1]};Wt(r)&&o.method==="POST"&&r.match(/sentry_key/)&&(i.__sentry_own_request__=!0);let s=function(){if(i.readyState===4){try{o.status_code=i.status}catch{}oe("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:i})}};return"onreadystatechange"in i&&typeof i.onreadystatechange=="function"?mt(i,"onreadystatechange",function(a){return function(...l){return s(),a.apply(i,l)}}):i.addEventListener("readystatechange",s),t.apply(i,n)}}),mt(e,"send",function(t){return function(...n){return this.__sentry_xhr__&&n[0]!==void 0&&(this.__sentry_xhr__.body=n[0]),oe("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),t.apply(this,n)}})}var wr;function Ku(){if(!Po())return;let e=et.onpopstate;et.onpopstate=function(...n){let i=et.location.href,r=wr;if(wr=i,oe("history",{from:r,to:i}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...i){let r=i.length>2?i[2]:void 0;if(r){let o=wr,s=String(r);wr=s,oe("history",{from:o,to:s})}return n.apply(this,i)}}mt(et.history,"pushState",t),mt(et.history,"replaceState",t)}var Xu=1e3,xr,Tr;function Ju(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch{}return!1}function Qu(e){if(e.type!=="keypress")return!1;try{let t=e.target;if(!t||!t.tagName)return!0;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)return!1}catch{}return!0}function Ia(e,t=!1){return n=>{if(!n||Tr===n||Qu(n))return;let i=n.type==="keypress"?"input":n.type;xr===void 0?(e({event:n,name:i,global:t}),Tr=n):Ju(Tr,n)&&(e({event:n,name:i,global:t}),Tr=n),clearTimeout(xr),xr=et.setTimeout(()=>{xr=void 0},Xu)}}function Zu(){if(!("document"in et))return;let e=oe.bind(null,"dom"),t=Ia(e,!0);et.document.addEventListener("click",t,!1),et.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{let i=et[n]&&et[n].prototype;!i||!i.hasOwnProperty||!i.hasOwnProperty("addEventListener")||(mt(i,"addEventListener",function(r){return function(o,s,a){if(o==="click"||o=="keypress")try{let l=this,c=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},f=c[o]=c[o]||{refCount:0};if(!f.handler){let d=Ia(e);f.handler=d,r.call(this,o,d,a)}f.refCount++}catch{}return r.call(this,o,s,a)}}),mt(i,"removeEventListener",function(r){return function(o,s,a){if(o==="click"||o=="keypress")try{let l=this,c=l.__sentry_instrumentation_handlers__||{},f=c[o];f&&(f.refCount--,f.refCount<=0&&(r.call(this,o,f.handler,a),f.handler=void 0,delete c[o]),Object.keys(c).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return r.call(this,o,s,a)}}))})}var $o=null;function tf(){$o=et.onerror,et.onerror=function(e,t,n,i,r){return oe("error",{column:i,error:r,line:n,msg:e,url:t}),$o?$o.apply(this,arguments):!1}}var Bo=null;function ef(){Bo=et.onunhandledrejection,et.onunhandledrejection=function(e){return oe("unhandledrejection",e),Bo?Bo.apply(this,arguments):!0}}function Ra(){let e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(r){if(e)return t.has(r)?!0:(t.add(r),!1);for(let o=0;o<t.length;o++)if(t[o]===r)return!0;return t.push(r),!1}function i(r){if(e)t.delete(r);else for(let o=0;o<t.length;o++)if(t[o]===r){t.splice(o,1);break}}return[n,i]}function me(){let e=At,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");let n=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,i=>(i^(n()&15)>>i/4).toString(16))}function Ma(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function ge(e){let{message:t,event_id:n}=e;if(t)return t;let i=Ma(e);return i?i.type&&i.value?`${i.type}: ${i.value}`:i.type||i.value||n||"<unknown>":n||"<unknown>"}function Yn(e,t,n){let i=e.exception=e.exception||{},r=i.values=i.values||[],o=r[0]=r[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function Ae(e,t){let n=Ma(e);if(!n)return;let i={type:"generic",handled:!0},r=n.mechanism;if(n.mechanism={...i,...r,...t},t&&"data"in t){let o={...r&&r.data,...t.data};n.mechanism.data=o}}function Sr(e){if(e&&e.__sentry_captured__)return!0;try{zn(e,"__sentry_captured__",!0)}catch{}return!1}function Si(e){return Array.isArray(e)?e:[e]}function ka(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Ai(){return!ka()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Ho(e,t){return e.require(t)}function se(e,t=1/0,n=1/0){try{return Ar("",e,t,n)}catch(i){return{ERROR:`**non-serializable** (${i})`}}}function Nr(e,t=3,n=100*1024){let i=se(e,t);return of(i)>n?Nr(e,t-1,n):i}function Ar(e,t,n=1/0,i=1/0,r=Ra()){let[o,s]=r;if(t===null||["number","boolean","string"].includes(typeof t)&&!No(t))return t;let a=nf(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;if(n===0)return a.replace("object ","");if(o(t))return"[Circular ~]";let l=t;if(l&&typeof l.toJSON=="function")try{let g=l.toJSON();return Ar("",g,n-1,i,r)}catch{}let c=Array.isArray(t)?[]:{},f=0,d=vr(t);for(let g in d){if(!Object.prototype.hasOwnProperty.call(d,g))continue;if(f>=i){c[g]="[MaxProperties ~]";break}let E=d[g];c[g]=Ar(g,E,n-1,i,r),f++}return s(t),c}function nf(e,t){try{return e==="domain"&&t&&typeof t=="object"&&t._events?"[Domain]":e==="domainEmitter"?"[DomainEmitter]":typeof global<"u"&&t===global?"[Global]":typeof window<"u"&&t===window?"[Window]":typeof document<"u"&&t===document?"[Document]":Ao(t)?"[SyntheticEvent]":typeof t=="number"&&t!==t?"[NaN]":t===void 0?"[undefined]":typeof t=="function"?`[Function: ${Vt(t)}]`:typeof t=="symbol"?`[${String(t)}]`:typeof t=="bigint"?`[BigInt: ${String(t)}]`:`[object ${Object.getPrototypeOf(t).constructor.name}]`}catch(n){return`**non-serializable** (${n})`}}function rf(e){return~-encodeURI(e).split(/%..|./).length}function of(e){return rf(JSON.stringify(e))}var Ne;(function(e){e[e.PENDING=0]="PENDING";let n=1;e[e.RESOLVED=n]="RESOLVED";let i=2;e[e.REJECTED=i]="REJECTED"})(Ne||(Ne={}));function Pt(e){return new lt(t=>{t(e)})}function Ve(e){return new lt((t,n)=>{n(e)})}var lt=class{__init(){this._state=Ne.PENDING}__init2(){this._handlers=[]}constructor(t){lt.prototype.__init.call(this),lt.prototype.__init2.call(this),lt.prototype.__init3.call(this),lt.prototype.__init4.call(this),lt.prototype.__init5.call(this),lt.prototype.__init6.call(this);try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new lt((i,r)=>{this._handlers.push([!1,o=>{if(!t)i(o);else try{i(t(o))}catch(s){r(s)}},o=>{if(!n)r(o);else try{i(n(o))}catch(s){r(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new lt((n,i)=>{let r,o;return this.then(s=>{o=!1,r=s,t&&t()},s=>{o=!0,r=s,t&&t()}).then(()=>{if(o){i(r);return}n(r)})})}__init3(){this._resolve=t=>{this._setResult(Ne.RESOLVED,t)}}__init4(){this._reject=t=>{this._setResult(Ne.REJECTED,t)}}__init5(){this._setResult=(t,n)=>{if(this._state===Ne.PENDING){if(mn(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state===Ne.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Ne.RESOLVED&&n[1](this._value),this._state===Ne.REJECTED&&n[2](this._value),n[0]=!0)})}}};function Uo(e){let t=[];function n(){return e===void 0||t.length<e}function i(s){return t.splice(t.indexOf(s),1)[0]}function r(s){if(!n())return Ve(new ot("Not adding Promise because buffer limit was reached."));let a=s();return t.indexOf(a)===-1&&t.push(a),a.then(()=>i(a)).then(null,()=>i(a).then(null,()=>{})),a}function o(s){return new lt((a,l)=>{let c=t.length;if(!c)return a(!0);let f=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(d=>{Pt(d).then(()=>{--c||(clearTimeout(f),a(!0))},l)})})}return{$:t,add:r,drain:o}}function Ni(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",i=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+i}}var Pa=["fatal","error","warning","log","info","debug"];function jo(e){return e==="warn"?"warning":Pa.includes(e)?e:"log"}var Ba=Se(),Go={nowSeconds:()=>Date.now()/1e3};function sf(){let{performance:e}=Ba;if(!e||!e.now)return;let t=Date.now()-e.now();return{now:()=>e.now(),timeOrigin:t}}function af(){try{return Ho(module,"perf_hooks").performance}catch{return}}var Fo=Ai()?af():sf(),$a=Fo===void 0?Go:{nowSeconds:()=>(Fo.timeOrigin+Fo.now())/1e3},Ce=Go.nowSeconds.bind(Go),Cr=$a.nowSeconds.bind($a);var Ci,lf=(()=>{let{performance:e}=Ba;if(!e||!e.now){Ci="none";return}let t=3600*1e3,n=e.now(),i=Date.now(),r=e.timeOrigin?Math.abs(e.timeOrigin+n-i):t,o=r<t,s=e.timing&&e.timing.navigationStart,l=typeof s=="number"?Math.abs(s+n-i):t,c=l<t;return o||c?r<=l?(Ci="timeOrigin",e.timeOrigin):(Ci="navigationStart",s):(Ci="dateNow",i)})();function qe(e,t=[]){return[e,t]}function Wo(e,t){let[n,i]=e;return[n,[...i,t]]}function Or(e,t){e[1].forEach(i=>{let r=i[0].type;t(i,r)})}function zo(e,t){return(t||new TextEncoder).encode(e)}function Oi(e,t){let[n,i]=e,r=JSON.stringify(n);function o(s){typeof r=="string"?r=typeof s=="string"?r+s:[zo(r,t),s]:r.push(typeof s=="string"?zo(s,t):s)}for(let s of i){let[a,l]=s;if(o(`
${JSON.stringify(a)}
`),typeof l=="string"||l instanceof Uint8Array)o(l);else{let c;try{c=JSON.stringify(l)}catch{c=JSON.stringify(se(l))}o(c)}}return typeof r=="string"?r:cf(r)}function cf(e){let t=e.reduce((r,o)=>r+o.length,0),n=new Uint8Array(t),i=0;for(let r of e)n.set(r,i),i+=r.length;return n}function Yo(e,t){let n=typeof e.data=="string"?zo(e.data,t):e.data;return[Wn({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}var uf={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay_event",replay_recording:"replay_recording"};function Dr(e){return uf[e]}function Lr(e){if(!e||!e.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function Vo(e,t,n,i){let r=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&{dsn:We(i)},...e.type==="transaction"&&r&&{trace:Wn({...r})}}}function qo(e,t,n){let i=[{type:"client_report"},{timestamp:n||Ce(),discarded_events:e}];return qe(t?{dsn:t}:{},[i])}function Ha(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;let i=Date.parse(`${e}`);return isNaN(i)?6e4:i-t}function Ua(e,t){return e[t]||e.all||0}function Ko(e,t,n=Date.now()){return Ua(e,t)>n}function Xo(e,{statusCode:t,headers:n},i=Date.now()){let r={...e},o=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(o)for(let a of o.trim().split(",")){let[l,c]=a.split(":",2),f=parseInt(l,10),d=(isNaN(f)?60:f)*1e3;if(!c)r.all=i+d;else for(let g of c.split(";"))r[g]=i+d}else s?r.all=i+Ha(s,i):t===429&&(r.all=i+60*1e3);return r}function ja(e){let t=Cr(),n={sid:me(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>ff(n)};return e&&Oe(n,e),n}function Oe(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Cr(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:me()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Fa(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),Oe(e,n)}function ff(e){return Wn({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}var df=100,$t=class{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(t){let n=new $t;return t&&(n._breadcrumbs=[...t._breadcrumbs],n._tags={...t._tags},n._extra={...t._extra},n._contexts={...t._contexts},n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=[...t._eventProcessors],n._requestSession=t._requestSession,n._attachments=[...t._attachments],n._sdkProcessingMetadata={...t._sdkProcessingMetadata}),n}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&Oe(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if(typeof t=="function"){let n=t(this);return n instanceof $t?n:this}return t instanceof $t?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):re(t)&&(t=t,this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(t,n){let i=typeof n=="number"?n:df;if(i<=0)return this;let r={timestamp:Ce(),...t};return this._breadcrumbs=[...this._breadcrumbs,r].slice(-i),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,n={}){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};let i=this._span.transaction&&this._span.transaction.name;i&&(t.tags={transaction:i,...t.tags})}return this._applyFingerprint(t),t.breadcrumbs=[...t.breadcrumbs||[],...this._breadcrumbs],t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...Ga(),...this._eventProcessors],t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}_notifyEventProcessors(t,n,i,r=0){return new lt((o,s)=>{let a=t[r];if(n===null||typeof a!="function")o(n);else{let l=a({...n},i);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&a.id&&l===null&&k.log(`Event processor "${a.id}" dropped event`),mn(l)?l.then(c=>this._notifyEventProcessors(t,c,i,r+1).then(o)).then(null,s):this._notifyEventProcessors(t,l,i,r+1).then(o).then(null,s)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?Si(t.fingerprint):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}};function Ga(){return gn("globalEventProcessors",()=>[])}function Ke(e){Ga().push(e)}var Jo=4,hf=100,De=class{__init(){this._stack=[{}]}constructor(t,n=new $t,i=Jo){this._version=i,De.prototype.__init.call(this),this.getStackTop().scope=n,t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){let n=this.getStackTop();n.client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){let t=$t.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){let n=this.pushScope();try{t(n)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){let i=this._lastEventId=n&&n.event_id?n.event_id:me(),r=new Error("Sentry syntheticException");return this._withClient((o,s)=>{o.captureException(t,{originalException:t,syntheticException:r,...n,event_id:i},s)}),i}captureMessage(t,n,i){let r=this._lastEventId=i&&i.event_id?i.event_id:me(),o=new Error(t);return this._withClient((s,a)=>{s.captureMessage(t,n,{originalException:t,syntheticException:o,...i,event_id:r},a)}),r}captureEvent(t,n){let i=n&&n.event_id?n.event_id:me();return t.type||(this._lastEventId=i),this._withClient((r,o)=>{r.captureEvent(t,{...n,event_id:i},o)}),i}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){let{scope:i,client:r}=this.getStackTop();if(!i||!r)return;let{beforeBreadcrumb:o=null,maxBreadcrumbs:s=hf}=r.getOptions&&r.getOptions()||{};if(s<=0)return;let l={timestamp:Ce(),...t},c=o?gr(()=>o(l,n)):l;c!==null&&i.addBreadcrumb(c,s)}setUser(t){let n=this.getScope();n&&n.setUser(t)}setTags(t){let n=this.getScope();n&&n.setTags(t)}setExtras(t){let n=this.getScope();n&&n.setExtras(t)}setTag(t,n){let i=this.getScope();i&&i.setTag(t,n)}setExtra(t,n){let i=this.getScope();i&&i.setExtra(t,n)}setContext(t,n){let i=this.getScope();i&&i.setContext(t,n)}configureScope(t){let{scope:n,client:i}=this.getStackTop();n&&i&&t(n)}run(t){let n=Ir(this);try{t(this)}finally{Ir(n)}}getIntegration(t){let n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){return this._callExtensionMethod("startTransaction",t,n)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){let t=this.getStackTop(),n=t&&t.scope,i=n&&n.getSession();i&&Fa(i),this._sendSessionUpdate(),n&&n.setSession()}startSession(t){let{scope:n,client:i}=this.getStackTop(),{release:r,environment:o}=i&&i.getOptions()||{},{userAgent:s}=At.navigator||{},a=ja({release:r,environment:o,...n&&{user:n.getUser()},...s&&{userAgent:s},...t});if(n){let l=n.getSession&&n.getSession();l&&l.status==="ok"&&Oe(l,{status:"exited"}),this.endSession(),n.setSession(a)}return a}shouldSendDefaultPii(){let t=this.getClient(),n=t&&t.getOptions();return Boolean(n&&n.sendDefaultPii)}_sendSessionUpdate(){let{scope:t,client:n}=this.getStackTop();if(!t)return;let i=t.getSession();i&&n&&n.captureSession&&n.captureSession(i)}_withClient(t){let{scope:n,client:i}=this.getStackTop();i&&t(i,n)}_callExtensionMethod(t,...n){let r=Di().__SENTRY__;if(r&&r.extensions&&typeof r.extensions[t]=="function")return r.extensions[t].apply(this,n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn(`Extension method ${t} couldn't be found, doing nothing.`)}};function Di(){return At.__SENTRY__=At.__SENTRY__||{extensions:{},hub:void 0},At}function Ir(e){let t=Di(),n=_e(t);return Rr(t,e),n}function Y(){let e=Di();return(!za(e)||_e(e).isOlderThan(Jo))&&Rr(e,new De),Ai()?pf(e):_e(e)}function pf(e){try{let t=Di().__SENTRY__,n=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!n)return _e(e);if(!za(n)||_e(n).isOlderThan(Jo)){let i=_e(e).getStackTop();Rr(n,new De(i.client,$t.clone(i.scope)))}return _e(n)}catch{return _e(e)}}function za(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function _e(e){return gn("hub",()=>new De,e)}function Rr(e,t){if(!e)return!1;let n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function Vn(e,t){return Y().captureException(e,{captureContext:t})}function Mr(e,t){let n=typeof t=="string"?t:void 0,i=typeof t!="string"?{captureContext:t}:void 0;return Y().captureMessage(e,n,i)}function kr(e){Y().withScope(e)}var mf="7";function gf(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function _f(e){return`${gf(e)}${e.projectId}/envelope/`}function Ef(e,t){return Do({sentry_key:e.publicKey,sentry_version:mf,...t&&{sentry_client:`${t.name}/${t.version}`}})}function Li(e,t={}){let n=typeof t=="string"?t:t.tunnel,i=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${_f(e)}?${Ef(e,i)}`}function vf(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Wa(e,t,n,i){let r=Lr(n),o={sent_at:new Date().toISOString(),...r&&{sdk:r},...!!i&&{dsn:We(t)}},s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e];return qe(o,[s])}function Ya(e,t,n,i){let r=Lr(n),o=e.type&&e.type!=="replay_event"?e.type:"event";vf(e,n&&n.sdk);let s=Vo(e,r,i,t);return delete e.sdkProcessingMetadata,qe(s,[[{type:o},e]])}var Va=[];function yf(e){let t={};return e.forEach(n=>{let{name:i}=n,r=t[i];r&&!r.isDefaultInstance&&n.isDefaultInstance||(t[i]=n)}),Object.values(t)}function Qo(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let i;Array.isArray(n)?i=[...t,...n]:typeof n=="function"?i=Si(n(t)):i=t;let r=yf(i),o=r.findIndex(s=>s.name==="Debug");if(o!==-1){let[s]=r.splice(o,1);r.push(s)}return r}function qa(e){let t={};return e.forEach(n=>{Zo(n,t)}),t}function Zo(e,t){t[e.name]=e,Va.indexOf(e.name)===-1&&(e.setupOnce(Ke,Y),Va.push(e.name),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.log(`Integration installed: ${e.name}`))}function Ka(e,t,n,i){let{normalizeDepth:r=3,normalizeMaxBreadth:o=1e3}=e,s={...t,event_id:t.event_id||n.event_id||me(),timestamp:t.timestamp||Ce()};bf(s,e),wf(s,e.integrations.map(c=>c.name));let a=i;n.captureContext&&(a=$t.clone(a).update(n.captureContext));let l=Pt(s);if(a){if(a.getAttachments){let c=[...n.attachments||[],...a.getAttachments()];c.length&&(n.attachments=c)}l=a.applyToEvent(s,n)}return l.then(c=>typeof r=="number"&&r>0?xf(c,r,o):c)}function bf(e,t){let{environment:n,release:i,dist:r,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?n:"production"),e.release===void 0&&i!==void 0&&(e.release=i),e.dist===void 0&&r!==void 0&&(e.dist=r),e.message&&(e.message=Ye(e.message,o));let s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=Ye(s.value,o));let a=e.request;a&&a.url&&(a.url=Ye(a.url,o))}function wf(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function xf(e,t,n){if(!e)return null;let i={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(r=>({...r,...r.data&&{data:se(r.data,t,n)}}))},...e.user&&{user:se(e.user,t,n)},...e.contexts&&{contexts:se(e.contexts,t,n)},...e.extra&&{extra:se(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&i.contexts&&(i.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(i.contexts.trace.data=se(e.contexts.trace.data,t,n))),e.spans&&(i.spans=e.spans.map(r=>(r.data&&(r.data=se(r.data,t,n)),r))),i}var Xa="Not capturing exception because it's already been captured.",Ee=class{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(t){if(Ee.prototype.__init.call(this),Ee.prototype.__init2.call(this),Ee.prototype.__init3.call(this),Ee.prototype.__init4.call(this),this._options=t,t.dsn){this._dsn=mr(t.dsn);let n=Li(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn("No DSN provided, client will not do anything.")}captureException(t,n,i){if(Sr(t)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.log(Xa);return}let r=n&&n.event_id;return this._process(this.eventFromException(t,n).then(o=>this._captureEvent(o,n,i)).then(o=>{r=o})),r}captureMessage(t,n,i,r){let o=i&&i.event_id,s=Un(t)?this.eventFromMessage(String(t),n,i):this.eventFromException(t,i);return this._process(s.then(a=>this._captureEvent(a,i,r)).then(a=>{o=a})),o}captureEvent(t,n,i){if(n&&n.originalException&&Sr(n.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.log(Xa);return}let r=n&&n.event_id;return this._process(this._captureEvent(t,n,i).then(o=>{r=o})),r}captureSession(t){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn("SDK not enabled, will not capture session.");return}typeof t.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Oe(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let n=this._transport;return n?this._isClientDoneProcessing(t).then(i=>n.flush(t).then(r=>i&&r)):Pt(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,n))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=qa(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){Zo(t,this._integrations)}sendEvent(t,n={}){if(this._dsn){let i=Ya(t,this._dsn,this._options._metadata,this._options.tunnel);for(let r of n.attachments||[])i=Wo(i,Yo(r,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(i)}}sendSession(t){if(this._dsn){let n=Wa(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}}recordDroppedEvent(t,n,i){if(this._options.sendClientReports){let r=`${t}:${n}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.log(`Adding outcome: "${r}"`),this._outcomes[r]=this._outcomes[r]+1||1}}_updateSessionFromEvent(t,n){let i=!1,r=!1,o=n.exception&&n.exception.values;if(o){r=!0;for(let l of o){let c=l.mechanism;if(c&&c.handled===!1){i=!0;break}}}let s=t.status==="ok";(s&&t.errors===0||s&&i)&&(Oe(t,{...i&&{status:"crashed"},errors:t.errors||Number(r||i)}),this.captureSession(t))}_isClientDoneProcessing(t){return new lt(n=>{let i=0,r=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(i+=r,t&&i>=t&&(clearInterval(o),n(!1)))},r)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(t,n,i){let r=this.getOptions();return Ka(r,t,n,i)}_captureEvent(t,n={},i){return this._processEvent(t,n,i).then(r=>r.event_id,r=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){let o=r;o.logLevel==="log"?k.log(o.message):k.warn(o)}})}_processEvent(t,n,i){let r=this.getOptions(),{sampleRate:o}=r;if(!this._isEnabled())return Ve(new ot("SDK not enabled, will not capture event.","log"));let s=Qa(t),a=Ja(t),l=t.type||"error",c=`before send for type \`${l}\``;return a&&typeof o=="number"&&Math.random()>o?(this.recordDroppedEvent("sample_rate","error",t),Ve(new ot(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"))):this._prepareEvent(t,n,i).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",l,t),new ot("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return f;let g=Sf(r,f,n);return Tf(g,c)}).then(f=>{if(f===null)throw this.recordDroppedEvent("before_send",t.type||"error",t),new ot(`${c} returned \`null\`, will not send event.`,"log");let d=i&&i.getSession();!s&&d&&this._updateSessionFromEvent(d,f);let g=f.transaction_info;if(s&&g&&f.transaction!==t.transaction){let E="custom";f.transaction_info={...g,source:E,changes:[...g.changes,{source:E,timestamp:f.timestamp,propagations:g.propagations}]}}return this.sendEvent(f,n),f}).then(null,f=>{throw f instanceof ot?f:(this.captureException(f,{data:{__sentry__:!0},originalException:f}),new ot(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(t){this._transport&&this._dsn?this._transport.send(t).then(null,n=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.error("Error while sending event:",n)}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.error("Transport disabled")}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{let[i,r]=n.split(":");return{reason:i,category:r,quantity:t[n]}})}};function Tf(e,t){let n=`${t} must return \`null\` or a valid event.`;if(mn(e))return e.then(i=>{if(!re(i)&&i!==null)throw new ot(n);return i},i=>{throw new ot(`${t} rejected with ${i}`)});if(!re(e)&&e!==null)throw new ot(n);return e}function Sf(e,t,n){let{beforeSend:i,beforeSendTransaction:r}=e;return Ja(t)&&i?i(t,n):Qa(t)&&r?r(t,n):t}function Ja(e){return e.type===void 0}function Qa(e){return e.type==="transaction"}function ts(e,t){t.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?k.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));let n=Y(),i=n.getScope();i&&i.update(t.initialScope);let r=new e(t);n.bindClient(r)}var Af=30;function qn(e,t,n=Uo(e.bufferSize||Af)){let i={},r=s=>n.drain(s);function o(s){let a=[];if(Or(s,(d,g)=>{let E=Dr(g);if(Ko(i,E)){let x=Za(d,g);e.recordDroppedEvent("ratelimit_backoff",E,x)}else a.push(d)}),a.length===0)return Pt();let l=qe(s[0],a),c=d=>{Or(l,(g,E)=>{let x=Za(g,E);e.recordDroppedEvent(d,Dr(E),x)})},f=()=>t({body:Oi(l,e.textEncoder)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),i=Xo(i,d),d),d=>{throw c("network_error"),d});return n.add(f).then(d=>d,d=>{if(d instanceof ot)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.error("Skipped sending event because buffer is full."),c("queue_overflow"),Pt();throw d})}return{send:o,flush:r}}function Za(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}var Ii="7.30.0";var vn={};dr(vn,{FunctionToString:()=>Le,InboundFilters:()=>ve});var tl,Le=class{constructor(){Le.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=Le.id}setupOnce(){tl=Function.prototype.toString,Function.prototype.toString=function(...t){let n=_n(this)||this;return tl.apply(n,t)}}};Le.__initStatic();var Nf=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],ve=class{static __initStatic(){this.id="InboundFilters"}__init(){this.name=ve.id}constructor(t={}){this._options=t,ve.prototype.__init.call(this)}setupOnce(t,n){let i=r=>{let o=n();if(o){let s=o.getIntegration(ve);if(s){let a=o.getClient(),l=a?a.getOptions():{},c=Cf(s._options,l);return Of(r,c)?null:r}}return r};i.id=this.name,t(i)}};ve.__initStatic();function Cf(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...Nf],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function Of(e,t){return t.ignoreInternal&&Mf(e)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn(`Event dropped due to being internal Sentry Error.
Event: ${ge(e)}`),!0):Df(e,t.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${ge(e)}`),!0):Lf(e,t.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${ge(e)}.
Url: ${Pr(e)}`),!0):If(e,t.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${ge(e)}.
Url: ${Pr(e)}`),!0)}function Df(e,t){return!t||!t.length?!1:Rf(e).some(n=>wi(n,t))}function Lf(e,t){if(!t||!t.length)return!1;let n=Pr(e);return n?wi(n,t):!1}function If(e,t){if(!t||!t.length)return!0;let n=Pr(e);return n?wi(n,t):!0}function Rf(e){if(e.message)return[e.message];if(e.exception)try{let{type:t="",value:n=""}=e.exception.values&&e.exception.values[0]||{};return[`${n}`,`${t}: ${n}`]}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.error(`Cannot extract message for event ${ge(e)}`),[]}return[]}function Mf(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function kf(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Pr(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?kf(t):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.error(`Cannot extract url for event ${ge(e)}`),null}}var U=At,es=0;function ns(){return es>0}function Vf(){es++,setTimeout(()=>{es--})}function Xe(e,t={},n){if(typeof e!="function")return e;try{let r=e.__sentry_wrapped__;if(r)return r;if(_n(e))return e}catch{return e}let i=function(){let r=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);let o=r.map(s=>Xe(s,t));return e.apply(this,o)}catch(o){throw Vf(),kr(s=>{s.addEventProcessor(a=>(t.mechanism&&(Yn(a,void 0,void 0),Ae(a,t.mechanism)),a.extra={...a.extra,arguments:r},a)),Vn(o)}),o}};try{for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}catch{}Er(i,e),zn(e,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get(){return e.name}})}catch{}return i}function os(e,t){let n=ss(e,t),i={type:t&&t.name,value:Jf(t)};return n.length&&(i.stacktrace={frames:n}),i.type===void 0&&i.value===""&&(i.value="Unrecoverable error caught"),i}function qf(e,t,n,i){let o=Y().getClient(),s=o&&o.getOptions().normalizeDepth,a={exception:{values:[{type:jn(t)?t.constructor.name:i?"UnhandledRejection":"Error",value:`Non-Error ${i?"promise rejection":"exception"} captured with keys: ${Lo(t)}`}]},extra:{__serialized__:Nr(t,s)}};if(n){let l=ss(e,n);l.length&&(a.exception.values[0].stacktrace={frames:l})}return a}function is(e,t){return{exception:{values:[os(e,t)]}}}function ss(e,t){let n=t.stacktrace||t.stack||"",i=Xf(t);try{return e(n,i)}catch{}return[]}var Kf=/Minified React error #\d+;/i;function Xf(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(Kf.test(e.message))return 1}return 0}function Jf(e){let t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function el(e,t,n,i){let r=n&&n.syntheticException||void 0,o=$r(e,t,r,i);return Ae(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),Pt(o)}function nl(e,t,n="info",i,r){let o=i&&i.syntheticException||void 0,s=rs(e,t,o,r);return s.level=n,i&&i.event_id&&(s.event_id=i.event_id),Pt(s)}function $r(e,t,n,i,r){let o;if(bi(t)&&t.error)return is(e,t.error);if(hr(t)||xo(t)){let s=t;if("stack"in t)o=is(e,t);else{let a=s.name||(hr(s)?"DOMError":"DOMException"),l=s.message?`${a}: ${s.message}`:a;o=rs(e,l,n,i),Yn(o,l)}return"code"in s&&(o.tags={...o.tags,"DOMException.code":`${s.code}`}),o}return yi(t)?is(e,t):re(t)||jn(t)?(o=qf(e,t,n,r),Ae(o,{synthetic:!0}),o):(o=rs(e,t,n,i),Yn(o,`${t}`,void 0),Ae(o,{synthetic:!0}),o)}function rs(e,t,n,i){let r={message:t};if(i&&n){let o=ss(e,n);o.length&&(r.exception={values:[{value:t,stacktrace:{frames:o}}]})}return r}var Br=1024,as="Breadcrumbs",ye=class{static __initStatic(){this.id=as}__init(){this.name=ye.id}constructor(t){ye.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t}}setupOnce(){this.options.console&&qt("console",Zf),this.options.dom&&qt("dom",Qf(this.options.dom)),this.options.xhr&&qt("xhr",td),this.options.fetch&&qt("fetch",ed),this.options.history&&qt("history",nd)}addSentryBreadcrumb(t){this.options.sentry&&Y().addBreadcrumb({category:`sentry.${t.type==="transaction"?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:ge(t)},{event:t})}};ye.__initStatic();function Qf(e){function t(n){let i,r=typeof e=="object"?e.serializeAttribute:void 0,o=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;o&&o>Br&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn(`\`dom.maxStringLength\` cannot exceed ${Br}, but a value of ${o} was configured. Sentry will use ${Br} instead.`),o=Br),typeof r=="string"&&(r=[r]);try{i=n.event.target?Fn(n.event.target,{keyAttrs:r,maxStringLength:o}):Fn(n.event,{keyAttrs:r,maxStringLength:o})}catch{i="<unknown>"}i.length!==0&&Y().addBreadcrumb({category:`ui.${n.name}`,message:i},{event:n.event,name:n.name,global:n.global})}return t}function Zf(e){for(let n=0;n<e.args.length;n++)if(e.args[n]==="ref=Ref<"){e.args[n+1]="viewRef";break}let t={category:"console",data:{arguments:e.args,logger:"console"},level:jo(e.level),message:_r(e.args," ")};if(e.level==="assert")if(e.args[0]===!1)t.message=`Assertion failed: ${_r(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1);else return;Y().addBreadcrumb(t,{input:e.args,level:e.level})}function td(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;let{method:t,url:n,status_code:i,body:r}=e.xhr.__sentry_xhr__||{};Y().addBreadcrumb({category:"xhr",data:{method:t,url:n,status_code:i},type:"http"},{xhr:e.xhr,input:r});return}}function ed(e){!e.endTimestamp||e.fetchData.url.match(/sentry_key/)&&e.fetchData.method==="POST"||(e.error?Y().addBreadcrumb({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args}):Y().addBreadcrumb({category:"fetch",data:{...e.fetchData,status_code:e.response.status},type:"http"},{input:e.args,response:e.response}))}function nd(e){let t=e.from,n=e.to,i=Ni(U.location.href),r=Ni(t),o=Ni(n);r.path||(r=i),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),i.protocol===r.protocol&&i.host===r.host&&(t=r.relative),Y().addBreadcrumb({category:"navigation",data:{from:t,to:n}})}var Hr=class extends Ee{constructor(t){t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:Ii}],version:Ii},super(t),t.sendClientReports&&U.document&&U.document.addEventListener("visibilitychange",()=>{U.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return el(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",i){return nl(this._options.stackParser,t,n,i,this._options.attachStacktrace)}sendEvent(t,n){let i=this.getIntegrationById(as);Io([i,"optionalAccess",r=>r.addSentryBreadcrumb,"optionalCall",r=>r(t)]),super.sendEvent(t,n)}_prepareEvent(t,n,i){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,i)}_flushOutcomes(){let t=this._clearOutcomes();if(t.length===0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.log("Sending outcomes:",t);let n=Li(this._dsn,this._options),i=qo(t,this._options.tunnel&&We(this._dsn));try{Object.prototype.toString.call(U&&U.navigator)==="[object Navigator]"&&typeof U.navigator.sendBeacon=="function"&&!this._options.transportOptions?U.navigator.sendBeacon.bind(U.navigator)(n,Oi(i)):this._sendEnvelope(i)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.error(r)}}};var Ri;function il(){if(Ri)return Ri;if(xi(U.fetch))return Ri=U.fetch.bind(U);let e=U.document,t=U.fetch;if(e&&typeof e.createElement=="function")try{let n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);let i=n.contentWindow;i&&i.fetch&&(t=i.fetch),e.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return Ri=t.bind(U)}function rl(){Ri=void 0}function ol(e,t=il()){function n(i){let r={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:i.body.length<=65536,...e.fetchOptions};try{return t(e.url,r).then(o=>({statusCode:o.status,headers:{"x-sentry-rate-limits":o.headers.get("X-Sentry-Rate-Limits"),"retry-after":o.headers.get("Retry-After")}}))}catch(o){return rl(),Ve(o)}}return qn(e,n)}var id=4;function sl(e){function t(n){return new lt((i,r)=>{let o=new XMLHttpRequest;o.onerror=r,o.onreadystatechange=()=>{o.readyState===id&&i({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",e.url);for(let s in e.headers)Object.prototype.hasOwnProperty.call(e.headers,s)&&o.setRequestHeader(s,e.headers[s]);o.send(n.body)})}return qn(e,t)}var Ur="?";var rd=30,od=40,sd=50;function ls(e,t,n,i){let r={filename:e,function:t,in_app:!0};return n!==void 0&&(r.lineno=n),i!==void 0&&(r.colno=i),r}var ad=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ld=/\((\S*)(?::(\d+))(?::(\d+))\)/,cd=e=>{let t=ad.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){let o=ld.exec(t[2]);o&&(t[2]=o[1],t[3]=o[2],t[4]=o[3])}let[i,r]=ll(t[1]||Ur,t[2]);return ls(r,i,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},ud=[rd,cd],fd=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,dd=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,hd=e=>{let t=fd.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let o=dd.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let i=t[3],r=t[1]||Ur;return[r,i]=ll(r,i),ls(i,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},pd=[sd,hd],md=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,gd=e=>{let t=md.exec(e);return t?ls(t[2],t[1]||Ur,+t[3],t[4]?+t[4]:void 0):void 0},_d=[od,gd];var Ed=[ud,pd,_d],al=yr(...Ed),ll=(e,t)=>{let n=e.indexOf("safari-extension")!==-1,i=e.indexOf("safari-web-extension")!==-1;return n||i?[e.indexOf("@")!==-1?e.split("@")[0]:Ur,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};var cs={};dr(cs,{Breadcrumbs:()=>ye,Dedupe:()=>ce,GlobalHandlers:()=>Ut,HttpContext:()=>le,LinkedErrors:()=>ae,TryCatch:()=>be});var Ut=class{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=Ut.id}__init2(){this._installFunc={onerror:vd,onunhandledrejection:yd}}constructor(t){Ut.prototype.__init.call(this),Ut.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...t}}setupOnce(){Error.stackTraceLimit=50;let t=this._options;for(let n in t){let i=this._installFunc[n];i&&t[n]&&(xd(n),i(),this._installFunc[n]=void 0)}}};Ut.__initStatic();function vd(){qt("error",e=>{let[t,n,i]=fl();if(!t.getIntegration(Ut))return;let{msg:r,url:o,line:s,column:a,error:l}=e;if(ns()||l&&l.__sentry_own_request__)return;let c=l===void 0&&Wt(r)?wd(r,o,s,a):cl($r(n,l||r,void 0,i,!1),o,s,a);c.level="error",ul(t,l,c,"onerror")})}function yd(){qt("unhandledrejection",e=>{let[t,n,i]=fl();if(!t.getIntegration(Ut))return;let r=e;try{"reason"in e?r=e.reason:"detail"in e&&"reason"in e.detail&&(r=e.detail.reason)}catch{}if(ns()||r&&r.__sentry_own_request__)return!0;let o=Un(r)?bd(r):$r(n,r,void 0,i,!0);o.level="error",ul(t,r,o,"onunhandledrejection")})}function bd(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function wd(e,t,n,i){let r=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,o=bi(e)?e.message:e,s="Error",a=o.match(r);return a&&(s=a[1],o=a[2]),cl({exception:{values:[{type:s,value:o}]}},t,n,i)}function cl(e,t,n,i){let r=e.exception=e.exception||{},o=r.values=r.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(i,10))?void 0:i,f=isNaN(parseInt(n,10))?void 0:n,d=Wt(t)&&t.length>0?t:Co();return l.length===0&&l.push({colno:c,filename:d,function:"?",in_app:!0,lineno:f}),e}function xd(e){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.log(`Global Handler attached: ${e}`)}function ul(e,t,n,i){Ae(n,{handled:!1,type:i}),e.captureEvent(n,{originalException:t})}function fl(){let e=Y(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}var Td=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],be=class{static __initStatic(){this.id="TryCatch"}__init(){this.name=be.id}constructor(t){be.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t}}setupOnce(){this._options.setTimeout&&mt(U,"setTimeout",dl),this._options.setInterval&&mt(U,"setInterval",dl),this._options.requestAnimationFrame&&mt(U,"requestAnimationFrame",Sd),this._options.XMLHttpRequest&&"XMLHttpRequest"in U&&mt(XMLHttpRequest.prototype,"send",Ad);let t=this._options.eventTarget;t&&(Array.isArray(t)?t:Td).forEach(Nd)}};be.__initStatic();function dl(e){return function(...t){let n=t[0];return t[0]=Xe(n,{mechanism:{data:{function:Vt(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function Sd(e){return function(t){return e.apply(this,[Xe(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Vt(e)},handled:!0,type:"instrument"}})])}}function Ad(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&mt(n,r,function(o){let s={mechanism:{data:{function:r,handler:Vt(o)},handled:!0,type:"instrument"}},a=_n(o);return a&&(s.mechanism.data.handler=Vt(a)),Xe(o,s)})}),e.apply(this,t)}}function Nd(e){let t=U,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(mt(n,"addEventListener",function(i){return function(r,o,s){try{typeof o.handleEvent=="function"&&(o.handleEvent=Xe(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Vt(o),target:e},handled:!0,type:"instrument"}}))}catch{}return i.apply(this,[r,Xe(o,{mechanism:{data:{function:"addEventListener",handler:Vt(o),target:e},handled:!0,type:"instrument"}}),s])}}),mt(n,"removeEventListener",function(i){return function(r,o,s){let a=o;try{let l=a&&a.__sentry_wrapped__;l&&i.call(this,r,l,s)}catch{}return i.call(this,r,a,s)}}))}var Cd="cause",Od=5,ae=class{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=ae.id}constructor(t={}){ae.prototype.__init.call(this),this._key=t.key||Cd,this._limit=t.limit||Od}setupOnce(){let t=Y().getClient();!t||Ke((n,i)=>{let r=Y().getIntegration(ae);return r?Dd(t.getOptions().stackParser,r._key,r._limit,n,i):n})}};ae.__initStatic();function Dd(e,t,n,i,r){if(!i.exception||!i.exception.values||!r||!Yt(r.originalException,Error))return i;let o=hl(e,n,r.originalException,t);return i.exception.values=[...o,...i.exception.values],i}function hl(e,t,n,i,r=[]){if(!Yt(n[i],Error)||r.length+1>=t)return r;let o=os(e,n[i]);return hl(e,t,n[i],i,[o,...r])}var le=class{constructor(){le.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=le.id}setupOnce(){Ke(t=>{if(Y().getIntegration(le)){if(!U.navigator&&!U.location&&!U.document)return t;let n=t.request&&t.request.url||U.location&&U.location.href,{referrer:i}=U.document||{},{userAgent:r}=U.navigator||{},o={...t.request&&t.request.headers,...i&&{Referer:i},...r&&{"User-Agent":r}},s={...t.request,...n&&{url:n},headers:o};return{...t,request:s}}return t})}};le.__initStatic();var ce=class{constructor(){ce.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=ce.id}setupOnce(t,n){let i=r=>{let o=n().getIntegration(ce);if(o){try{if(Ld(r,o._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return o._previousEvent=r}return o._previousEvent=r}return r};i.id=this.name,t(i)}};ce.__initStatic();function Ld(e,t){return t?!!(Id(e,t)||Rd(e,t)):!1}function Id(e,t){let n=e.message,i=t.message;return!(!n&&!i||n&&!i||!n&&i||n!==i||!_l(e,t)||!gl(e,t))}function Rd(e,t){let n=pl(t),i=pl(e);return!(!n||!i||n.type!==i.type||n.value!==i.value||!_l(e,t)||!gl(e,t))}function gl(e,t){let n=ml(e),i=ml(t);if(!n&&!i)return!0;if(n&&!i||!n&&i||(n=n,i=i,i.length!==n.length))return!1;for(let r=0;r<i.length;r++){let o=i[r],s=n[r];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0}function _l(e,t){let n=e.fingerprint,i=t.fingerprint;if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;n=n,i=i;try{return n.join("")===i.join("")}catch{return!1}}function pl(e){return e.exception&&e.exception.values&&e.exception.values[0]}function ml(e){let t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}var vl=[new vn.InboundFilters,new vn.FunctionToString,new be,new ye,new Ut,new ae,new ce,new le];function us(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=vl),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),U.SENTRY_RELEASE&&U.SENTRY_RELEASE.id&&(e.release=U.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);let t={...e,stackParser:Mo(e.stackParser||al),integrations:Qo(e),transport:e.transport||(br()?ol:sl)};ts(Hr,t),e.autoSessionTracking&&Md()}function El(e){e.startSession({ignoreDuration:!0}),e.captureSession()}function Md(){if(typeof U.document>"u"){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}let e=Y();!e.captureSession||(El(e),qt("history",({from:t,to:n})=>{t===void 0||t===n||El(Y())}))}var yl={};U.Sentry&&U.Sentry.Integrations&&(yl=U.Sentry.Integrations);var Pw={...yl,...vn,...cs};var gt={name:"__MSG_appName__",description:"__MSG_appDesc__",short_name:"__MSG_appShortName_",homepage_url:"https://betterpreviews.com/",__package_name__:"search-preview","__comment:version__":"Firefox does not support leading zeros in versions",version:"24.03.08",__sentry_dsn__:"https://bf0a1e40a1784502aad701a201efdf08@o526305.ingest.sentry.io/4504743520436224",__measurement_id__:"G-XN737SN9S2",__ga_api_secret__:"zigXBV_3TjyIjkXuSPjo8w",manifest_version:3,default_locale:"en",author:"Justice Ogbonna",permissions:["storage","declarativeNetRequest","contextMenus","cookies","activeTab"],declarative_net_request:{rule_resources:[{id:"ruleset_1",enabled:!0,path:"assets/rules.json"}]},host_permissions:["*://*/*"],action:{default_icon:{"16":"assets/logo-16x16.png","24":"assets/logo-24x24.png","32":"assets/logo-32x32.png"},default_title:"Search Preview"},icons:{"16":"assets/logo-16x16.png","32":"assets/logo-32x32.png","48":"assets/logo-48x48.png","128":"assets/logo-128x128.png"},content_scripts:[{matches:["http://*/*","https://*/*"],all_frames:!0,js:["content-script/content-script.js"],css:["content-script/content-script.css"]}],background:{__chrome__service_worker:"background-script/service-worker.js",__firefox__scripts:["background-script/service-worker.js"]},side_panel:{default_path:"sidepanel/side-panel.html"},options_page:"options-page/options.html",web_accessible_resources:[{resources:["assets/logo-24x24.png"],matches:["<all_urls>"]},{resources:["options-page/options.html"],matches:["<all_urls>"]},{resources:["welcome/my-element.js"],matches:["<all_urls>"]},{resources:["content-script/floatie/tooltip.js"],matches:["<all_urls>"]}],__firefox__key:"",__firefox__browser_specific_settings:{gecko:{id:"search-preview@essentialkit.org"}}};var bl=gt.__package_name__,Nt=class{constructor(t){this.tag="";this.debug=(...t)=>this.internalLog(3,...t);this.log=(...t)=>this.internalLog(2,...t);this.warn=(...t)=>this.internalLog(1,...t);this.error=(...t)=>this.internalLog(0,...t);this.tag=bl+"."+(typeof t=="string"?t:t.constructor.name),IS_DEV_BUILD||this.initSentry(),this.listenForBgLogs()}initSentry(){us({dsn:gt.__sentry_dsn__,tracesSampleRate:.1,release:bl+"@"+gt.version,environment:"PROD"})}listenForBgLogs(){chrome?.runtime.onMessage.addListener((t,n)=>{n.id!==chrome.runtime.id||t.action!="log"||this.internalLogTagOverride(t.data.level,t.data.tag,...t.data.messages)})}internalLog(t,...n){this.internalLogTagOverride(t,this.tag,...n)}internalLogTagOverride(t,n,...i){let r=new Date(Date.now()),o=["%c%s %s","color: blue",`[${r.getHours()}:${r.getMinutes()}:${r.getSeconds()}]`,n,...i];if(IS_DEV_BUILD)switch(t){case 3:console.debug(...o);break;case 1:console.warn(...o);break;case 2:console.log(...o);break;case 0:console.error(...o);break}else{switch(t){case 1:Mr(o.join(" "));break;case 0:Vn(o.join(" "));break}return}}};var wl=document.createElement("div");wl.innerHTML='<div class=wb-header><div class=wb-control><span title="Minimize" class=wb-min></span><span title="Maximize" class=wb-max></span><span title="Fullscreen" class=wb-full></span><span title="Close" class=wb-close></span></div><div class=wb-drag><div class=wb-icon></div><div class=wb-title></div></div></div><div class=wb-body></div><div class=wb-footer><feedback-form size="inline"></feedback-form></div><div class=wb-n></div><div class=wb-s></div><div class=wb-w></div><div class=wb-e></div><div class=wb-nw></div><div class=wb-ne></div><div class=wb-se></div><div class=wb-sw></div>';function xl(e){return(e||wl).cloneNode(!0)}var Tl=`
  .winbox {
    position: fixed;
    left: 0;
    top: 0;
    background: #0050ff;
    box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
    /* using transform make contents blur when applied and requires more gpu memory */
    transition: width 0.3s, height 0.3s, left 0.3s, top 0.3s;
    transition-timing-function: cubic-bezier(0.3, 1, 0.3, 1);
    /* contain "strict" does not make overflow contents selectable */
    contain: layout size;
    /* explicitly set text align to left fixes an issue with iframes alignment when centered */
    text-align: left;
    /* workaround for using passive listeners */
    touch-action: none;
  }
  .wb-header {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 35px;
    line-height: 35px;
    color: #fff;
    overflow: hidden;
    z-index: 1;
  }
  .wb-body {
    position: absolute;
    top: 35px;
    left: 0;
    right: 0;
    bottom: 0;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
    overflow-scrolling: touch;
    will-change: contents;
    background: #fff;
    /* when no border is set there is some thin line visible */
    /* always hide top border visually */
    margin-top: 0 !important;
    contain: strict;
    z-index: 0;
  }
  .wb-footer {
    position: absolute;
    bottom: 0;
    width: 100%;
    display: none;
  }
  .winbox.show-footer .wb-body {
    bottom: 35px; /* height of footer */
  }
  .winbox.show-footer .wb-footer {
    display: block;
  }
  body > .wb-body {
    position: relative;
    display: inline-block;
    visibility: hidden;
    contain: none;
  }
  .wb-drag {
    height: 100%;
    padding-left: 10px;
    cursor: move;
  }
  .wb-title {
    font-family: Arial, sans-serif;
    font-size: 14px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .wb-icon {
    display: none;
    width: 20px;
    height: 100%;
    margin: -1px 8px 0 -3px;
    float: left;
    background-repeat: no-repeat;
    background-size: 100%;
    background-position: center;
  }
  .wb-n {
    position: absolute;
    top: -5px;
    left: 0;
    right: 0;
    height: 10px;
    cursor: n-resize;
    z-index: 2;
  }
  .wb-e {
    position: absolute;
    top: 0;
    right: -5px;
    bottom: 0;
    width: 10px;
    cursor: w-resize;
    z-index: 2;
  }
  .wb-s {
    position: absolute;
    bottom: -5px;
    left: 0;
    right: 0;
    height: 10px;
    cursor: n-resize;
    z-index: 2;
  }
  .wb-w {
    position: absolute;
    top: 0;
    left: -5px;
    bottom: 0;
    width: 10px;
    cursor: w-resize;
    z-index: 2;
  }
  .wb-nw {
    position: absolute;
    top: -5px;
    left: -5px;
    width: 15px;
    height: 15px;
    cursor: nw-resize;
    z-index: 2;
  }
  .wb-ne {
    position: absolute;
    top: -5px;
    right: -5px;
    width: 15px;
    height: 15px;
    cursor: ne-resize;
    z-index: 2;
  }
  .wb-sw {
    position: absolute;
    bottom: -5px;
    left: -5px;
    width: 15px;
    height: 15px;
    cursor: ne-resize;
    z-index: 2;
  }
  .wb-se {
    position: absolute;
    bottom: -5px;
    right: -5px;
    width: 15px;
    height: 15px;
    cursor: nw-resize;
    z-index: 2;
  }
  .wb-control {
    float: right;
    height: 100%;
    max-width: 100%;
    text-align: center;
  }
  .wb-control * {
    display: inline-block;
    width: 30px;
    height: 100%;
    max-width: 100%;
    background-position: center;
    background-repeat: no-repeat;
    cursor: pointer;
  }
  .wb-min {
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAyIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNOCAwaDdhMSAxIDAgMCAxIDAgMkgxYTEgMSAwIDAgMSAwLTJoN3oiLz48L3N2Zz4=);
    background-size: 14px auto;
    background-position: center calc(50% + 6px);
  }
  .wb-max {
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IiNmZmYiIHZpZXdCb3g9IjAgMCA5NiA5NiI+PHBhdGggZD0iTTIwIDcxLjMxMUMxNS4zNCA2OS42NyAxMiA2NS4yMyAxMiA2MFYyMGMwLTYuNjMgNS4zNy0xMiAxMi0xMmg0MGM1LjIzIDAgOS42NyAzLjM0IDExLjMxMSA4SDI0Yy0yLjIxIDAtNCAxLjc5LTQgNHY1MS4zMTF6Ii8+PHBhdGggZD0iTTkyIDc2VjM2YzAtNi42My01LjM3LTEyLTEyLTEySDQwYy02LjYzIDAtMTIgNS4zNy0xMiAxMnY0MGMwIDYuNjMgNS4zNyAxMiAxMiAxMmg0MGM2LjYzIDAgMTItNS4zNyAxMi0xMnptLTUyIDRjLTIuMjEgMC00LTEuNzktNC00VjM2YzAtMi4yMSAxLjc5LTQgNC00aDQwYzIuMjEgMCA0IDEuNzkgNCA0djQwYzAgMi4yMS0xLjc5IDQtNCA0SDQweiIvPjwvc3ZnPg==);
    background-size: 17px auto;
  }
  .wb-close {
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xIC0xIDE4IDE4Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMS42MTMuMjEuMDk0LjA4M0w4IDYuNTg1IDE0LjI5My4yOTNsLjA5NC0uMDgzYTEgMSAwIDAgMSAxLjQwMyAxLjQwM2wtLjA4My4wOTRMOS40MTUgOGw2LjI5MiA2LjI5M2ExIDEgMCAwIDEtMS4zMiAxLjQ5N2wtLjA5NC0uMDgzTDggOS40MTVsLTYuMjkzIDYuMjkyLS4wOTQuMDgzQTEgMSAwIDAgMSAuMjEgMTQuMzg3bC4wODMtLjA5NEw2LjU4NSA4IC4yOTMgMS43MDdBMSAxIDAgMCAxIDEuNjEzLjIxeiIvPjwvc3ZnPg==);
    background-size: 15px auto;
    background-position: 5px center;
  }
  .wb-full {
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjIuNSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOCAzSDVhMiAyIDAgMCAwLTIgMnYzbTE4IDBWNWEyIDIgMCAwIDAtMi0yaC0zbTAgMThoM2EyIDIgMCAwIDAgMi0ydi0zTTMgMTZ2M2EyIDIgMCAwIDAgMiAyaDMiLz48L3N2Zz4=);
    background-size: 16px auto;
  }
  .wb-nav-away {
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgLTk2MCA5NjAgOTYwIiB3aWR0aD0iMjQiPjxwYXRoIGQ9Ik0yMTIuMzA5LTE0MC4wMDFxLTMwLjMwOCAwLTUxLjMwOC0yMXQtMjEtNTEuMzA4di01MzUuMzgycTAtMzAuMzA4IDIxLTUxLjMwOHQ1MS4zMDgtMjFoMjUyLjMwNVYtNzYwSDIxMi4zMDlxLTQuNjE2IDAtOC40NjMgMy44NDYtMy44NDYgMy44NDctMy44NDYgOC40NjN2NTM1LjM4MnEwIDQuNjE2IDMuODQ2IDguNDYzIDMuODQ3IDMuODQ2IDguNDYzIDMuODQ2aDUzNS4zODJxNC42MTYgMCA4LjQ2My0zLjg0NiAzLjg0Ni0zLjg0NyAzLjg0Ni04LjQ2M3YtMjUyLjMwNWg1OS45OTl2MjUyLjMwNXEwIDMwLjMwOC0yMSA1MS4zMDh0LTUxLjMwOCAyMUgyMTIuMzA5Wm0xNzYuNDYtMjA2LjYxNS00Mi4xNTMtNDIuMTUzTDcxNy44NDctNzYwSDU2MHYtNTkuOTk5aDI1OS45OTlWLTU2MEg3NjB2LTE1Ny44NDdMMzg4Ljc2OS0zNDYuNjE2WiIvPjwvc3ZnPg==);
    
    background-size: 20px auto;
    filter: invert(1);
  }
  .wb-settings {
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgLTk2MCA5NjAgOTYwIiB3aWR0aD0iMjQiPjxwYXRoIGQ9Ik00NTAuMDAxLTEzMC4wMDF2LTIxOS45OThoNTkuOTk4djgwaDMyMHY1OS45OThoLTMyMHY4MGgtNTkuOTk4Wm0tMzIwLTgwdi01OS45OThoMjE5Ljk5OHY1OS45OThIMTMwLjAwMVptMTYwLTE2MHYtODBoLTE2MHYtNTkuOTk4aDE2MHYtODBoNTkuOTk4djIxOS45OThoLTU5Ljk5OFptMTYwLTgwdi01OS45OThoMzc5Ljk5OHY1OS45OThINDUwLjAwMVptMTYwLTE2MHYtMjE5Ljk5OGg1OS45OTh2ODBoMTYwdjU5Ljk5OGgtMTYwdjgwaC01OS45OThabS00ODAtODB2LTU5Ljk5OGgzNzkuOTk4djU5Ljk5OEgxMzAuMDAxWiIvPjwvc3ZnPg==);
  
    background-size: 20px auto;
    filter: invert(1);
  }
  /*
  .winbox:not(.max) .wb-max {
    background-image: url(@restore);
    background-size: 20px auto;
    background-position: center bottom 5px;
  }
  */
  /*
  .winbox:fullscreen{
    transition: none !important;
  }
  .winbox:fullscreen .wb-full{
    background-image: url(@minimize);
  }
  .winbox:fullscreen > div,
  .winbox:fullscreen .wb-title,
  */
  .winbox.modal .wb-body ~ div,
  .winbox.modal .wb-drag,
  .winbox.min .wb-body ~ div,
  .winbox.max .wb-body ~ div {
    pointer-events: none;
  }
  .winbox.max .wb-drag {
    cursor: default;
  }
  .winbox.min .wb-full,
  .winbox.min .wb-min {
    display: none;
  }
  .winbox.min .wb-drag {
    cursor: default;
  }
  .winbox.min .wb-body > * {
    display: none;
  }
  .winbox.hide {
    display: none;
  }
  .winbox.max {
    box-shadow: none;
  }
  .winbox.max .wb-body {
    margin: 0 !important;
  }
  .winbox iframe {
    position: absolute;
    width: 100%;
    height: 100%;
    border: 0;
  }
  body.wb-lock .winbox {
    will-change: left, top, width, height;
    transition: none;
  }
  body.wb-lock iframe {
    pointer-events: none;
  }
  .winbox.modal:before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: inherit;
    border-radius: inherit;
  }
  .winbox.modal:after {
    content: '';
    position: absolute;
    top: -50vh;
    left: -50vw;
    right: -50vw;
    bottom: -50vh;
    background: #0d1117;
    animation: wb-fade-in 0.2s ease-out forwards;
    z-index: -1;
  }
  .winbox.modal .wb-min,
  .winbox.modal .wb-max,
  .winbox.modal .wb-full {
    display: none;
  }
  @keyframes wb-fade-in {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 0.85;
    }
  }
  .no-animation {
    transition: none;
  }
  .no-shadow {
    box-shadow: none;
  }
  .no-header .wb-header {
    display: none;
  }
  .no-header .wb-body {
    top: 0;
  }
  .no-min .wb-min {
    display: none;
  }
  .no-max .wb-max {
    display: none;
  }
  .no-full .wb-full {
    display: none;
  }
  .no-close .wb-close {
    display: none;
  }
  .no-resize .wb-body ~ div {
    display: none;
  }
  .no-move:not(.min) .wb-title {
    pointer-events: none;
  }
  .wb-body .wb-hide {
    display: none;
  }
  .wb-show {
    display: none;
  }
  .wb-body .wb-show {
    display: revert;
  }
`;function jt(e,t,n,i){e&&e.addEventListener(t,n,i||!1)}function Mi(e,t,n,i){e&&e.removeEventListener(t,n,i||!1)}function Kn(e,t){e.stopPropagation(),e.cancelable&&e.preventDefault()}function Kt(e,t){return e.getElementsByClassName(t)[0]}function fs(e,t){e.classList.add(t)}function Sl(e,t){return e.classList.contains(t)}function ds(e,t){e.classList.remove(t)}function Lt(e,t,n){n=""+n,e["_s_"+t]!==n&&(e.style.setProperty(t,n),e["_s_"+t]=n)}function Al(e,t){let n=e.firstChild;n?n.nodeValue=t:e.textContent=t}var jr=!1,Jn=[],ki={capture:!0,passive:!0},ue,$d=0,Pi=10,Xn,Je,Re,Cl,Me,ke,Pe=class{constructor(t,n){if(!(this instanceof Pe))return new Pe(t);ue||Bd();let i,r,o,s,a,l,c,f,d,g,E,x,T,w,C,N,A,y,L,D,R,$,B,M,j,W,q,it,H,V,Q,at,rt,z,G,wt,Mt,Tt,dt,pt,Ht,Et,Gt,kt,X,J,vt;if(t&&(n&&(a=t,t=n),typeof t=="string"?a=t:(i=t.id,r=t.index,o=t.root,s=t.template,a=a||t.title,l=t.icon,c=t.mount,f=t.html,d=t.url,g=t.shadowel,x=t.framename,T=t.cssurl,w=t.width,C=t.height,N=t.minwidth,A=t.minheight,y=t.maxwidth,L=t.maxheight,D=t.autosize,q=t.min,it=t.max,H=t.hidden,V=t.modal,R=t.x||(V?"center":0),$=t.y||(V?"center":0),B=t.top,M=t.left,j=t.bottom,W=t.right,Q=t.background,at=t.border,rt=t.header,z=t.class,wt=t.onclose,Mt=t.onfocus,Tt=t.onblur,dt=t.onmove,pt=t.onresize,Ht=t.onfullscreen,Et=t.onmaximize,Gt=t.onminimize,kt=t.onrestore,X=t.onhide,J=t.onshow,vt=t.onload)),this.dom=xl(s),this.dom.id=this.id=i||"winbox-"+ ++$d,this.dom.className="winbox"+(z?" "+(typeof z=="string"?z:z.join(" ")):"")+(V?" modal":""),this.dom.winbox=this,this.window=this.dom,this.body=Kt(this.dom,"wb-body"),this.header=rt||35,(r||r===0)&&(Pi=r),Q&&this.setBackground(Q),at?Lt(this.body,"margin",at+(isNaN(at)?"":"px")):at=0,rt){let Z=Kt(this.dom,"wb-header");Lt(Z,"height",rt+"px"),Lt(Z,"line-height",rt+"px"),Lt(this.body,"top",rt+"px")}a&&this.setTitle(a),l&&this.setIcon(l),c?this.mount(c):f?this.body.innerHTML=f:d&&this.setUrl(d,vt),B=B?Ct(B,ke):0,j=j?Ct(j,ke):0,M=M?Ct(M,Me):0,W=W?Ct(W,Me):0;let Dt=Me-M-W,St=ke-B-j;if(y=y?Ct(y,Dt):Dt,L=L?Ct(L,St):St,N=N?Ct(N,y):150,A=A?Ct(A,L):this.header,D?((o||ue).appendChild(this.body),w=Math.max(Math.min(this.body.clientWidth+at*2+1,y),N),C=Math.max(Math.min(this.body.clientHeight+this.header+at+1,L),A),this.dom.appendChild(this.body)):(w=w?Ct(w,y):Math.max(y/2,N)|0,C=C?Ct(C,L):Math.max(L/2,A)|0),R=R?Ct(R,Dt,w):M,$=$?Ct($,St,C):B,this.x=R,this.y=$,this.width=w,this.height=C,this.minwidth=N,this.minheight=A,this.maxwidth=y,this.maxheight=L,this.top=B,this.right=W,this.bottom=j,this.left=M,this.index=r,this.min=!1,this.max=!1,this.full=!1,this.hidden=!1,this.focused=!1,this.onclose=wt,this.onfocus=Mt,this.onblur=Tt,this.onmove=dt,this.onresize=pt,this.onfullscreen=Ht,this.onmaximize=Et,this.onminimize=Gt,this.onrestore=kt,this.onhide=X,this.onshow=J,it?this.maximize():q?this.minimize():this.resize().move(),H?this.hide():(this.focus(),(r||r===0)&&(this.index=r,r>Pi&&(Pi=r))),Lt(this.shadowdom?this.shadowdom:this.dom,"z-index",r),Hd(this),g){let Z=document.createElement(g);Z.style.position="absolute";let zt=document.createElement("style");if(zt.textContent=Tl,Z.appendChild(zt),T){let he=document.createElement("link");he.rel="stylesheet",he.type="text/css",he.href=T,he.itemprop="url",Z.appendChild(he)}Z.appendChild(this.dom),Z.attachShadow({mode:"open"}).innerHTML="<slot></slot>",this.shadowdom=Z,(o||ue).appendChild(Z)}else(o||ue).appendChild(this.dom);(G=t.oncreate)&&G.call(this,t)}static new(t){return new Pe(t)}mount(t){return this.unmount(),t._backstore||(t._backstore=t.parentNode),this.body.textContent="",this.body.appendChild(t),this}unmount(t){let n=this.body.firstChild;if(n){let i=t||n._backstore;i&&i.appendChild(n),n._backstore=t}return this}setTitle(t){let n=Kt(this.dom,"wb-title");return Al(n,this.title=t),this}setIcon(t){let n=Kt(this.dom,"wb-icon");return Lt(n,"background-image","url("+t+")"),Lt(n,"display","inline-block"),this}setBackground(t){return Lt(this.dom,"background",t),this}setUrl(t,n){let i=this.body.firstChild;if(i&&i.tagName.toLowerCase()==="iframe")i.src=t;else{let r=this.framename??"";this.body.innerHTML=`<iframe name="${r}" src="${t}"></iframe>`,n&&(this.body.firstChild.onload=n)}return this}focus(t){return t===!1?this.blur():(Je!==this&&this.dom&&(Je&&Je.blur(),Lt(this.shadowdom?this.shadowdom:this.dom,"z-index",++Pi),this.index=Pi,this.addClass("focus"),Je=this,this.focused=!0,this.onfocus&&this.onfocus()),this)}blur(t){return t===!1?this.focus():(Je===this&&(this.removeClass("focus"),this.focused=!1,this.onblur&&this.onblur(),Je=null),this)}hide(t){if(t===!1)return this.show();if(!this.hidden)return this.onhide&&this.onhide(),this.hidden=!0,this.addClass("hide")}show(t){if(t===!1)return this.hide();if(this.hidden)return this.onshow&&this.onshow(),this.hidden=!1,this.removeClass("hide")}minimize(t){return t===!1?this.restore():(Xn&&Gr(),this.max&&(this.removeClass("max"),this.max=!1),this.min||(Jn.push(this),hs(),this.dom.title=this.title,this.addClass("min"),this.min=!0,this.onminimize&&this.onminimize()),this)}restore(){return Xn&&Gr(),this.min&&(Fr(this),this.resize().move(),this.onrestore&&this.onrestore()),this.max&&(this.max=!1,this.removeClass("max").resize().move(),this.onrestore&&this.onrestore()),this}maximize(t){return t===!1?this.restore():(Xn&&Gr(),this.min&&Fr(this),this.max||(this.addClass("max").resize(Me-this.left-this.right,ke-this.top-this.bottom,!0).move(this.left,this.top,!0),this.max=!0,this.onmaximize&&this.onmaximize()),this)}fullscreen(t){if(this.min&&(Fr(this),this.resize().move()),!Xn||!Gr())this.body[Re](),Xn=this,this.full=!0,this.onfullscreen&&this.onfullscreen();else if(t===!1)return this.restore();return this}close(t){if(this.onclose&&this.onclose(t))return!0;this.min&&Fr(this),this.unmount(),this.dom.remove(),this.dom.textContent="",this.dom.winbox=null,this.body=null,this.dom=null,Je===this&&(Je=null)}move(t,n,i){return!t&&t!==0?(t=this.x,n=this.y):i||(this.x=t?t=Ct(t,Me-this.left-this.right,this.width):0,this.y=n?n=Ct(n,ke-this.top-this.bottom,this.height):0),Lt(this.dom,"left",t+"px"),Lt(this.dom,"top",n+"px"),this.onmove&&this.onmove(t,n),this}resize(t,n,i){return!t&&t!==0?(t=this.width,n=this.height):i||(this.width=t?t=Ct(t,this.maxwidth):0,this.height=n?n=Ct(n,this.maxheight):0,t=Math.max(t,this.minwidth),n=Math.max(n,this.minheight)),Lt(this.dom,"width",t+"px"),Lt(this.dom,"height",n+"px"),this.onresize&&this.onresize(t,n),this}addControl(t){let n=t.class,i=t.image,r=t.click,o=t.index,s=t.title,a=document.createElement("span"),l=Kt(this.dom,"wb-control"),c=this;return n&&(a.className=n),i&&Lt(a,"background-image","url("+i+")"),r&&(a.onclick=function(f){r.call(this,f,c)}),s&&(a.title=s),l.insertBefore(a,l.childNodes[o||0]),this}removeControl(t){return t=Kt(this.dom,t),t&&t.remove(),this}addClass(t){return fs(this.dom,t),this}removeClass(t){return ds(this.dom,t),this}hasClass(t){return Sl(this.dom,t)}toggleClass(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}};function Ct(e,t,n){if(typeof e=="string")if(e==="center")e=(t-n)/2|0;else if(e==="right"||e==="bottom")e=t-n;else{let i=parseFloat(e);(""+i!==e&&e.substring((""+i).length))==="%"?e=t/100*i|0:e=i}return e}function Bd(){ue=document.body,ue[Re="requestFullscreen"]||ue[Re="msRequestFullscreen"]||ue[Re="webkitRequestFullscreen"]||ue[Re="mozRequestFullscreen"]||(Re=""),Cl=Re&&Re.replace("request","exit").replace("mozRequest","mozCancel").replace("Request","Exit"),jt(window,"resize",function(){Nl(),hs()}),Nl()}function Hd(e){Ie(e,"drag"),Ie(e,"n"),Ie(e,"s"),Ie(e,"w"),Ie(e,"e"),Ie(e,"nw"),Ie(e,"ne"),Ie(e,"se"),Ie(e,"sw"),jt(Kt(e.dom,"wb-min"),"click",function(t){Kn(t),e.min?e.focus().restore():e.blur().minimize()}),jt(Kt(e.dom,"wb-max"),"click",function(t){e.max?e.restore():e.maximize()}),Re?jt(Kt(e.dom,"wb-full"),"click",function(t){e.fullscreen()}):e.addClass("no-full"),jt(Kt(e.dom,"wb-close"),"click",function(t){Kn(t),e.close()||(e=null)}),jt(e.dom,"click",function(t){e.focus()})}function Fr(e){Jn.splice(Jn.indexOf(e),1),hs(),e.removeClass("min"),e.min=!1,e.dom.title=""}function hs(){let e=Jn.length,t={},n={};for(let i=0,r,o;i<e;i++)r=Jn[i],o=(r.left||r.right)+":"+(r.top||r.bottom),n[o]?n[o]++:(t[o]=0,n[o]=1);for(let i=0,r,o,s;i<e;i++)r=Jn[i],o=(r.left||r.right)+":"+(r.top||r.bottom),s=Math.min((Me-r.left-r.right)/n[o],250),r.resize(s+1|0,r.header,!0).move(r.left+t[o]*s|0,ke-r.bottom-r.header,!0),t[o]++}function Ie(e,t){let n=Kt(e.dom,"wb-"+t);if(!n)return;let i,r,o,s,a,l,c=0;jt(n,"mousedown",d),jt(n,"touchstart",d,ki);function f(){s=requestAnimationFrame(f),l&&(e.resize(),l=!1),a&&(e.move(),a=!1)}function d(x){if(Kn(x),e.focus(),t==="drag"){if(e.min){e.restore();return}let T=Date.now(),w=T-c;if(c=T,w<300&&!e.dom.classList.contains("no-max")){e.max?e.restore():e.maximize();return}}!e.max&&!e.min&&(fs(ue,"wb-lock"),jr&&f(),(i=x.touches)&&(i=i[0])?(x=i,jt(window,"touchmove",g,ki),jt(window,"touchend",E,ki)):(jt(window,"mousemove",g),jt(window,"mouseup",E)),r=x.pageX,o=x.pageY)}function g(x){Kn(x),i&&(x=x.touches[0]);let T=x.pageX,w=x.pageY,C=T-r,N=w-o,A=e.width,y=e.height,L=e.x,D=e.y,R,$,B,M;t==="drag"?(e.x+=C,e.y+=N,B=M=1):(t==="e"||t==="se"||t==="ne"?(e.width+=C,R=1):(t==="w"||t==="sw"||t==="nw")&&(e.x+=C,e.width-=C,R=1,B=1),t==="s"||t==="se"||t==="sw"?(e.height+=N,$=1):(t==="n"||t==="ne"||t==="nw")&&(e.y+=N,e.height-=N,$=1,M=1)),R&&(e.width=Math.max(Math.min(e.width,e.maxwidth,Me-e.x-e.right),e.minwidth),R=e.width!==A),$&&(e.height=Math.max(Math.min(e.height,e.maxheight,ke-e.y-e.bottom),e.minheight),$=e.height!==y),(R||$)&&(jr?l=!0:e.resize()),B&&(e.x=Math.max(Math.min(e.x,Me-e.width-e.right),e.left),B=e.x!==L),M&&(e.y=Math.max(Math.min(e.y,ke-e.height-e.bottom),e.top),M=e.y!==D),(B||M)&&(jr?a=!0:e.move()),(R||B)&&(r=T),($||M)&&(o=w)}function E(x){Kn(x),ds(ue,"wb-lock"),jr&&cancelAnimationFrame(s),i?(Mi(window,"touchmove",g,ki),Mi(window,"touchend",E,ki)):(Mi(window,"mousemove",g),Mi(window,"mouseup",E))}}function Nl(){let e=document.documentElement;Me=e.clientWidth,ke=e.clientHeight}function Ud(){return document.fullscreen||document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement}function Gr(){if(Xn.full=!1,Ud())return document[Cl](),!0}var Hl=wa(Ol()),Ul=wa(kl());(function(){"use strict";var e=window.Document.prototype.createElement,t=window.Document.prototype.createElementNS,n=window.Document.prototype.importNode,i=window.Document.prototype.prepend,r=window.Document.prototype.append,o=window.DocumentFragment.prototype.prepend,s=window.DocumentFragment.prototype.append,a=window.Node.prototype.cloneNode,l=window.Node.prototype.appendChild,c=window.Node.prototype.insertBefore,f=window.Node.prototype.removeChild,d=window.Node.prototype.replaceChild,g=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),E=window.Element.prototype.attachShadow,x=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),T=window.Element.prototype.getAttribute,w=window.Element.prototype.setAttribute,C=window.Element.prototype.removeAttribute,N=window.Element.prototype.toggleAttribute,A=window.Element.prototype.getAttributeNS,y=window.Element.prototype.setAttributeNS,L=window.Element.prototype.removeAttributeNS,D=window.Element.prototype.insertAdjacentElement,R=window.Element.prototype.insertAdjacentHTML,$=window.Element.prototype.prepend,B=window.Element.prototype.append,M=window.Element.prototype.before,j=window.Element.prototype.after,W=window.Element.prototype.replaceWith,q=window.Element.prototype.remove,it=window.HTMLElement,H=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),V=window.HTMLElement.prototype.insertAdjacentElement,Q=window.HTMLElement.prototype.insertAdjacentHTML,at=new Set;"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach(function(u){return at.add(u)});function rt(u){var h=at.has(u);return u=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/.test(u),!h&&u}var z=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function G(u){var h=u.isConnected;if(h!==void 0)return h;if(z(u))return!0;for(;u&&!(u.__CE_isImportDocument||u instanceof Document);)u=u.parentNode||(window.ShadowRoot&&u instanceof ShadowRoot?u.host:void 0);return!(!u||!(u.__CE_isImportDocument||u instanceof Document))}function wt(u){var h=u.children;if(h)return Array.prototype.slice.call(h);for(h=[],u=u.firstChild;u;u=u.nextSibling)u.nodeType===Node.ELEMENT_NODE&&h.push(u);return h}function Mt(u,h){for(;h&&h!==u&&!h.nextSibling;)h=h.parentNode;return h&&h!==u?h.nextSibling:null}function Tt(u,h,m){for(var v=u;v;){if(v.nodeType===Node.ELEMENT_NODE){var p=v;h(p);var _=p.localName;if(_==="link"&&p.getAttribute("rel")==="import"){if(v=p.import,m===void 0&&(m=new Set),v instanceof Node&&!m.has(v))for(m.add(v),v=v.firstChild;v;v=v.nextSibling)Tt(v,h,m);v=Mt(u,p);continue}else if(_==="template"){v=Mt(u,p);continue}if(p=p.__CE_shadowRoot)for(p=p.firstChild;p;p=p.nextSibling)Tt(p,h,m)}v=v.firstChild?v.firstChild:Mt(u,v)}}function dt(){var u=!(pe==null||!pe.noDocumentConstructionObserver),h=!(pe==null||!pe.shadyDomFastWalk);this.m=[],this.g=[],this.j=!1,this.shadyDomFastWalk=h,this.I=!u}function pt(u,h,m,v){var p=window.ShadyDOM;if(u.shadyDomFastWalk&&p&&p.inUse){if(h.nodeType===Node.ELEMENT_NODE&&m(h),h.querySelectorAll)for(u=p.nativeMethods.querySelectorAll.call(h,"*"),h=0;h<u.length;h++)m(u[h])}else Tt(h,m,v)}function Ht(u,h){u.j=!0,u.m.push(h)}function Et(u,h){u.j=!0,u.g.push(h)}function Gt(u,h){u.j&&pt(u,h,function(m){return kt(u,m)})}function kt(u,h){if(u.j&&!h.__CE_patched){h.__CE_patched=!0;for(var m=0;m<u.m.length;m++)u.m[m](h);for(m=0;m<u.g.length;m++)u.g[m](h)}}function X(u,h){var m=[];for(pt(u,h,function(p){return m.push(p)}),h=0;h<m.length;h++){var v=m[h];v.__CE_state===1?u.connectedCallback(v):Dt(u,v)}}function J(u,h){var m=[];for(pt(u,h,function(p){return m.push(p)}),h=0;h<m.length;h++){var v=m[h];v.__CE_state===1&&u.disconnectedCallback(v)}}function vt(u,h,m){m=m===void 0?{}:m;var v=m.J,p=m.upgrade||function(S){return Dt(u,S)},_=[];for(pt(u,h,function(S){if(u.j&&kt(u,S),S.localName==="link"&&S.getAttribute("rel")==="import"){var O=S.import;O instanceof Node&&(O.__CE_isImportDocument=!0,O.__CE_registry=document.__CE_registry),O&&O.readyState==="complete"?O.__CE_documentLoadHandled=!0:S.addEventListener("load",function(){var I=S.import;if(!I.__CE_documentLoadHandled){I.__CE_documentLoadHandled=!0;var F=new Set;v&&(v.forEach(function(tt){return F.add(tt)}),F.delete(I)),vt(u,I,{J:F,upgrade:p})}})}else _.push(S)},v),h=0;h<_.length;h++)p(_[h])}function Dt(u,h){try{var m=h.ownerDocument,v=m.__CE_registry,p=v&&(m.defaultView||m.__CE_isImportDocument)?ze(v,h.localName):void 0;if(p&&h.__CE_state===void 0){p.constructionStack.push(h);try{try{if(new p.constructorFunction!==h)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{p.constructionStack.pop()}}catch(I){throw h.__CE_state=2,I}if(h.__CE_state=1,h.__CE_definition=p,p.attributeChangedCallback&&h.hasAttributes()){var _=p.observedAttributes;for(p=0;p<_.length;p++){var S=_[p],O=h.getAttribute(S);O!==null&&u.attributeChangedCallback(h,S,null,O,null)}}G(h)&&u.connectedCallback(h)}}catch(I){Z(I)}}dt.prototype.connectedCallback=function(u){var h=u.__CE_definition;if(h.connectedCallback)try{h.connectedCallback.call(u)}catch(m){Z(m)}},dt.prototype.disconnectedCallback=function(u){var h=u.__CE_definition;if(h.disconnectedCallback)try{h.disconnectedCallback.call(u)}catch(m){Z(m)}},dt.prototype.attributeChangedCallback=function(u,h,m,v,p){var _=u.__CE_definition;if(_.attributeChangedCallback&&-1<_.observedAttributes.indexOf(h))try{_.attributeChangedCallback.call(u,h,m,v,p)}catch(S){Z(S)}};function St(u,h,m,v){var p=h.__CE_registry;if(p&&(v===null||v==="http://www.w3.org/1999/xhtml")&&(p=ze(p,m)))try{var _=new p.constructorFunction;if(_.__CE_state===void 0||_.__CE_definition===void 0)throw Error("Failed to construct '"+m+"': The returned value was not constructed with the HTMLElement constructor.");if(_.namespaceURI!=="http://www.w3.org/1999/xhtml")throw Error("Failed to construct '"+m+"': The constructed element's namespace must be the HTML namespace.");if(_.hasAttributes())throw Error("Failed to construct '"+m+"': The constructed element must not have any attributes.");if(_.firstChild!==null)throw Error("Failed to construct '"+m+"': The constructed element must not have any children.");if(_.parentNode!==null)throw Error("Failed to construct '"+m+"': The constructed element must not have a parent node.");if(_.ownerDocument!==h)throw Error("Failed to construct '"+m+"': The constructed element's owner document is incorrect.");if(_.localName!==m)throw Error("Failed to construct '"+m+"': The constructed element's local name is incorrect.");return _}catch(S){return Z(S),h=v===null?e.call(h,m):t.call(h,v,m),Object.setPrototypeOf(h,HTMLUnknownElement.prototype),h.__CE_state=2,h.__CE_definition=void 0,kt(u,h),h}return h=v===null?e.call(h,m):t.call(h,v,m),kt(u,h),h}function Z(u){var h="",m="",v=0,p=0;u instanceof Error?(h=u.message,m=u.sourceURL||u.fileName||"",v=u.line||u.lineNumber||0,p=u.column||u.columnNumber||0):h="Uncaught "+String(u);var _=void 0;ErrorEvent.prototype.initErrorEvent===void 0?_=new ErrorEvent("error",{cancelable:!0,message:h,filename:m,lineno:v,colno:p,error:u}):(_=document.createEvent("ErrorEvent"),_.initErrorEvent("error",!1,!0,h,m,v),_.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})}),_.error===void 0&&Object.defineProperty(_,"error",{configurable:!0,enumerable:!0,get:function(){return u}}),window.dispatchEvent(_),_.defaultPrevented||console.error(u)}function zt(){var u=this;this.g=void 0,this.F=new Promise(function(h){u.l=h})}zt.prototype.resolve=function(u){if(this.g)throw Error("Already resolved.");this.g=u,this.l(u)};function he(u){var h=document;this.l=void 0,this.h=u,this.g=h,vt(this.h,this.g),this.g.readyState==="loading"&&(this.l=new MutationObserver(this.G.bind(this)),this.l.observe(this.g,{childList:!0,subtree:!0}))}function ar(u){u.l&&u.l.disconnect()}he.prototype.G=function(u){var h=this.g.readyState;for(h!=="interactive"&&h!=="complete"||ar(this),h=0;h<u.length;h++)for(var m=u[h].addedNodes,v=0;v<m.length;v++)vt(this.h,m[v])};function K(u){this.s=new Map,this.u=new Map,this.C=new Map,this.A=!1,this.B=new Map,this.o=function(h){return h()},this.i=!1,this.v=[],this.h=u,this.D=u.I?new he(u):void 0}K.prototype.H=function(u,h){var m=this;if(!(h instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");pn(this,u),this.s.set(u,h),this.v.push(u),this.i||(this.i=!0,this.o(function(){return vi(m)}))},K.prototype.define=function(u,h){var m=this;if(!(h instanceof Function))throw new TypeError("Custom element constructors must be functions.");pn(this,u),Ei(this,u,h),this.v.push(u),this.i||(this.i=!0,this.o(function(){return vi(m)}))};function pn(u,h){if(!rt(h))throw new SyntaxError("The element name '"+h+"' is not valid.");if(ze(u,h))throw Error("A custom element with name '"+(h+"' has already been defined."));if(u.A)throw Error("A custom element is already being defined.")}function Ei(u,h,m){u.A=!0;var v;try{var p=m.prototype;if(!(p instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var _=function(tt){var Bn=p[tt];if(Bn!==void 0&&!(Bn instanceof Function))throw Error("The '"+tt+"' callback must be a function.");return Bn},S=_("connectedCallback"),O=_("disconnectedCallback"),I=_("adoptedCallback"),F=(v=_("attributeChangedCallback"))&&m.observedAttributes||[]}catch(tt){throw tt}finally{u.A=!1}return m={localName:h,constructorFunction:m,connectedCallback:S,disconnectedCallback:O,adoptedCallback:I,attributeChangedCallback:v,observedAttributes:F,constructionStack:[]},u.u.set(h,m),u.C.set(m.constructorFunction,m),m}K.prototype.upgrade=function(u){vt(this.h,u)};function vi(u){if(u.i!==!1){u.i=!1;for(var h=[],m=u.v,v=new Map,p=0;p<m.length;p++)v.set(m[p],[]);for(vt(u.h,document,{upgrade:function(I){if(I.__CE_state===void 0){var F=I.localName,tt=v.get(F);tt?tt.push(I):u.u.has(F)&&h.push(I)}}}),p=0;p<h.length;p++)Dt(u.h,h[p]);for(p=0;p<m.length;p++){for(var _=m[p],S=v.get(_),O=0;O<S.length;O++)Dt(u.h,S[O]);(_=u.B.get(_))&&_.resolve(void 0)}m.length=0}}K.prototype.get=function(u){if(u=ze(this,u))return u.constructorFunction},K.prototype.whenDefined=function(u){if(!rt(u))return Promise.reject(new SyntaxError("'"+u+"' is not a valid custom element name."));var h=this.B.get(u);if(h)return h.F;h=new zt,this.B.set(u,h);var m=this.u.has(u)||this.s.has(u);return u=this.v.indexOf(u)===-1,m&&u&&h.resolve(void 0),h.F},K.prototype.polyfillWrapFlushCallback=function(u){this.D&&ar(this.D);var h=this.o;this.o=function(m){return u(function(){return h(m)})}};function ze(u,h){var m=u.u.get(h);if(m)return m;if(m=u.s.get(h)){u.s.delete(h);try{return Ei(u,h,m())}catch(v){Z(v)}}}K.prototype.define=K.prototype.define,K.prototype.upgrade=K.prototype.upgrade,K.prototype.get=K.prototype.get,K.prototype.whenDefined=K.prototype.whenDefined,K.prototype.polyfillDefineLazy=K.prototype.H,K.prototype.polyfillWrapFlushCallback=K.prototype.polyfillWrapFlushCallback;function $n(u,h,m){function v(p){return function(_){for(var S=[],O=0;O<arguments.length;++O)S[O]=arguments[O];O=[];for(var I=[],F=0;F<S.length;F++){var tt=S[F];if(tt instanceof Element&&G(tt)&&I.push(tt),tt instanceof DocumentFragment)for(tt=tt.firstChild;tt;tt=tt.nextSibling)O.push(tt);else O.push(tt)}for(p.apply(this,S),S=0;S<I.length;S++)J(u,I[S]);if(G(this))for(S=0;S<O.length;S++)I=O[S],I instanceof Element&&X(u,I)}}m.prepend!==void 0&&(h.prepend=v(m.prepend)),m.append!==void 0&&(h.append=v(m.append))}function lr(u){Document.prototype.createElement=function(h){return St(u,this,h,null)},Document.prototype.importNode=function(h,m){return h=n.call(this,h,!!m),this.__CE_registry?vt(u,h):Gt(u,h),h},Document.prototype.createElementNS=function(h,m){return St(u,this,m,h)},$n(u,Document.prototype,{prepend:i,append:r})}function cr(u){function h(v){return function(p){for(var _=[],S=0;S<arguments.length;++S)_[S]=arguments[S];S=[];for(var O=[],I=0;I<_.length;I++){var F=_[I];if(F instanceof Element&&G(F)&&O.push(F),F instanceof DocumentFragment)for(F=F.firstChild;F;F=F.nextSibling)S.push(F);else S.push(F)}for(v.apply(this,_),_=0;_<O.length;_++)J(u,O[_]);if(G(this))for(_=0;_<S.length;_++)O=S[_],O instanceof Element&&X(u,O)}}var m=Element.prototype;M!==void 0&&(m.before=h(M)),j!==void 0&&(m.after=h(j)),W!==void 0&&(m.replaceWith=function(v){for(var p=[],_=0;_<arguments.length;++_)p[_]=arguments[_];_=[];for(var S=[],O=0;O<p.length;O++){var I=p[O];if(I instanceof Element&&G(I)&&S.push(I),I instanceof DocumentFragment)for(I=I.firstChild;I;I=I.nextSibling)_.push(I);else _.push(I)}for(O=G(this),W.apply(this,p),p=0;p<S.length;p++)J(u,S[p]);if(O)for(J(u,this),p=0;p<_.length;p++)S=_[p],S instanceof Element&&X(u,S)}),q!==void 0&&(m.remove=function(){var v=G(this);q.call(this),v&&J(u,this)})}function ur(u){function h(p,_){Object.defineProperty(p,"innerHTML",{enumerable:_.enumerable,configurable:!0,get:_.get,set:function(S){var O=this,I=void 0;if(G(this)&&(I=[],pt(u,this,function(Bn){Bn!==O&&I.push(Bn)})),_.set.call(this,S),I)for(var F=0;F<I.length;F++){var tt=I[F];tt.__CE_state===1&&u.disconnectedCallback(tt)}return this.ownerDocument.__CE_registry?vt(u,this):Gt(u,this),S}})}function m(p,_){p.insertAdjacentElement=function(S,O){var I=G(O);return S=_.call(this,S,O),I&&J(u,O),G(S)&&X(u,O),S}}function v(p,_){function S(O,I){for(var F=[];O!==I;O=O.nextSibling)F.push(O);for(I=0;I<F.length;I++)vt(u,F[I])}p.insertAdjacentHTML=function(O,I){if(O=O.toLowerCase(),O==="beforebegin"){var F=this.previousSibling;_.call(this,O,I),S(F||this.parentNode.firstChild,this)}else if(O==="afterbegin")F=this.firstChild,_.call(this,O,I),S(this.firstChild,F);else if(O==="beforeend")F=this.lastChild,_.call(this,O,I),S(F||this.firstChild,null);else if(O==="afterend")F=this.nextSibling,_.call(this,O,I),S(this.nextSibling,F);else throw new SyntaxError("The value provided ("+String(O)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.")}}E&&(Element.prototype.attachShadow=function(p){if(p=E.call(this,p),u.j&&!p.__CE_patched){p.__CE_patched=!0;for(var _=0;_<u.m.length;_++)u.m[_](p)}return this.__CE_shadowRoot=p}),x&&x.get?h(Element.prototype,x):H&&H.get?h(HTMLElement.prototype,H):Et(u,function(p){h(p,{enumerable:!0,configurable:!0,get:function(){return a.call(this,!0).innerHTML},set:function(_){var S=this.localName==="template",O=S?this.content:this,I=t.call(document,this.namespaceURI,this.localName);for(I.innerHTML=_;0<O.childNodes.length;)f.call(O,O.childNodes[0]);for(_=S?I.content:I;0<_.childNodes.length;)l.call(O,_.childNodes[0])}})}),Element.prototype.setAttribute=function(p,_){if(this.__CE_state!==1)return w.call(this,p,_);var S=T.call(this,p);w.call(this,p,_),_=T.call(this,p),u.attributeChangedCallback(this,p,S,_,null)},Element.prototype.setAttributeNS=function(p,_,S){if(this.__CE_state!==1)return y.call(this,p,_,S);var O=A.call(this,p,_);y.call(this,p,_,S),S=A.call(this,p,_),u.attributeChangedCallback(this,_,O,S,p)},Element.prototype.removeAttribute=function(p){if(this.__CE_state!==1)return C.call(this,p);var _=T.call(this,p);C.call(this,p),_!==null&&u.attributeChangedCallback(this,p,_,null,null)},N&&(Element.prototype.toggleAttribute=function(p,_){if(this.__CE_state!==1)return N.call(this,p,_);var S=T.call(this,p),O=S!==null;return _=N.call(this,p,_),O!==_&&u.attributeChangedCallback(this,p,S,_?"":null,null),_}),Element.prototype.removeAttributeNS=function(p,_){if(this.__CE_state!==1)return L.call(this,p,_);var S=A.call(this,p,_);L.call(this,p,_);var O=A.call(this,p,_);S!==O&&u.attributeChangedCallback(this,_,S,O,p)},V?m(HTMLElement.prototype,V):D&&m(Element.prototype,D),Q?v(HTMLElement.prototype,Q):R&&v(Element.prototype,R),$n(u,Element.prototype,{prepend:$,append:B}),cr(u)}var ya={};function Nu(u){function h(){var m=this.constructor,v=document.__CE_registry.C.get(m);if(!v)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var p=v.constructionStack;if(p.length===0)return p=e.call(document,v.localName),Object.setPrototypeOf(p,m.prototype),p.__CE_state=1,p.__CE_definition=v,kt(u,p),p;var _=p.length-1,S=p[_];if(S===ya)throw Error("Failed to construct '"+v.localName+"': This element was already constructed.");return p[_]=ya,Object.setPrototypeOf(S,m.prototype),kt(u,S),S}h.prototype=it.prototype,Object.defineProperty(HTMLElement.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:h}),window.HTMLElement=h}function Cu(u){function h(m,v){Object.defineProperty(m,"textContent",{enumerable:v.enumerable,configurable:!0,get:v.get,set:function(p){if(this.nodeType===Node.TEXT_NODE)v.set.call(this,p);else{var _=void 0;if(this.firstChild){var S=this.childNodes,O=S.length;if(0<O&&G(this)){_=Array(O);for(var I=0;I<O;I++)_[I]=S[I]}}if(v.set.call(this,p),_)for(p=0;p<_.length;p++)J(u,_[p])}}})}Node.prototype.insertBefore=function(m,v){if(m instanceof DocumentFragment){var p=wt(m);if(m=c.call(this,m,v),G(this))for(v=0;v<p.length;v++)X(u,p[v]);return m}return p=m instanceof Element&&G(m),v=c.call(this,m,v),p&&J(u,m),G(this)&&X(u,m),v},Node.prototype.appendChild=function(m){if(m instanceof DocumentFragment){var v=wt(m);if(m=l.call(this,m),G(this))for(var p=0;p<v.length;p++)X(u,v[p]);return m}return v=m instanceof Element&&G(m),p=l.call(this,m),v&&J(u,m),G(this)&&X(u,m),p},Node.prototype.cloneNode=function(m){return m=a.call(this,!!m),this.ownerDocument.__CE_registry?vt(u,m):Gt(u,m),m},Node.prototype.removeChild=function(m){var v=m instanceof Element&&G(m),p=f.call(this,m);return v&&J(u,m),p},Node.prototype.replaceChild=function(m,v){if(m instanceof DocumentFragment){var p=wt(m);if(m=d.call(this,m,v),G(this))for(J(u,v),v=0;v<p.length;v++)X(u,p[v]);return m}p=m instanceof Element&&G(m);var _=d.call(this,m,v),S=G(this);return S&&J(u,v),p&&J(u,m),S&&X(u,m),_},g&&g.get?h(Node.prototype,g):Ht(u,function(m){h(m,{enumerable:!0,configurable:!0,get:function(){for(var v=[],p=this.firstChild;p;p=p.nextSibling)p.nodeType!==Node.COMMENT_NODE&&v.push(p.textContent);return v.join("")},set:function(v){for(;this.firstChild;)f.call(this,this.firstChild);v!=null&&v!==""&&l.call(this,document.createTextNode(v))}})})}var pe=window.customElements;function ba(){var u=new dt;Nu(u),lr(u),$n(u,DocumentFragment.prototype,{prepend:o,append:s}),Cu(u),ur(u),window.CustomElementRegistry=K,u=new K(u),document.__CE_registry=u,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:u})}pe&&!pe.forcePolyfill&&typeof pe.define=="function"&&typeof pe.get=="function"||ba(),window.__CE_installPolyfill=ba}).call(self);var Pl=`<form data-multi-step class="form inline">
  <div class="row-container">
    <div class="information">
      <div class="logo">
        <img src="" />
        <p></p>
      </div>
      <p data-step="1">How are we doing?</p>
      <p data-step="2">Glad you like it! Can you help us share the \u2764\uFE0F?</p>
      <input name="feedback" data-step="3" placeholder="How can we improve?" />
      <p data-step="4">Thanks for the feedback!</p>
    </div>
    <div class="action">
      <div data-step="1">
        <span class="star" data-star-index="1"></span>
        <span class="star" data-star-index="2"></span>
        <span class="star" data-star-index="3"></span>
        <span class="star" data-star-index="4"></span>
        <span class="star" data-star-index="5"></span>
      </div>
      <div data-step="2">
        <button id="rate-on-store" type="button" data-next-step="4">
          Rate on webstore
        </button>
        <button id="decline-rate-on-rate" type="button" data-next-step="4">
          No thanks
        </button>
      </div>
      <button id="submit-form" type="button" data-step="3" data-next-step="4">
        Submit
      </button>
    </div>
  </div>
</form>
`;var $l=`/* Start css reset */
/* 1. Use a more-intuitive box-sizing model. */
*,
*::before,
*::after {
  box-sizing: border-box;
}
/* 2. Remove default margin */
* {
  margin: 0;
}
/* 3. Allow percentage-based heights in the application */
html,
body {
  height: 100%;
}
/* Typographic tweaks! 4. Add accessible line-height 5. Improve text rendering */
body {
  line-height: 20px;
  -webkit-font-smoothing: antialiased;
}
/* 6. Improve media defaults */
img,
picture,
video,
canvas,
svg {
  display: block;
  max-width: 100%;
}
/* 7. Remove built-in form typography styles */
input,
button,
textarea,
select {
  font-size: 12px;
}
/* 8. Avoid text overflows */
p,
h1,
h2,
h3,
h4,
h5,
h6 {
  overflow-wrap: break-word;
}
/* End css reset */

.form {
  width: 100%;
  font-family: Verdana, sans-serif;
}
[data-step],
.form[data-current-step="4"] .action {
  display: none;
}
.form[data-current-step="1"] [data-step="1"],
.form[data-current-step="2"] [data-step="2"],
.form[data-current-step="3"] [data-step="3"],
.form[data-current-step="4"] [data-step="4"] {
  display: block;
}
.row-container {
  align-items: center;
  background: #cce;
  display: grid;
  gap: 8px;
  margin: 0;
  padding: 4px 10px;
}

.information {
  align-items: center;
  display: grid;
  gap: 8px;
  grid-auto-flow: column;
}
.action {
  align-items: center;
  display: flex;
}
.logo {
  align-items: center;
  display: flex;
  gap: 8px;
}
.logo img {
  width: 15px;
}
.logo p {
  display: none;
}
button {
  background-color: transparent;
  border-radius: 5px;
  margin-right: 8px;
}
.star {
  cursor: pointer;
  font-size: 14px;
  font-weight: bold;
}
.star:before {
  content: "\u2606";
}
.full.star:before {
  content: "\u2605";
  color: gold;
}

.inline .row-container,
.inline .row-container.active {
  display: flex;
  min-height: 35px;
}
.inline .row-container .information {
  display: flex;
  flex-grow: 100;
}
.row-container .information input {
  flex: 1;
}
.inline .row-container[data-step="4"] .information {
  flex-grow: 0;
}

.small .row-container .information {
  display: flex;
}

.medium .row-container .information {
  grid-auto-flow: row;
}
.medium .logo p {
  display: block;
}
p {
  font-size: 12px;
}

div[data-step="2"] {
  white-space: nowrap;
}
`;var Wr={};dr(Wr,{appDesc:()=>rh,appName:()=>nh,appShortName:()=>ih,default:()=>_h,fdbkCareToShare:()=>sh,fdbkHowAreWeDoing:()=>oh,fdbkHowCanWeImprove:()=>ah,fdbkNoResponse:()=>uh,fdbkRateOnWebstore:()=>ch,fdbkSumbit:()=>fh,fdbkThanks:()=>lh,optionBlockedSites:()=>mh,optionBlockedSitesDesc:()=>gh,optionsSaveSuccess:()=>ph,reportAnIssue:()=>dh,showDemo:()=>hh});var nh={message:"Search & Link Preview",description:"The name of the extension"},ih={message:"Link Previews",description:"The short-version name of the extension name"},rh={message:"See previews of links and instantly performs searches on the same page using this previewer instead of opening new tabs",description:"A description of its function"},oh={message:"How are we doing?"},sh={message:"Glad you like it! Can you help us share the \u2764\uFE0F?"},ah={message:"How can we improve?"},lh={message:"Thanks for the feedback!"},ch={message:"Rate on Webstore"},uh={message:"No"},fh={message:"Submit"},dh={message:"Report an issue",description:"Button text for reporting an issue"},hh={message:"Show demo",description:"Button text for showing demo"},ph={message:"Successfully updated settings"},mh={message:"Disabled on Websites"},gh={message:"Extension will not run on these sites. Enter one site per line."},_h={appName:nh,appShortName:ih,appDesc:rh,fdbkHowAreWeDoing:oh,fdbkCareToShare:sh,fdbkHowCanWeImprove:ah,fdbkThanks:lh,fdbkRateOnWebstore:ch,fdbkNoResponse:uh,fdbkSumbit:fh,reportAnIssue:dh,showDemo:hh,optionsSaveSuccess:ph,optionBlockedSites:mh,optionBlockedSitesDesc:gh};var gs=new Nt("i18n"),Qe=e=>{if(!e)return gs.error("A valid key is required for i18n, got",e),e;if(chrome?.i18n&&chrome.i18n.getMessage(e)!=="")return chrome.i18n.getMessage(e);gs.warn("chrome.i18n is not available in the current context, falling back to en-US"),Object.keys(Wr).forEach(t=>{});for(let[t,n]of Object.entries(Wr))if(t===e)return n.message;return gs.error("No translation available for key:",e),e};var _s=class extends HTMLElement{constructor(){super();this.logger=new Nt("feedback-form");this.attachShadow({mode:"open"})}setProgressHandler(n){this.progressHandler=n}static get observedAttributes(){return["size","app-name","logo-url","store-link","form-link"]}connectedCallback(){this.logger.debug("Feedback form added to page."),this.updateStyle(this)}disconnectedCallback(){this.logger.debug("Feedback form removed from page.")}adoptedCallback(){this.logger.debug("Feedback form moved to new page.")}updateStyle(n){let i=document.createElement("style");i.textContent=$l;let r=document.createRange();r.selectNode(document.getElementsByTagName("body").item(0));let o=r.createContextualFragment(Pl),s=n.shadowRoot;s.append(i,o);let a=n.getAttribute("size")??"inline",l=n.getAttribute("app-name")??Qe("appName"),c=n.getAttribute("logo-url")??chrome.runtime.getURL("assets/logo-24x24.png"),f=n.getAttribute("store-link")??"https://chrome.google.com/webstore/detail/"+Qe("@@extension_id"),d=n.getAttribute("form-link")??"https://formspree.io/f/mayzdndj";this.logger.debug(`Attributes: size=${a}, app=${l}, logo=${c}`);let g=s.querySelector("[data-multi-step]");g.classList.remove("inline","small","medium"),g.classList.add(a),g.querySelector("img").src=c,g.querySelector(".logo p").innerHTML=l;let E=g.getAttribute("data-current-step");E||(E=1,g.setAttribute("data-current-step",E));let x=[...g.querySelectorAll(".star")],T=[...g.querySelectorAll("[data-next-step]")];if(x.length>0){let w=()=>x.forEach(A=>A.classList=["star"]),C=A=>{let y=A.target.getAttribute("data-star-index");w(),x.forEach((L,D)=>D<y?L.classList.add("full"):null)},N=A=>{let y=A.target.getAttribute("data-star-index");this.progressHandler&&this.progressHandler("started",y),E=y<5?3:2,g.setAttribute("data-current-step",E)};x.forEach(A=>A.addEventListener("mouseover",C)),x.forEach(A=>A.addEventListener("click",N)),g.addEventListener("mouseleave",w)}T.forEach(w=>w.addEventListener("click",C=>{E=C.target.getAttribute("data-next-step"),g.setAttribute("data-current-step",E),w.id==="rate-on-store"&&window.open(f);let N={feedback:g.querySelector("input").value,appName:l};w.id==="submit-form"&&fetch(d,{method:"POST",body:JSON.stringify(N)}).then(function(A){return this.logger.debug("response",A.json())}).then(function(A){this.logger.debug("response 2",A.json())}),E==4&&setTimeout(()=>{this.progressHandler&&this.progressHandler("completed",N)},1300)}))}};customElements.define("feedback-form",_s);var vs="feedback_data";var Es=class{constructor(){this.storageService=chrome.storage.sync}put(t,n){if(n==null)return Promise.reject("Attempting to save a null value");if(!t)return Promise.reject("Attempting to use a null key");let i={};return i[t]=n,this.storageService.set(i)}async get(t){return(await this.storageService.get(t))[t]}getAll(){return this.storageService.get(null)}async getAndUpdate(t,n){let i=await this.get(t);return this.put(t,await n(i))}},ut=new Es;async function Bl(){let{sessionData:e}=await chrome.storage.session.get("sessionData"),t=Date.now();return e&&e.timestamp&&((t-e.timestamp)/6e4>30?e=null:(e.timestamp=t,await chrome.storage.session.set({sessionData:e}))),e||(e={session_id:t.toString(),timestamp:t.toString()},await chrome.storage.session.set({sessionData:e})),e.session_id}var Eh="https://www.google-analytics.com/mp/collect",vh="https://www.google-analytics.com/debug/mp/collect",yh=gt.__measurement_id__,bh=gt.__ga_api_secret__,wh=100,ys=class{constructor(){this.debug=IS_DEV_BUILD}async getOrCreateClientId(){let{clientId:t}=await chrome.storage.local.get("clientId");return t||(t=self.crypto.randomUUID(),await chrome.storage.local.set({clientId:t})),t}async getSessionId(){try{return Bl()}catch{return new Promise(n=>{chrome.runtime.sendMessage("get_or_create_session_id",i=>{n(i)})})}}async fireEvent(t,n={}){n.session_id||(n.session_id=await this.getSessionId()),n.engagement_time_msec||(n.engagement_time_msec=wh);try{let i=await fetch(`${this.debug?vh:Eh}?measurement_id=${yh}&api_secret=${bh}`,{method:"POST",body:JSON.stringify({client_id:await this.getOrCreateClientId(),events:[{name:t,params:n}]})});if(!this.debug)return;console.log(await i.text())}catch(i){console.error("Google Analytics request failed with an exception",i)}}async firePageViewEvent(t,n,i={}){return this.fireEvent("page_view",{page_title:t,page_location:n,...i})}async fireErrorEvent(t,n={}){return this.fireEvent("extension_error",{...t,...n})}},bs=new ys;var $i=gt.__package_name__+"/mainframe";Pe.prototype.setUrl=function(e,t){let n=this.body.firstChild;return n&&n.tagName.toLowerCase()==="iframe"?n.src=e:(this.body.innerHTML='<iframe name="'+$i+'" src="'+e+'"></iframe>',t&&(this.body.firstChild.onload=t)),this};var ws=class{constructor(){this.logger=new Nt(this);this.headerIconUrlBase="https://www.google.com/s2/favicons?domain=";this.isVisible=!1;this.navStack=[];this.displayReaderMode=!1;this.isDemo=!1;this.searchUrl={google:"https://www.google.com/search?igu=1&q=",bing:"https://www.bing.com/search?q=",yahoo:"https://search.yahoo.com/search?p=",baidu:"https://www.baidu.com/s?wd=",yandex:"https://yandex.com/search/?text=",duckduckgo:"https://duckduckgo.com/?q=",ecosia:"https://www.ecosia.org/search?q="};this.onEscHandler=t=>{t=t||window.event;var n=!1;"key"in t?n=t.key==="Escape"||t.key==="Esc":n=t.keyCode===27,n&&this.handleMessage({action:"escape",href:document.location.href,sourceFrame:$i})}}init(){if(this.inIframe()){this.logger.log("Not inserting previewr in iframe: ",window.location.href);return}this.listenForCspError(),this.listenForWindowMessages(),document.addEventListener("keydown",this.onEscHandler),document.addEventListener("click",t=>this.clickHandler(t)),document.addEventListener("scroll",t=>this.handleScroll(t))}listenForCspError(){document.addEventListener("securitypolicyviolation",t=>{window.name===$i&&this.logger.error("CSP error",t,t.blockedURI)})}async clickHandler(t){(await ut.get("automatically-hide-previews")??!1)&&this.dialog&&!this.dialog.dom.contains(t.target)&&this.dialog.close()}async handleScroll(t){(await ut.get("automatically-hide-previews")??!1)&&this.dialog&&!this.dialog.dom.contains(t.target)&&this.dialog.close()}listenForWindowMessages(){window.addEventListener("message",t=>{if(t.origin!==window.location.origin){this.logger.debug("Ignoring message from different origin",t.origin,t.data);return}if(t.data.application!==gt.__package_name__){this.logger.debug("Ignoring origin messsage not initiated by Better Previews",t.data);return}this.logger.log("#WindowMessage: ",t),this.handleMessage(t.data)},!1)}async handleMessage(t){let n;if(t.mode==="demo"&&(this.isDemo=!0),t.action==="copy"){navigator.clipboard.writeText(t.data);return}else if(t.action==="preview")n=t.data;else if(t.action==="search"){let r=await ut.get("search-engine")??"google";n=this.searchUrl[r]+t.data,r==="google"&&await ut.get("disable-incognito-google")==!0&&(n="https://www.google.com/search?q="+t.data)}else if(t.action==="load")t.sourceFrame===$i&&this.dialog&&(this.dialog.setTitle(t.data.title),this.dialog.setIcon(this.headerIconUrlBase+new URL(t.href).hostname));else if(t.action==="navigate")n=t.href;else if(t.action==="escape"){(await ut.get("close-on-esc")??!0)&&this.dialog?.close();return}else this.logger.warn("Unhandled action",t);if(!n||(0,Hl.sanitizeUrl)(n)==="about:blank")return;let i;try{i=new URL(n)}catch(r){this.logger.error(r);return}return this.url&&this.url.href!==i.href&&this.navStack.push(this.url),this.previewUrl(i)}async previewUrl(t){this.logger.log("#previewUrl: ",t),this.url=t;let n=await this.getWinboxOptions(t);if(this.displayReaderMode){let r=new Ul.Readability(window.document.cloneNode(!0)).parse();r||(console.error("Article is null"),n.html="<h1>Failed to parse article</h1>"),n.html=`<h1>${r.title}</h1> <p>${r.byline}</p> ${r.content}`}else n.url=this.url;this.dialog?(this.logger.debug("restoring dialog"),this.dialog.restore(),this.dialog.setUrl(t.href),this.dialog.setTitle(t.hostname),this.dialog.setIcon(this.headerIconUrlBase+t.hostname)):(this.logger.debug("creating new dialog with options:",n),this.dialog=new Pe(t.hostname,n),this.dialog.addControl({index:2,class:"wb-nav-away",title:"Open in New Tab",image:"",click:(i,r)=>{this.logger.log("#onOpenInNewTab: url",this.url),window.open(this.url,"_blank")}}),this.dialog.addControl({index:3,class:"wb-settings",title:"Extension Settings",image:"",click:(i,r)=>{this.logger.log("#onOpenSettings: url",this.url),chrome.runtime.sendMessage("open_options_page")}})),this.dialog.removeControl("nav-back"),this.navStack.length>0&&this.dialog.addControl({index:0,class:"nav-back",image:"",title:"Go Back",click:(i,r)=>{this.navBack()}}),await this.registerFeedbackUI()}async registerFeedbackUI(){(await ut.get(vs))?.status==="eligible"&&this.dialog?.addClass("show-footer"),(this.dialog?.dom.querySelector("feedback-form")).setProgressHandler((r,o)=>{if(r==="started"){this.logger.log("started: this",this,chrome?.storage?.sync);let s={status:"honored",timestamp:Date.now(),rating:o};ut.put(vs,s),bs.fireEvent("user_feedback",{action:"rate_experience",star_rating:o})}r==="completed"&&(this.dialog?.removeClass("show-footer"),bs.fireEvent("user_feedback",{action:"submit_feedback",feedback_text:o}))})}navBack(){let t=this.navStack.pop();t&&this.previewUrl(t)}inIframe(){try{return window.self!==window.top}catch{return!0}}getMaxZIndex(){return new Promise(t=>{let n=Math.max(...Array.from(document.querySelectorAll("body *"),i=>parseFloat(window.getComputedStyle(i).zIndex)).filter(i=>!Number.isNaN(i)),0);t(n)})}async getWinboxOptions(t,n){let i=(await ut.get("previewr-width")??"55")+"%",r=(await ut.get("previewr-height")??"80")+"%",o=await ut.get("previewr-position")??"right",s="80px";this.isDemo&&(i="45%",r="40%",s="500px");let a={icon:this.headerIconUrlBase+t.hostname,y:s,width:i,height:r,class:["no-max","no-full"],index:await this.getMaxZIndex(),hidden:!1,shadowel:"search-preview-window",framename:$i,onclose:()=>{this.navStack=[],this.url=void 0,this.dialog=void 0}};return o==="right"?(a.x="right",a.right=10):(a.x="left",a.left=10),a}};new ws().init();var xs=class{constructor(){this.iframeName=gt.__package_name__+"/mainframe";this.logger=new Nt(this);this.redirectClicks=t=>{var n=this.getLinkTarget(t);!n||!n.href||n.href.startsWith("#")||(t.stopImmediatePropagation(),t.preventDefault(),this.logger.debug("Prevented click propagation and posting navigate"),this.sendMessage({action:"navigate",href:n.href,source:window.location.href}))}}registerListeners(){!this.inIframe()||this.getFrameName()===this.iframeName&&(this.maybeEnableFrameBustingBuster(),document.addEventListener("click",this.redirectClicks,!0),window.addEventListener("load",()=>{this.sendMessage({action:"load",data:{title:this.getTitle()}})}),window.addEventListener("unload",()=>{this.sendMessage({action:"unload"})}))}async maybeEnableFrameBustingBuster(){if(!(await ut.get("enable-anti-frame-busting")??!1))return;let n=0;window.onbeforeunload=function(){n++},setInterval(function(){n>0&&(n-=2,window.top.location="https://httpstat.us/204")},1)}inIframe(){try{return window.self!==window.top}catch{return!0}}getFrameName(){return window.name}getLinkTarget(t){var n=t.target;do if(n.nodeName.toUpperCase()==="A"&&n.href)return n;while(n=n.parentElement);return null}sendMessage(t){this.logger.debug("#sendMessage",t),chrome.runtime.sendMessage({application:gt.__package_name__,href:document.location.href,sourceFrame:this.getFrameName(),...t})}getTitle(){if(document.title)return document.title;let t=document.querySelector("meta[property='og:site_name'][content]");return t?t.content:window.location.origin}},xh=new xs;xh.registerListeners();function Hi(e){return e.split("-")[1]}function As(e){return e==="y"?"height":"width"}function yn(e){return e.split("-")[0]}function Ui(e){return["top","bottom"].includes(yn(e))?"x":"y"}function jl(e,t,n){let{reference:i,floating:r}=e,o=i.x+i.width/2-r.width/2,s=i.y+i.height/2-r.height/2,a=Ui(t),l=As(a),c=i[l]/2-r[l]/2,f=a==="x",d;switch(yn(t)){case"top":d={x:o,y:i.y-r.height};break;case"bottom":d={x:o,y:i.y+i.height};break;case"right":d={x:i.x+i.width,y:s};break;case"left":d={x:i.x-r.width,y:s};break;default:d={x:i.x,y:i.y}}switch(Hi(t)){case"start":d[a]-=c*(n&&f?-1:1);break;case"end":d[a]+=c*(n&&f?-1:1)}return d}var Fl=async(e,t,n)=>{let{placement:i="bottom",strategy:r="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t)),c=await s.getElementRects({reference:e,floating:t,strategy:r}),{x:f,y:d}=jl(c,i,l),g=i,E={},x=0;for(let T=0;T<a.length;T++){let{name:w,fn:C}=a[T],{x:N,y:A,data:y,reset:L}=await C({x:f,y:d,initialPlacement:i,placement:g,strategy:r,middlewareData:E,rects:c,platform:s,elements:{reference:e,floating:t}});f=N??f,d=A??d,E={...E,[w]:{...E[w],...y}},L&&x<=50&&(x++,typeof L=="object"&&(L.placement&&(g=L.placement),L.rects&&(c=L.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:r}):L.rects),{x:f,y:d}=jl(c,g,l)),T=-1)}return{x:f,y:d,placement:g,strategy:r,middlewareData:E}};function Gl(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function Bi(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function Ns(e,t){var n;t===void 0&&(t={});let{x:i,y:r,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:g=!1,padding:E=0}=t,x=Gl(E),T=a[g?d==="floating"?"reference":"floating":d],w=Bi(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(T)))==null||n?T:T.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:f,strategy:l})),C=d==="floating"?{...s.floating,x:i,y:r}:s.reference,N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),A=await(o.isElement==null?void 0:o.isElement(N))&&await(o.getScale==null?void 0:o.getScale(N))||{x:1,y:1},y=Bi(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:C,offsetParent:N,strategy:l}):C);return{top:(w.top-y.top+x.top)/A.y,bottom:(y.bottom-w.bottom+x.bottom)/A.y,left:(w.left-y.left+x.left)/A.x,right:(y.right-w.right+x.right)/A.x}}var Th=Math.min,Sh=Math.max;function Ss(e,t,n){return Sh(e,Th(t,n))}var Cs=e=>({name:"arrow",options:e,async fn(t){let{element:n,padding:i=0}=e||{},{x:r,y:o,placement:s,rects:a,platform:l}=t;if(n==null)return{};let c=Gl(i),f={x:r,y:o},d=Ui(s),g=As(d),E=await l.getDimensions(n),x=d==="y"?"top":"left",T=d==="y"?"bottom":"right",w=a.reference[g]+a.reference[d]-f[d]-a.floating[g],C=f[d]-a.reference[d],N=await(l.getOffsetParent==null?void 0:l.getOffsetParent(n)),A=N?d==="y"?N.clientHeight||0:N.clientWidth||0:0;A===0&&(A=a.floating[g]);let y=w/2-C/2,L=c[x],D=A-E[g]-c[T],R=A/2-E[g]/2+y,$=Ss(L,R,D),B=Hi(s)!=null&&R!=$&&a.reference[g]/2-(R<L?c[x]:c[T])-E[g]/2<0;return{[d]:f[d]-(B?R<L?L-R:D-R:0),data:{[d]:$,centerOffset:R-$}}}}),Ah=["top","right","bottom","left"],Ax=Ah.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]),Nh={left:"right",right:"left",bottom:"top",top:"bottom"};function Yr(e){return e.replace(/left|right|bottom|top/g,t=>Nh[t])}function Ch(e,t,n){n===void 0&&(n=!1);let i=Hi(e),r=Ui(e),o=As(r),s=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=Yr(s)),{main:s,cross:Yr(s)}}var Oh={start:"end",end:"start"};function Ts(e){return e.replace(/start|end/g,t=>Oh[t])}var Os=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;let{placement:i,middlewareData:r,rects:o,initialPlacement:s,platform:a,elements:l}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:x=!0,...T}=e,w=yn(i),C=yn(s)===s,N=await(a.isRTL==null?void 0:a.isRTL(l.floating)),A=d||(C||!x?[Yr(s)]:function(M){let j=Yr(M);return[Ts(M),j,Ts(j)]}(s));d||E==="none"||A.push(...function(M,j,W,q){let it=Hi(M),H=function(V,Q,at){let rt=["left","right"],z=["right","left"],G=["top","bottom"],wt=["bottom","top"];switch(V){case"top":case"bottom":return at?Q?z:rt:Q?rt:z;case"left":case"right":return Q?G:wt;default:return[]}}(yn(M),W==="start",q);return it&&(H=H.map(V=>V+"-"+it),j&&(H=H.concat(H.map(Ts)))),H}(s,x,E,N));let y=[s,...A],L=await Ns(t,T),D=[],R=((n=r.flip)==null?void 0:n.overflows)||[];if(c&&D.push(L[w]),f){let{main:M,cross:j}=Ch(i,o,N);D.push(L[M],L[j])}if(R=[...R,{placement:i,overflows:D}],!D.every(M=>M<=0)){var $;let M=((($=r.flip)==null?void 0:$.index)||0)+1,j=y[M];if(j)return{data:{index:M,overflows:R},reset:{placement:j}};let W="bottom";switch(g){case"bestFit":{var B;let q=(B=R.map(it=>[it,it.overflows.filter(H=>H>0).reduce((H,V)=>H+V,0)]).sort((it,H)=>it[1]-H[1])[0])==null?void 0:B[0].placement;q&&(W=q);break}case"initialPlacement":W=s}if(i!==W)return{reset:{placement:W}}}return{}}}};var Ds=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){let{x:n,y:i}=t,r=await async function(o,s){let{placement:a,platform:l,elements:c}=o,f=await(l.isRTL==null?void 0:l.isRTL(c.floating)),d=yn(a),g=Hi(a),E=Ui(a)==="x",x=["left","top"].includes(d)?-1:1,T=f&&E?-1:1,w=typeof s=="function"?s(o):s,{mainAxis:C,crossAxis:N,alignmentAxis:A}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...w};return g&&typeof A=="number"&&(N=g==="end"?-1*A:A),E?{x:N*T,y:C*x}:{x:C*x,y:N*T}}(t,e);return{x:n+r.x,y:i+r.y,data:r}}}};function Dh(e){return e==="x"?"y":"x"}var Ls=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){let{x:n,y:i,placement:r}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:w=>{let{x:C,y:N}=w;return{x:C,y:N}}},...l}=e,c={x:n,y:i},f=await Ns(t,l),d=Ui(yn(r)),g=Dh(d),E=c[d],x=c[g];if(o){let w=d==="y"?"bottom":"right";E=Ss(E+f[d==="y"?"top":"left"],E,E-f[w])}if(s){let w=g==="y"?"bottom":"right";x=Ss(x+f[g==="y"?"top":"left"],x,x-f[w])}let T=a.fn({...t,[d]:E,[g]:x});return{...T,data:{x:T.x-n,y:T.y-i}}}}};function Xt(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function we(e){return Xt(e).getComputedStyle(e)}function en(e){return Xl(e)?(e.nodeName||"").toLowerCase():""}var Vr;function Kl(){if(Vr)return Vr;let e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(Vr=e.brands.map(t=>t.brand+"/"+t.version).join(" "),Vr):navigator.userAgent}function $e(e){return e instanceof Xt(e).HTMLElement}function Ze(e){return e instanceof Xt(e).Element}function Xl(e){return e instanceof Xt(e).Node}function zl(e){return typeof ShadowRoot>"u"?!1:e instanceof Xt(e).ShadowRoot||e instanceof ShadowRoot}function Kr(e){let{overflow:t,overflowX:n,overflowY:i,display:r}=we(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(r)}function Lh(e){return["table","td","th"].includes(en(e))}function Is(e){let t=/firefox/i.test(Kl()),n=we(e),i=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!i&&i!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(r=>n.willChange.includes(r))||["paint","layout","strict","content"].some(r=>{let o=n.contain;return o!=null&&o.includes(r)})}function Jl(){return!/^((?!chrome|android).)*safari/i.test(Kl())}function Rs(e){return["html","body","#document"].includes(en(e))}var Wl=Math.min,ji=Math.max,qr=Math.round;function Ql(e){let t=we(e),n=parseFloat(t.width),i=parseFloat(t.height),r=e.offsetWidth,o=e.offsetHeight,s=qr(n)!==r||qr(i)!==o;return s&&(n=r,i=o),{width:n,height:i,fallback:s}}function Zl(e){return Ze(e)?e:e.contextElement}var tc={x:1,y:1};function Qn(e){let t=Zl(e);if(!$e(t))return tc;let n=t.getBoundingClientRect(),{width:i,height:r,fallback:o}=Ql(t),s=(o?qr(n.width):n.width)/i,a=(o?qr(n.height):n.height)/r;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}function Fi(e,t,n,i){var r,o;t===void 0&&(t=!1),n===void 0&&(n=!1);let s=e.getBoundingClientRect(),a=Zl(e),l=tc;t&&(i?Ze(i)&&(l=Qn(i)):l=Qn(e));let c=a?Xt(a):window,f=!Jl()&&n,d=(s.left+(f&&((r=c.visualViewport)==null?void 0:r.offsetLeft)||0))/l.x,g=(s.top+(f&&((o=c.visualViewport)==null?void 0:o.offsetTop)||0))/l.y,E=s.width/l.x,x=s.height/l.y;if(a){let T=Xt(a),w=i&&Ze(i)?Xt(i):i,C=T.frameElement;for(;C&&i&&w!==T;){let N=Qn(C),A=C.getBoundingClientRect(),y=getComputedStyle(C);A.x+=(C.clientLeft+parseFloat(y.paddingLeft))*N.x,A.y+=(C.clientTop+parseFloat(y.paddingTop))*N.y,d*=N.x,g*=N.y,E*=N.x,x*=N.y,d+=A.x,g+=A.y,C=Xt(C).frameElement}}return{width:E,height:x,top:g,right:d+E,bottom:g+x,left:d,x:d,y:g}}function tn(e){return((Xl(e)?e.ownerDocument:e.document)||window.document).documentElement}function Xr(e){return Ze(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ec(e){return Fi(tn(e)).left+Xr(e).scrollLeft}function Ih(e,t,n){let i=$e(t),r=tn(t),o=Fi(e,!0,n==="fixed",t),s={scrollLeft:0,scrollTop:0},a={x:0,y:0};if(i||!i&&n!=="fixed")if((en(t)!=="body"||Kr(r))&&(s=Xr(t)),$e(t)){let l=Fi(t,!0);a.x=l.x+t.clientLeft,a.y=l.y+t.clientTop}else r&&(a.x=ec(r));return{x:o.left+s.scrollLeft-a.x,y:o.top+s.scrollTop-a.y,width:o.width,height:o.height}}function Gi(e){if(en(e)==="html")return e;let t=e.assignedSlot||e.parentNode||(zl(e)?e.host:null)||tn(e);return zl(t)?t.host:t}function Yl(e){return $e(e)&&we(e).position!=="fixed"?e.offsetParent:null}function Vl(e){let t=Xt(e),n=Yl(e);for(;n&&Lh(n)&&we(n).position==="static";)n=Yl(n);return n&&(en(n)==="html"||en(n)==="body"&&we(n).position==="static"&&!Is(n))?t:n||function(i){let r=Gi(i);for(;$e(r)&&!Rs(r);){if(Is(r))return r;r=Gi(r)}return null}(e)||t}function nc(e){let t=Gi(e);return Rs(t)?e.ownerDocument.body:$e(t)&&Kr(t)?t:nc(t)}function ic(e,t){var n;t===void 0&&(t=[]);let i=nc(e),r=i===((n=e.ownerDocument)==null?void 0:n.body),o=Xt(i);return r?t.concat(o,o.visualViewport||[],Kr(i)?i:[]):t.concat(i,ic(i))}function ql(e,t,n){return t==="viewport"?Bi(function(i,r){let o=Xt(i),s=tn(i),a=o.visualViewport,l=s.clientWidth,c=s.clientHeight,f=0,d=0;if(a){l=a.width,c=a.height;let g=Jl();(g||!g&&r==="fixed")&&(f=a.offsetLeft,d=a.offsetTop)}return{width:l,height:c,x:f,y:d}}(e,n)):Ze(t)?function(i,r){let o=Fi(i,!0,r==="fixed"),s=o.top+i.clientTop,a=o.left+i.clientLeft,l=$e(i)?Qn(i):{x:1,y:1},c=i.clientWidth*l.x,f=i.clientHeight*l.y,d=a*l.x,g=s*l.y;return{top:g,left:d,right:d+c,bottom:g+f,x:d,y:g,width:c,height:f}}(t,n):Bi(function(i){var r;let o=tn(i),s=Xr(i),a=(r=i.ownerDocument)==null?void 0:r.body,l=ji(o.scrollWidth,o.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),c=ji(o.scrollHeight,o.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),f=-s.scrollLeft+ec(i),d=-s.scrollTop;return we(a||o).direction==="rtl"&&(f+=ji(o.clientWidth,a?a.clientWidth:0)-l),{width:l,height:c,x:f,y:d}}(tn(e)))}var Rh={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:i,strategy:r}=e,o=n==="clippingAncestors"?function(c,f){let d=f.get(c);if(d)return d;let g=ic(c).filter(w=>Ze(w)&&en(w)!=="body"),E=null,x=we(c).position==="fixed",T=x?Gi(c):c;for(;Ze(T)&&!Rs(T);){let w=we(T),C=Is(T);(x?C||E:C||w.position!=="static"||!E||!["absolute","fixed"].includes(E.position))?E=w:g=g.filter(N=>N!==T),T=Gi(T)}return f.set(c,g),g}(t,this._c):[].concat(n),s=[...o,i],a=s[0],l=s.reduce((c,f)=>{let d=ql(t,f,r);return c.top=ji(d.top,c.top),c.right=Wl(d.right,c.right),c.bottom=Wl(d.bottom,c.bottom),c.left=ji(d.left,c.left),c},ql(t,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:i}=e,r=$e(n),o=tn(n);if(n===o)return t;let s={scrollLeft:0,scrollTop:0},a={x:1,y:1},l={x:0,y:0};if((r||!r&&i!=="fixed")&&((en(n)!=="body"||Kr(o))&&(s=Xr(n)),$e(n))){let c=Fi(n);a=Qn(n),l.x=c.x+n.clientLeft,l.y=c.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+l.x,y:t.y*a.y-s.scrollTop*a.y+l.y}},isElement:Ze,getDimensions:function(e){return Ql(e)},getOffsetParent:Vl,getDocumentElement:tn,getScale:Qn,async getElementRects(e){let{reference:t,floating:n,strategy:i}=e,r=this.getOffsetParent||Vl,o=this.getDimensions;return{reference:Ih(t,await r(n),i),floating:{x:0,y:0,...await o(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>we(e).direction==="rtl"};var rc=(e,t,n)=>{let i=new Map,r={platform:Rh,...n},o={...r.platform,_c:i};return Fl(e,t,{...r,platform:o})};var oc=`/* Floatie CSS */
#sp-floatie-container {
  display: none;
  position: absolute;
  top: 0;
  left: 0;
  background: #222222;
  color: white;
  border-radius: 4px;
  padding: 2px;
  font-size: 11px;
  font-family: sans-serif;
}

#sp-floatie-arrow {
  position: absolute;
  background: rgb(255, 34, 34);
  background: linear-gradient(
    -45deg,
    rgba(34, 34, 34, 1) 0%,
    rgba(34, 34, 34, 1) 51%,
    rgba(0, 0, 0, 0) 53%,
    rgba(0, 0, 0, 0) 80%
  );
  width: 8px;
  height: 8px;
  transform: rotate(45deg);
}

.sp-floatie-action {
  display: block;
  background-color: #222222;
  padding-top: 5px;
  padding-bottom: 5px;
  padding-left: 8px;
  padding-right: 8px;
  margin: 0 0 !important;
}

.hide-1 {
  transition: opacity 2s;
  opacity: 0;
}
.hide-2 {
  transition: opacity 3s;
  opacity: 0;
}
.hide-3 {
  transition: opacity 4s;
  opacity: 0;
}
.hide-4 {
  transition: opacity 5s;
  opacity: 0;
}
.hide-5 {
  transition: opacity 6s;
  opacity: 0;
}

.sp-floatie-action:hover {
  background-color: #777;
}
`;var Jr=class{constructor(){this.isCopyActionEnabled=!1;this.logger=new Nt(this);let t=`
        <div id="sp-floatie-container">
            <div id="sp-floatie-arrow"></div>
            <div id="sp-floatie-search" class="sp-floatie-action" data-action="search">Search</div>
            <div id="sp-floatie-preview" class="sp-floatie-action" data-action="preview">Preview</div>
                        <div id="sp-floatie-copy" class="sp-floatie-action" data-action="copy">Copy</div>
        </div>
        `,n=document.createRange();n.selectNode(document.getElementsByTagName("body").item(0)),this.documentFragment=n.createContextualFragment(t);let i=this.documentFragment.getElementById("sp-floatie-container"),r=this.documentFragment.getElementById("sp-floatie-search"),o=this.documentFragment.getElementById("sp-floatie-preview"),s=this.documentFragment.getElementById("sp-floatie-copy"),a=this.documentFragment.getElementById("sp-floatie-arrow");if(!i||!r||!o||!s||!a)throw new Error("Impossible error obtaining action buttons from DOM");this.container=i,this.searchButton=r,this.previewButton=o,this.copyButton=s,this.tooltipArrow=a,this.logger.debug("Initialized floatie")}startListening(){if(this.inIframe())return;let t=document.createElement("better-previews-tooltip"),n=document.createElement("style");n.textContent=oc,t.appendChild(n),t.appendChild(this.documentFragment),t.attachShadow({mode:"open"}).innerHTML="<slot></slot>",document.body.appendChild(t),window.onscroll=()=>this.hideAll(),window.onresize=()=>this.hideAll(),window.oncontextmenu=()=>this.hideAll(),document.onmouseup=i=>this.deferredMaybeShow(i),document.onkeydown=()=>this.hideAll(),this.setupLinkPreviews()}setupLinkPreviews(){let t=document.querySelectorAll("a"),n=null,i=null,r=null;t.forEach(o=>{!this.isGoodUrl(o.href)||!o.innerText.trim()||(o.addEventListener("mouseover",s=>{r&&(clearTimeout(r),r=null),n=setTimeout(async()=>{let a=await ut.get("preview-on-hover")??!1;if(this.showActions(o.getBoundingClientRect(),s,o.href,[this.previewButton]),a){let l=await ut.get("preview-on-hover-delay")??3;this.container.classList.add("hide-"+l),i=setTimeout(()=>{this.container.className="",this.container.style.display="none",this.sendMessage("preview",o.href)},l*1e3)}},500)}),o.addEventListener("mouseout",()=>{n&&(clearTimeout(n),n=null),i&&(clearTimeout(i),this.container.className="",this.container.style.display="none",i=null),r=setTimeout(()=>{this.hideAll()},2e3)}))})}stopListening(){document.body.removeChild(this.documentFragment),document.removeEventListener("onmouseup",()=>{}),window.removeEventListener("onscroll",()=>{}),window.removeEventListener("onresize",()=>{})}deferredMaybeShow(t){this.showTimeout=window.setTimeout(()=>this.maybeShow(t),100)}maybeShow(t){if(this.hideAll(),typeof window.getSelection>"u")return;let n=window.getSelection();if(n.isCollapsed)return;let i=n.toString().trim(),o=n.getRangeAt(0).getBoundingClientRect();this.logger.debug("Selected: ",i);let s=[];this.shouldShowPreview(t,i)?s.push(this.previewButton):this.shouldShowSearch(t,i)&&s.push(this.searchButton),this.shouldShowCopy(i)&&s.push(this.copyButton),this.showActions(o,t,i,s)}getAbsoluteUrl(t){let n=new RegExp("^(?:[a-z+]+:)?//","i"),i;try{if(n.test(t))i=new URL(t);else return null}catch{return null}return i}isGoodUrl(t){if(!t||!t.trim())return!1;let n=this.getAbsoluteUrl(t);return!(n===null||n.protocol!=="http:"&&n.protocol!=="https:"||n.hostname===window.location.hostname)}shouldShowCopy(t){return this.isCopyActionEnabled&&t.length>0}shouldShowPreview(t,n){let i=r=>{var o=r.target;do if(o.nodeName.toUpperCase()==="A"&&this.isGoodUrl(o.href))return!0;while(o=o.parentElement);return!1};return this.isGoodUrl(n)||i(t)}getPreviewUrl(t,n){let i=r=>{var o=r.target;do if(o.nodeName.toUpperCase()==="A"&&this.isGoodUrl(o.href))return o.href;while(o=o.parentElement)};return this.isGoodUrl(n)?this.getAbsoluteUrl(n)?.href:i(t)}shouldShowSearch(t,n){let i=a=>a.length>0&&a.length<100,r=a=>String(a).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),o=a=>!isNaN(Date.parse(a)),s=a=>/[a-zA-Z]/.test(a);return i(n)&&s(n)&&!r(n)&&!o(n)&&!this.shouldShowPreview(t,n)}showActions(t,n,i,r){this.hideAll(),r.length!==0&&(this.showContainer(t),r.forEach(o=>{o.style.display="inline-block",o.onclick=()=>{if(typeof window.getSelection<"u"){let s=window.getSelection();if(s.isCollapsed||(i=s.toString().trim()),o.innerText=="Preview"){let a=this.getPreviewUrl(n,i);a&&(i=a)}}this.sendMessage(o.getAttribute("data-action")||"unknown-action",i),this.hideAll()}}))}sendMessage(t,n){window.postMessage({application:gt.__package_name__,action:t,data:n},window.location.origin)}showContainer(t){this.container.style.display="block";let n=()=>new Promise(r=>{let o=Math.max(...Array.from(document.querySelectorAll("body *"),s=>parseFloat(window.getComputedStyle(s).zIndex)).filter(s=>!Number.isNaN(s)),0);r(o)});rc({getBoundingClientRect(){return{width:t.width,height:t.height,x:t.x,y:t.y,top:t.top,left:t.left,right:t.right,bottom:t.bottom}}},this.container,{placement:"top",strategy:"absolute",middleware:[Ds(12),Os(),Ls({padding:5}),Cs({element:this.tooltipArrow})]}).then(({x:r,y:o,placement:s,middlewareData:a})=>{Object.assign(this.container.style,{top:`${o}px`,left:`${r}px`});let l=a.arrow,c="bottom";switch(s.split("-")[0]){case"top":c="bottom";break;case"left":c="right";break;case"bottom":c="top";break;case"right":c="left";break}Object.assign(this.tooltipArrow.style,{left:l?.x!=null?`${l.x}px`:"",top:l?.y!=null?`${l.y}px`:"",right:"",bottom:"",[c]:"-4px"}),n().then(f=>{this.container.style.zIndex=""+(f+10),this.tooltipArrow.style.zIndex=""+(f-1)})})}hideAll(){clearTimeout(this.showTimeout),this.container.style.display="none",this.copyButton.style.display="none",this.searchButton.style.display="none",this.previewButton.style.display="none"}inIframe(){try{return window.self!==window.top}catch{return!0}}};var Ms=class{constructor(){this.floatie=new Jr;this.logger=new Nt(this);this.unsupportedHosts=["mail.google.com"]}async start(){if(await this.isDisabledDomain()){this.logger.debug("Better Previews is disabled on ",window.location.host);return}this.floatie.startListening(),this.inIframe()||chrome.runtime.onMessage.addListener((t,n,i)=>{this.logger.debug("Re-posting message for DOM: ",t),window.postMessage({application:gt.__package_name__,...t}),i("ok")})}stop(){this.floatie.stopListening()}async isDisabledDomain(){let t=await ut.get("blocked-sites")??"";if(!t)return!1;let n=window.location.hostname;return t.includes(n)}inIframe(){try{return window.self!==window.top}catch{return!0}}},kh=new Ms;kh.start();var ao={};dr(ao,{afterMain:()=>fc,afterRead:()=>lc,afterWrite:()=>pc,applyStyles:()=>ti,arrow:()=>Zr,auto:()=>zi,basePlacements:()=>Be,beforeMain:()=>cc,beforeRead:()=>sc,beforeWrite:()=>dc,bottom:()=>ht,clippingParents:()=>ks,computeStyles:()=>ni,createPopper:()=>Zi,createPopperBase:()=>xc,createPopperLite:()=>Tc,detectOverflow:()=>Rt,end:()=>nn,eventListeners:()=>ii,flip:()=>io,hide:()=>ro,left:()=>ct,main:()=>uc,modifierPhases:()=>$s,offset:()=>oo,placements:()=>Yi,popper:()=>bn,popperGenerator:()=>On,popperOffsets:()=>si,preventOverflow:()=>so,read:()=>ac,reference:()=>Ps,right:()=>ft,start:()=>xe,top:()=>st,variationPlacements:()=>Qr,viewport:()=>Wi,write:()=>hc});var st="top",ht="bottom",ft="right",ct="left",zi="auto",Be=[st,ht,ft,ct],xe="start",nn="end",ks="clippingParents",Wi="viewport",bn="popper",Ps="reference",Qr=Be.reduce(function(e,t){return e.concat([t+"-"+xe,t+"-"+nn])},[]),Yi=[].concat(Be,[zi]).reduce(function(e,t){return e.concat([t,t+"-"+xe,t+"-"+nn])},[]),sc="beforeRead",ac="read",lc="afterRead",cc="beforeMain",uc="main",fc="afterMain",dc="beforeWrite",hc="write",pc="afterWrite",$s=[sc,ac,lc,cc,uc,fc,dc,hc,pc];function yt(e){return e?(e.nodeName||"").toLowerCase():null}function nt(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Jt(e){var t=nt(e).Element;return e instanceof t||e instanceof Element}function _t(e){var t=nt(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Zn(e){if(typeof ShadowRoot>"u")return!1;var t=nt(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Ph(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var i=t.styles[n]||{},r=t.attributes[n]||{},o=t.elements[n];!_t(o)||!yt(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var a=r[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function $h(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],o=t.attributes[i]||{},s=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:n[i]),a=s.reduce(function(l,c){return l[c]="",l},{});!_t(r)||!yt(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}var ti={name:"applyStyles",enabled:!0,phase:"write",fn:Ph,effect:$h,requires:["computeStyles"]};function bt(e){return e.split("-")[0]}var fe=Math.max,wn=Math.min,He=Math.round;function ei(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Vi(){return!/^((?!chrome|android).)*safari/i.test(ei())}function Qt(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=e.getBoundingClientRect(),r=1,o=1;t&&_t(e)&&(r=e.offsetWidth>0&&He(i.width)/e.offsetWidth||1,o=e.offsetHeight>0&&He(i.height)/e.offsetHeight||1);var s=Jt(e)?nt(e):window,a=s.visualViewport,l=!Vi()&&n,c=(i.left+(l&&a?a.offsetLeft:0))/r,f=(i.top+(l&&a?a.offsetTop:0))/o,d=i.width/r,g=i.height/o;return{width:d,height:g,top:f,right:c+d,bottom:f+g,left:c,x:c,y:f}}function xn(e){var t=Qt(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function qi(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Zn(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function It(e){return nt(e).getComputedStyle(e)}function Bs(e){return["table","td","th"].indexOf(yt(e))>=0}function xt(e){return((Jt(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ue(e){return yt(e)==="html"?e:e.assignedSlot||e.parentNode||(Zn(e)?e.host:null)||xt(e)}function mc(e){return!_t(e)||It(e).position==="fixed"?null:e.offsetParent}function Bh(e){var t=/firefox/i.test(ei()),n=/Trident/i.test(ei());if(n&&_t(e)){var i=It(e);if(i.position==="fixed")return null}var r=Ue(e);for(Zn(r)&&(r=r.host);_t(r)&&["html","body"].indexOf(yt(r))<0;){var o=It(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function de(e){for(var t=nt(e),n=mc(e);n&&Bs(n)&&It(n).position==="static";)n=mc(n);return n&&(yt(n)==="html"||yt(n)==="body"&&It(n).position==="static")?t:n||Bh(e)||t}function Tn(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Sn(e,t,n){return fe(e,wn(t,n))}function gc(e,t,n){var i=Sn(e,t,n);return i>n?n:i}function Ki(){return{top:0,right:0,bottom:0,left:0}}function Xi(e){return Object.assign({},Ki(),e)}function Ji(e,t){return t.reduce(function(n,i){return n[i]=e,n},{})}var Hh=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Xi(typeof t!="number"?t:Ji(t,Be))};function Uh(e){var t,n=e.state,i=e.name,r=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=bt(n.placement),l=Tn(a),c=[ct,ft].indexOf(a)>=0,f=c?"height":"width";if(!(!o||!s)){var d=Hh(r.padding,n),g=xn(o),E=l==="y"?st:ct,x=l==="y"?ht:ft,T=n.rects.reference[f]+n.rects.reference[l]-s[l]-n.rects.popper[f],w=s[l]-n.rects.reference[l],C=de(o),N=C?l==="y"?C.clientHeight||0:C.clientWidth||0:0,A=T/2-w/2,y=d[E],L=N-g[f]-d[x],D=N/2-g[f]/2+A,R=Sn(y,D,L),$=l;n.modifiersData[i]=(t={},t[$]=R,t.centerOffset=R-D,t)}}function jh(e){var t=e.state,n=e.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||!qi(t.elements.popper,r)||(t.elements.arrow=r))}var Zr={name:"arrow",enabled:!0,phase:"main",fn:Uh,effect:jh,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Zt(e){return e.split("-")[1]}var Fh={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Gh(e,t){var n=e.x,i=e.y,r=t.devicePixelRatio||1;return{x:He(n*r)/r||0,y:He(i*r)/r||0}}function _c(e){var t,n=e.popper,i=e.popperRect,r=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,f=e.roundOffsets,d=e.isFixed,g=s.x,E=g===void 0?0:g,x=s.y,T=x===void 0?0:x,w=typeof f=="function"?f({x:E,y:T}):{x:E,y:T};E=w.x,T=w.y;var C=s.hasOwnProperty("x"),N=s.hasOwnProperty("y"),A=ct,y=st,L=window;if(c){var D=de(n),R="clientHeight",$="clientWidth";if(D===nt(n)&&(D=xt(n),It(D).position!=="static"&&a==="absolute"&&(R="scrollHeight",$="scrollWidth")),D=D,r===st||(r===ct||r===ft)&&o===nn){y=ht;var B=d&&D===L&&L.visualViewport?L.visualViewport.height:D[R];T-=B-i.height,T*=l?1:-1}if(r===ct||(r===st||r===ht)&&o===nn){A=ft;var M=d&&D===L&&L.visualViewport?L.visualViewport.width:D[$];E-=M-i.width,E*=l?1:-1}}var j=Object.assign({position:a},c&&Fh),W=f===!0?Gh({x:E,y:T},nt(n)):{x:E,y:T};if(E=W.x,T=W.y,l){var q;return Object.assign({},j,(q={},q[y]=N?"0":"",q[A]=C?"0":"",q.transform=(L.devicePixelRatio||1)<=1?"translate("+E+"px, "+T+"px)":"translate3d("+E+"px, "+T+"px, 0)",q))}return Object.assign({},j,(t={},t[y]=N?T+"px":"",t[A]=C?E+"px":"",t.transform="",t))}function zh(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=i===void 0?!0:i,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:bt(t.placement),variation:Zt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,_c(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,_c(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var ni={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:zh,data:{}};var to={passive:!0};function Wh(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,o=r===void 0?!0:r,s=i.resize,a=s===void 0?!0:s,l=nt(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(f){f.addEventListener("scroll",n.update,to)}),a&&l.addEventListener("resize",n.update,to),function(){o&&c.forEach(function(f){f.removeEventListener("scroll",n.update,to)}),a&&l.removeEventListener("resize",n.update,to)}}var ii={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Wh,data:{}};var Yh={left:"right",right:"left",bottom:"top",top:"bottom"};function ri(e){return e.replace(/left|right|bottom|top/g,function(t){return Yh[t]})}var Vh={start:"end",end:"start"};function eo(e){return e.replace(/start|end/g,function(t){return Vh[t]})}function An(e){var t=nt(e),n=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Nn(e){return Qt(xt(e)).left+An(e).scrollLeft}function Hs(e,t){var n=nt(e),i=xt(e),r=n.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var c=Vi();(c||!c&&t==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+Nn(e),y:l}}function Us(e){var t,n=xt(e),i=An(e),r=(t=e.ownerDocument)==null?void 0:t.body,o=fe(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=fe(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+Nn(e),l=-i.scrollTop;return It(r||n).direction==="rtl"&&(a+=fe(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function Cn(e){var t=It(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function no(e){return["html","body","#document"].indexOf(yt(e))>=0?e.ownerDocument.body:_t(e)&&Cn(e)?e:no(Ue(e))}function rn(e,t){var n;t===void 0&&(t=[]);var i=no(e),r=i===((n=e.ownerDocument)==null?void 0:n.body),o=nt(i),s=r?[o].concat(o.visualViewport||[],Cn(i)?i:[]):i,a=t.concat(s);return r?a:a.concat(rn(Ue(s)))}function oi(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function qh(e,t){var n=Qt(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Ec(e,t,n){return t===Wi?oi(Hs(e,n)):Jt(t)?qh(t,n):oi(Us(xt(e)))}function Kh(e){var t=rn(Ue(e)),n=["absolute","fixed"].indexOf(It(e).position)>=0,i=n&&_t(e)?de(e):e;return Jt(i)?t.filter(function(r){return Jt(r)&&qi(r,i)&&yt(r)!=="body"}):[]}function js(e,t,n,i){var r=t==="clippingParents"?Kh(e):[].concat(t),o=[].concat(r,[n]),s=o[0],a=o.reduce(function(l,c){var f=Ec(e,c,i);return l.top=fe(f.top,l.top),l.right=wn(f.right,l.right),l.bottom=wn(f.bottom,l.bottom),l.left=fe(f.left,l.left),l},Ec(e,s,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Qi(e){var t=e.reference,n=e.element,i=e.placement,r=i?bt(i):null,o=i?Zt(i):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(r){case st:l={x:s,y:t.y-n.height};break;case ht:l={x:s,y:t.y+t.height};break;case ft:l={x:t.x+t.width,y:a};break;case ct:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var c=r?Tn(r):null;if(c!=null){var f=c==="y"?"height":"width";switch(o){case xe:l[c]=l[c]-(t[f]/2-n[f]/2);break;case nn:l[c]=l[c]+(t[f]/2-n[f]/2);break;default:}}return l}function Rt(e,t){t===void 0&&(t={});var n=t,i=n.placement,r=i===void 0?e.placement:i,o=n.strategy,s=o===void 0?e.strategy:o,a=n.boundary,l=a===void 0?ks:a,c=n.rootBoundary,f=c===void 0?Wi:c,d=n.elementContext,g=d===void 0?bn:d,E=n.altBoundary,x=E===void 0?!1:E,T=n.padding,w=T===void 0?0:T,C=Xi(typeof w!="number"?w:Ji(w,Be)),N=g===bn?Ps:bn,A=e.rects.popper,y=e.elements[x?N:g],L=js(Jt(y)?y:y.contextElement||xt(e.elements.popper),l,f,s),D=Qt(e.elements.reference),R=Qi({reference:D,element:A,strategy:"absolute",placement:r}),$=oi(Object.assign({},A,R)),B=g===bn?$:D,M={top:L.top-B.top+C.top,bottom:B.bottom-L.bottom+C.bottom,left:L.left-B.left+C.left,right:B.right-L.right+C.right},j=e.modifiersData.offset;if(g===bn&&j){var W=j[r];Object.keys(M).forEach(function(q){var it=[ft,ht].indexOf(q)>=0?1:-1,H=[st,ht].indexOf(q)>=0?"y":"x";M[q]+=W[H]*it})}return M}function Fs(e,t){t===void 0&&(t={});var n=t,i=n.placement,r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Yi:l,f=Zt(i),d=f?a?Qr:Qr.filter(function(x){return Zt(x)===f}):Be,g=d.filter(function(x){return c.indexOf(x)>=0});g.length===0&&(g=d);var E=g.reduce(function(x,T){return x[T]=Rt(e,{placement:T,boundary:r,rootBoundary:o,padding:s})[bt(T)],x},{});return Object.keys(E).sort(function(x,T){return E[x]-E[T]})}function Xh(e){if(bt(e)===zi)return[];var t=ri(e);return[eo(e),t,eo(t)]}function Jh(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,f=n.boundary,d=n.rootBoundary,g=n.altBoundary,E=n.flipVariations,x=E===void 0?!0:E,T=n.allowedAutoPlacements,w=t.options.placement,C=bt(w),N=C===w,A=l||(N||!x?[ri(w)]:Xh(w)),y=[w].concat(A).reduce(function(Tt,dt){return Tt.concat(bt(dt)===zi?Fs(t,{placement:dt,boundary:f,rootBoundary:d,padding:c,flipVariations:x,allowedAutoPlacements:T}):dt)},[]),L=t.rects.reference,D=t.rects.popper,R=new Map,$=!0,B=y[0],M=0;M<y.length;M++){var j=y[M],W=bt(j),q=Zt(j)===xe,it=[st,ht].indexOf(W)>=0,H=it?"width":"height",V=Rt(t,{placement:j,boundary:f,rootBoundary:d,altBoundary:g,padding:c}),Q=it?q?ft:ct:q?ht:st;L[H]>D[H]&&(Q=ri(Q));var at=ri(Q),rt=[];if(o&&rt.push(V[W]<=0),a&&rt.push(V[Q]<=0,V[at]<=0),rt.every(function(Tt){return Tt})){B=j,$=!1;break}R.set(j,rt)}if($)for(var z=x?3:1,G=function(dt){var pt=y.find(function(Ht){var Et=R.get(Ht);if(Et)return Et.slice(0,dt).every(function(Gt){return Gt})});if(pt)return B=pt,"break"},wt=z;wt>0;wt--){var Mt=G(wt);if(Mt==="break")break}t.placement!==B&&(t.modifiersData[i]._skip=!0,t.placement=B,t.reset=!0)}}var io={name:"flip",enabled:!0,phase:"main",fn:Jh,requiresIfExists:["offset"],data:{_skip:!1}};function vc(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function yc(e){return[st,ft,ht,ct].some(function(t){return e[t]>=0})}function Qh(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,s=Rt(t,{elementContext:"reference"}),a=Rt(t,{altBoundary:!0}),l=vc(s,i),c=vc(a,r,o),f=yc(l),d=yc(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}var ro={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Qh};function Zh(e,t,n){var i=bt(e),r=[ct,st].indexOf(i)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[ct,ft].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}function tp(e){var t=e.state,n=e.options,i=e.name,r=n.offset,o=r===void 0?[0,0]:r,s=Yi.reduce(function(f,d){return f[d]=Zh(d,t.rects,o),f},{}),a=s[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=s}var oo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tp};function ep(e){var t=e.state,n=e.name;t.modifiersData[n]=Qi({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var si={name:"popperOffsets",enabled:!0,phase:"read",fn:ep,data:{}};function Gs(e){return e==="x"?"y":"x"}function np(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=r===void 0?!0:r,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,f=n.altBoundary,d=n.padding,g=n.tether,E=g===void 0?!0:g,x=n.tetherOffset,T=x===void 0?0:x,w=Rt(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:f}),C=bt(t.placement),N=Zt(t.placement),A=!N,y=Tn(C),L=Gs(y),D=t.modifiersData.popperOffsets,R=t.rects.reference,$=t.rects.popper,B=typeof T=="function"?T(Object.assign({},t.rects,{placement:t.placement})):T,M=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),j=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,W={x:0,y:0};if(!!D){if(o){var q,it=y==="y"?st:ct,H=y==="y"?ht:ft,V=y==="y"?"height":"width",Q=D[y],at=Q+w[it],rt=Q-w[H],z=E?-$[V]/2:0,G=N===xe?R[V]:$[V],wt=N===xe?-$[V]:-R[V],Mt=t.elements.arrow,Tt=E&&Mt?xn(Mt):{width:0,height:0},dt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Ki(),pt=dt[it],Ht=dt[H],Et=Sn(0,R[V],Tt[V]),Gt=A?R[V]/2-z-Et-pt-M.mainAxis:G-Et-pt-M.mainAxis,kt=A?-R[V]/2+z+Et+Ht+M.mainAxis:wt+Et+Ht+M.mainAxis,X=t.elements.arrow&&de(t.elements.arrow),J=X?y==="y"?X.clientTop||0:X.clientLeft||0:0,vt=(q=j?.[y])!=null?q:0,Dt=Q+Gt-vt-J,St=Q+kt-vt,Z=Sn(E?wn(at,Dt):at,Q,E?fe(rt,St):rt);D[y]=Z,W[y]=Z-Q}if(a){var zt,he=y==="x"?st:ct,ar=y==="x"?ht:ft,K=D[L],pn=L==="y"?"height":"width",Ei=K+w[he],vi=K-w[ar],ze=[st,ct].indexOf(C)!==-1,$n=(zt=j?.[L])!=null?zt:0,lr=ze?Ei:K-R[pn]-$[pn]-$n+M.altAxis,cr=ze?K+R[pn]+$[pn]-$n-M.altAxis:vi,ur=E&&ze?gc(lr,K,cr):Sn(E?lr:Ei,K,E?cr:vi);D[L]=ur,W[L]=ur-K}t.modifiersData[i]=W}}var so={name:"preventOverflow",enabled:!0,phase:"main",fn:np,requiresIfExists:["offset"]};function zs(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Ws(e){return e===nt(e)||!_t(e)?An(e):zs(e)}function ip(e){var t=e.getBoundingClientRect(),n=He(t.width)/e.offsetWidth||1,i=He(t.height)/e.offsetHeight||1;return n!==1||i!==1}function Ys(e,t,n){n===void 0&&(n=!1);var i=_t(t),r=_t(t)&&ip(t),o=xt(t),s=Qt(e,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((yt(t)!=="body"||Cn(o))&&(a=Ws(t)),_t(t)?(l=Qt(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=Nn(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function rp(e){var t=new Map,n=new Set,i=[];e.forEach(function(o){t.set(o.name,o)});function r(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&r(l)}}),i.push(o)}return e.forEach(function(o){n.has(o.name)||r(o)}),i}function Vs(e){var t=rp(e);return $s.reduce(function(n,i){return n.concat(t.filter(function(r){return r.phase===i}))},[])}function qs(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Ks(e){var t=e.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(t).map(function(n){return t[n]})}var bc={placement:"bottom",modifiers:[],strategy:"absolute"};function wc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function On(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,i=n===void 0?[]:n,r=t.defaultOptions,o=r===void 0?bc:r;return function(a,l,c){c===void 0&&(c=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},bc,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],g=!1,E={state:f,setOptions:function(C){var N=typeof C=="function"?C(f.options):C;T(),f.options=Object.assign({},o,f.options,N),f.scrollParents={reference:Jt(a)?rn(a):a.contextElement?rn(a.contextElement):[],popper:rn(l)};var A=Vs(Ks([].concat(i,f.options.modifiers)));return f.orderedModifiers=A.filter(function(y){return y.enabled}),x(),E.update()},forceUpdate:function(){if(!g){var C=f.elements,N=C.reference,A=C.popper;if(!!wc(N,A)){f.rects={reference:Ys(N,de(A),f.options.strategy==="fixed"),popper:xn(A)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(M){return f.modifiersData[M.name]=Object.assign({},M.data)});for(var y=0;y<f.orderedModifiers.length;y++){if(f.reset===!0){f.reset=!1,y=-1;continue}var L=f.orderedModifiers[y],D=L.fn,R=L.options,$=R===void 0?{}:R,B=L.name;typeof D=="function"&&(f=D({state:f,options:$,name:B,instance:E})||f)}}}},update:qs(function(){return new Promise(function(w){E.forceUpdate(),w(f)})}),destroy:function(){T(),g=!0}};if(!wc(a,l))return E;E.setOptions(c).then(function(w){!g&&c.onFirstUpdate&&c.onFirstUpdate(w)});function x(){f.orderedModifiers.forEach(function(w){var C=w.name,N=w.options,A=N===void 0?{}:N,y=w.effect;if(typeof y=="function"){var L=y({state:f,name:C,instance:E,options:A}),D=function(){};d.push(L||D)}})}function T(){d.forEach(function(w){return w()}),d=[]}return E}}var xc=On();var op=[ii,si,ni,ti],Tc=On({defaultModifiers:op});var sp=[ii,si,ni,ti,oo,io,so,Zr,ro],Zi=On({defaultModifiers:sp});var on=new Map,Xs={set(e,t,n){on.has(e)||on.set(e,new Map);let i=on.get(e);if(!i.has(t)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(t,n)},get(e,t){return on.has(e)&&on.get(e).get(t)||null},remove(e,t){if(!on.has(e))return;let n=on.get(e);n.delete(t),n.size===0&&on.delete(e)}},ap=1e6,lp=1e3,fa="transitionend",Zc=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(t,n)=>`#${CSS.escape(n)}`)),e),cp=e=>e==null?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),up=e=>{do e+=Math.floor(Math.random()*ap);while(document.getElementById(e));return e},fp=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e),i=Number.parseFloat(t),r=Number.parseFloat(n);return!i&&!r?0:(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*lp)},tu=e=>{e.dispatchEvent(new Event(fa))},je=e=>!e||typeof e!="object"?!1:(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u"),sn=e=>je(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(Zc(e)):null,gi=e=>{if(!je(e)||e.getClientRects().length===0)return!1;let t=getComputedStyle(e).getPropertyValue("visibility")==="visible",n=e.closest("details:not([open])");if(!n)return t;if(n!==e){let i=e.closest("summary");if(i&&i.parentNode!==n||i===null)return!1}return t},an=e=>!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")?!0:typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false",eu=e=>{if(!document.documentElement.attachShadow)return null;if(typeof e.getRootNode=="function"){let t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?eu(e.parentNode):null},_o=()=>{},rr=e=>{e.offsetHeight},nu=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Js=[],dp=e=>{document.readyState==="loading"?(Js.length||document.addEventListener("DOMContentLoaded",()=>{for(let t of Js)t()}),Js.push(e)):e()},ee=()=>document.documentElement.dir==="rtl",ie=e=>{dp(()=>{let t=nu();if(t){let n=e.NAME,i=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=i,e.jQueryInterface)}})},Bt=(e,t=[],n=e)=>typeof e=="function"?e(...t):n,iu=(e,t,n=!0)=>{if(!n){Bt(e);return}let i=5,r=fp(t)+i,o=!1,s=({target:a})=>{a===t&&(o=!0,t.removeEventListener(fa,s),Bt(e))};t.addEventListener(fa,s),setTimeout(()=>{o||tu(t)},r)},ma=(e,t,n,i)=>{let r=e.length,o=e.indexOf(t);return o===-1?!n&&i?e[r-1]:e[0]:(o+=n?1:-1,i&&(o=(o+r)%r),e[Math.max(0,Math.min(o,r-1))])},hp=/[^.]*(?=\..*)\.|.*/,pp=/\..*/,mp=/::\d+$/,Qs={},Sc=1,ru={mouseenter:"mouseover",mouseleave:"mouseout"},gp=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ou(e,t){return t&&`${t}::${Sc++}`||e.uidEvent||Sc++}function su(e){let t=ou(e);return e.uidEvent=t,Qs[t]=Qs[t]||{},Qs[t]}function _p(e,t){return function n(i){return ga(i,{delegateTarget:e}),n.oneOff&&b.off(e,i.type,t),t.apply(e,[i])}}function Ep(e,t,n){return function i(r){let o=e.querySelectorAll(t);for(let{target:s}=r;s&&s!==this;s=s.parentNode)for(let a of o)if(a===s)return ga(r,{delegateTarget:s}),i.oneOff&&b.off(e,r.type,t,n),n.apply(s,[r])}}function au(e,t,n=null){return Object.values(e).find(i=>i.callable===t&&i.delegationSelector===n)}function lu(e,t,n){let i=typeof t=="string",r=i?n:t||n,o=cu(e);return gp.has(o)||(o=e),[i,r,o]}function Ac(e,t,n,i,r){if(typeof t!="string"||!e)return;let[o,s,a]=lu(t,n,i);t in ru&&(s=(x=>function(T){if(!T.relatedTarget||T.relatedTarget!==T.delegateTarget&&!T.delegateTarget.contains(T.relatedTarget))return x.call(this,T)})(s));let l=su(e),c=l[a]||(l[a]={}),f=au(c,s,o?n:null);if(f){f.oneOff=f.oneOff&&r;return}let d=ou(s,t.replace(hp,"")),g=o?Ep(e,n,s):_p(e,s);g.delegationSelector=o?n:null,g.callable=s,g.oneOff=r,g.uidEvent=d,c[d]=g,e.addEventListener(a,g,o)}function da(e,t,n,i,r){let o=au(t[n],i,r);!o||(e.removeEventListener(n,o,Boolean(r)),delete t[n][o.uidEvent])}function vp(e,t,n,i){let r=t[n]||{};for(let[o,s]of Object.entries(r))o.includes(i)&&da(e,t,n,s.callable,s.delegationSelector)}function cu(e){return e=e.replace(pp,""),ru[e]||e}var b={on(e,t,n,i){Ac(e,t,n,i,!1)},one(e,t,n,i){Ac(e,t,n,i,!0)},off(e,t,n,i){if(typeof t!="string"||!e)return;let[r,o,s]=lu(t,n,i),a=s!==t,l=su(e),c=l[s]||{},f=t.startsWith(".");if(typeof o<"u"){if(!Object.keys(c).length)return;da(e,l,s,o,r?n:null);return}if(f)for(let d of Object.keys(l))vp(e,l,d,t.slice(1));for(let[d,g]of Object.entries(c)){let E=d.replace(mp,"");(!a||t.includes(E))&&da(e,l,s,g.callable,g.delegationSelector)}},trigger(e,t,n){if(typeof t!="string"||!e)return null;let i=nu(),r=cu(t),o=t!==r,s=null,a=!0,l=!0,c=!1;o&&i&&(s=i.Event(t,n),i(e).trigger(s),a=!s.isPropagationStopped(),l=!s.isImmediatePropagationStopped(),c=s.isDefaultPrevented());let f=ga(new Event(t,{bubbles:a,cancelable:!0}),n);return c&&f.preventDefault(),l&&e.dispatchEvent(f),f.defaultPrevented&&s&&s.preventDefault(),f}};function ga(e,t={}){for(let[n,i]of Object.entries(t))try{e[n]=i}catch{Object.defineProperty(e,n,{configurable:!0,get(){return i}})}return e}function Nc(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function Zs(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}var Fe={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${Zs(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${Zs(t)}`)},getDataAttributes(e){if(!e)return{};let t={},n=Object.keys(e.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(let i of n){let r=i.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),t[r]=Nc(e.dataset[i])}return t},getDataAttribute(e,t){return Nc(e.getAttribute(`data-bs-${Zs(t)}`))}},In=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,n){let i=je(n)?Fe.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof i=="object"?i:{},...je(n)?Fe.getDataAttributes(n):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,n=this.constructor.DefaultType){for(let[i,r]of Object.entries(n)){let o=t[i],s=je(o)?"element":cp(o);if(!new RegExp(r).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${s}" but expected type "${r}".`)}}},yp="5.3.2",Ft=class extends In{constructor(t,n){super(),t=sn(t),t&&(this._element=t,this._config=this._getConfig(n),Xs.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Xs.remove(this._element,this.constructor.DATA_KEY),b.off(this._element,this.constructor.EVENT_KEY);for(let t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,n,i=!0){iu(t,n,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Xs.get(sn(t),this.DATA_KEY)}static getOrCreateInstance(t,n={}){return this.getInstance(t)||new this(t,typeof n=="object"?n:null)}static get VERSION(){return yp}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}},ta=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&n!=="#"?Zc(n.trim()):null}return t},P={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(n=>n.matches(t))},parents(e,t){let n=[],i=e.parentNode.closest(t);for(;i;)n.push(i),i=i.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){let t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(n=>!an(n)&&gi(n))},getSelectorFromElement(e){let t=ta(e);return t&&P.findOne(t)?t:null},getElementFromSelector(e){let t=ta(e);return t?P.findOne(t):null},getMultipleElementsFromSelector(e){let t=ta(e);return t?P.find(t):[]}},bo=(e,t="hide")=>{let n=`click.dismiss${e.EVENT_KEY}`,i=e.NAME;b.on(document,n,`[data-bs-dismiss="${i}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),an(this))return;let o=P.getElementFromSelector(this)||this.closest(`.${i}`);e.getOrCreateInstance(o)[t]()})},bp="alert",wp="bs.alert",uu=`.${wp}`,xp=`close${uu}`,Tp=`closed${uu}`,Sp="fade",Ap="show",di=class extends Ft{static get NAME(){return bp}close(){if(b.trigger(this._element,xp).defaultPrevented)return;this._element.classList.remove(Ap);let n=this._element.classList.contains(Sp);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),b.trigger(this._element,Tp),this.dispose()}static jQueryInterface(t){return this.each(function(){let n=di.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}};bo(di,"close");ie(di);var Np="button",Cp="bs.button",Op=`.${Cp}`,Dp=".data-api",Lp="active",Cc='[data-bs-toggle="button"]',Ip=`click${Op}${Dp}`,hi=class extends Ft{static get NAME(){return Np}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Lp))}static jQueryInterface(t){return this.each(function(){let n=hi.getOrCreateInstance(this);t==="toggle"&&n[t]()})}};b.on(document,Ip,Cc,e=>{e.preventDefault();let t=e.target.closest(Cc);hi.getOrCreateInstance(t).toggle()});ie(hi);var Rp="swipe",_i=".bs.swipe",Mp=`touchstart${_i}`,kp=`touchmove${_i}`,Pp=`touchend${_i}`,$p=`pointerdown${_i}`,Bp=`pointerup${_i}`,Hp="touch",Up="pen",jp="pointer-event",Fp=40,Gp={endCallback:null,leftCallback:null,rightCallback:null},zp={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"},pi=class extends In{constructor(t,n){super(),this._element=t,!(!t||!pi.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Gp}static get DefaultType(){return zp}static get NAME(){return Rp}dispose(){b.off(this._element,_i)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Bt(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){let t=Math.abs(this._deltaX);if(t<=Fp)return;let n=t/this._deltaX;this._deltaX=0,n&&Bt(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(b.on(this._element,$p,t=>this._start(t)),b.on(this._element,Bp,t=>this._end(t)),this._element.classList.add(jp)):(b.on(this._element,Mp,t=>this._start(t)),b.on(this._element,kp,t=>this._move(t)),b.on(this._element,Pp,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===Up||t.pointerType===Hp)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}},Wp="carousel",Yp="bs.carousel",dn=`.${Yp}`,fu=".data-api",Vp="ArrowLeft",qp="ArrowRight",Kp=500,tr="next",ai="prev",ci="left",mo="right",Xp=`slide${dn}`,ea=`slid${dn}`,Jp=`keydown${dn}`,Qp=`mouseenter${dn}`,Zp=`mouseleave${dn}`,tm=`dragstart${dn}`,em=`load${dn}${fu}`,nm=`click${dn}${fu}`,du="carousel",lo="active",im="slide",rm="carousel-item-end",om="carousel-item-start",sm="carousel-item-next",am="carousel-item-prev",hu=".active",pu=".carousel-item",lm=hu+pu,cm=".carousel-item img",um=".carousel-indicators",fm="[data-bs-slide], [data-bs-slide-to]",dm='[data-bs-ride="carousel"]',hm={[Vp]:mo,[qp]:ci},pm={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},mm={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"},Rn=class extends Ft{constructor(t,n){super(t,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=P.findOne(um,this._element),this._addEventListeners(),this._config.ride===du&&this.cycle()}static get Default(){return pm}static get DefaultType(){return mm}static get NAME(){return Wp}next(){this._slide(tr)}nextWhenVisible(){!document.hidden&&gi(this._element)&&this.next()}prev(){this._slide(ai)}pause(){this._isSliding&&tu(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(!!this._config.ride){if(this._isSliding){b.one(this._element,ea,()=>this.cycle());return}this.cycle()}}to(t){let n=this._getItems();if(t>n.length-1||t<0)return;if(this._isSliding){b.one(this._element,ea,()=>this.to(t));return}let i=this._getItemIndex(this._getActive());if(i===t)return;let r=t>i?tr:ai;this._slide(r,n[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&b.on(this._element,Jp,t=>this._keydown(t)),this._config.pause==="hover"&&(b.on(this._element,Qp,()=>this.pause()),b.on(this._element,Zp,()=>this._maybeEnableCycle())),this._config.touch&&pi.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let i of P.find(cm,this._element))b.on(i,tm,r=>r.preventDefault());let n={leftCallback:()=>this._slide(this._directionToOrder(ci)),rightCallback:()=>this._slide(this._directionToOrder(mo)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Kp+this._config.interval))}};this._swipeHelper=new pi(this._element,n)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;let n=hm[t.key];n&&(t.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;let n=P.findOne(hu,this._indicatorsElement);n.classList.remove(lo),n.removeAttribute("aria-current");let i=P.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(lo),i.setAttribute("aria-current","true"))}_updateInterval(){let t=this._activeElement||this._getActive();if(!t)return;let n=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(t,n=null){if(this._isSliding)return;let i=this._getActive(),r=t===tr,o=n||ma(this._getItems(),i,r,this._config.wrap);if(o===i)return;let s=this._getItemIndex(o),a=E=>b.trigger(this._element,E,{relatedTarget:o,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:s});if(a(Xp).defaultPrevented||!i||!o)return;let c=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=o;let f=r?om:rm,d=r?sm:am;o.classList.add(d),rr(o),i.classList.add(f),o.classList.add(f);let g=()=>{o.classList.remove(f,d),o.classList.add(lo),i.classList.remove(lo,d,f),this._isSliding=!1,a(ea)};this._queueCallback(g,i,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(im)}_getActive(){return P.findOne(lm,this._element)}_getItems(){return P.find(pu,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return ee()?t===ci?ai:tr:t===ci?tr:ai}_orderToDirection(t){return ee()?t===ai?ci:mo:t===ai?mo:ci}static jQueryInterface(t){return this.each(function(){let n=Rn.getOrCreateInstance(this,t);if(typeof t=="number"){n.to(t);return}if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}};b.on(document,nm,fm,function(e){let t=P.getElementFromSelector(this);if(!t||!t.classList.contains(du))return;e.preventDefault();let n=Rn.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");if(i){n.to(i),n._maybeEnableCycle();return}if(Fe.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});b.on(window,em,()=>{let e=P.find(dm);for(let t of e)Rn.getOrCreateInstance(t)});ie(Rn);var gm="collapse",_m="bs.collapse",or=`.${_m}`,Em=".data-api",vm=`show${or}`,ym=`shown${or}`,bm=`hide${or}`,wm=`hidden${or}`,xm=`click${or}${Em}`,na="show",fi="collapse",co="collapsing",Tm="collapsed",Sm=`:scope .${fi} .${fi}`,Am="collapse-horizontal",Nm="width",Cm="height",Om=".collapse.show, .collapse.collapsing",ha='[data-bs-toggle="collapse"]',Dm={parent:null,toggle:!0},Lm={parent:"(null|element)",toggle:"boolean"},Mn=class extends Ft{constructor(t,n){super(t,n),this._isTransitioning=!1,this._triggerArray=[];let i=P.find(ha);for(let r of i){let o=P.getSelectorFromElement(r),s=P.find(o).filter(a=>a===this._element);o!==null&&s.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Dm}static get DefaultType(){return Lm}static get NAME(){return gm}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(Om).filter(a=>a!==this._element).map(a=>Mn.getOrCreateInstance(a,{toggle:!1}))),t.length&&t[0]._isTransitioning||b.trigger(this._element,vm).defaultPrevented)return;for(let a of t)a.hide();let i=this._getDimension();this._element.classList.remove(fi),this._element.classList.add(co),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let r=()=>{this._isTransitioning=!1,this._element.classList.remove(co),this._element.classList.add(fi,na),this._element.style[i]="",b.trigger(this._element,ym)},s=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[i]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown()||b.trigger(this._element,bm).defaultPrevented)return;let n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,rr(this._element),this._element.classList.add(co),this._element.classList.remove(fi,na);for(let r of this._triggerArray){let o=P.getElementFromSelector(r);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;let i=()=>{this._isTransitioning=!1,this._element.classList.remove(co),this._element.classList.add(fi),b.trigger(this._element,wm)};this._element.style[n]="",this._queueCallback(i,this._element,!0)}_isShown(t=this._element){return t.classList.contains(na)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=sn(t.parent),t}_getDimension(){return this._element.classList.contains(Am)?Nm:Cm}_initializeChildren(){if(!this._config.parent)return;let t=this._getFirstLevelChildren(ha);for(let n of t){let i=P.getElementFromSelector(n);i&&this._addAriaAndCollapsedClass([n],this._isShown(i))}}_getFirstLevelChildren(t){let n=P.find(Sm,this._config.parent);return P.find(t,this._config.parent).filter(i=>!n.includes(i))}_addAriaAndCollapsedClass(t,n){if(!!t.length)for(let i of t)i.classList.toggle(Tm,!n),i.setAttribute("aria-expanded",n)}static jQueryInterface(t){let n={};return typeof t=="string"&&/show|hide/.test(t)&&(n.toggle=!1),this.each(function(){let i=Mn.getOrCreateInstance(this,n);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t]()}})}};b.on(document,xm,ha,function(e){(e.target.tagName==="A"||e.delegateTarget&&e.delegateTarget.tagName==="A")&&e.preventDefault();for(let t of P.getMultipleElementsFromSelector(this))Mn.getOrCreateInstance(t,{toggle:!1}).toggle()});ie(Mn);var Oc="dropdown",Im="bs.dropdown",kn=`.${Im}`,_a=".data-api",Rm="Escape",Dc="Tab",Mm="ArrowUp",Lc="ArrowDown",km=2,Pm=`hide${kn}`,$m=`hidden${kn}`,Bm=`show${kn}`,Hm=`shown${kn}`,mu=`click${kn}${_a}`,gu=`keydown${kn}${_a}`,Um=`keyup${kn}${_a}`,ui="show",jm="dropup",Fm="dropend",Gm="dropstart",zm="dropup-center",Wm="dropdown-center",Dn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Ym=`${Dn}.${ui}`,go=".dropdown-menu",Vm=".navbar",qm=".navbar-nav",Km=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Xm=ee()?"top-end":"top-start",Jm=ee()?"top-start":"top-end",Qm=ee()?"bottom-end":"bottom-start",Zm=ee()?"bottom-start":"bottom-end",tg=ee()?"left-start":"right-start",eg=ee()?"right-start":"left-start",ng="top",ig="bottom",rg={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},og={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"},te=class extends Ft{constructor(t,n){super(t,n),this._popper=null,this._parent=this._element.parentNode,this._menu=P.next(this._element,go)[0]||P.prev(this._element,go)[0]||P.findOne(go,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return rg}static get DefaultType(){return og}static get NAME(){return Oc}toggle(){return this._isShown()?this.hide():this.show()}show(){if(an(this._element)||this._isShown())return;let t={relatedTarget:this._element};if(!b.trigger(this._element,Bm,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(qm))for(let i of[].concat(...document.body.children))b.on(i,"mouseover",_o);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ui),this._element.classList.add(ui),b.trigger(this._element,Hm,t)}}hide(){if(an(this._element)||!this._isShown())return;let t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!b.trigger(this._element,Pm,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(let i of[].concat(...document.body.children))b.off(i,"mouseover",_o);this._popper&&this._popper.destroy(),this._menu.classList.remove(ui),this._element.classList.remove(ui),this._element.setAttribute("aria-expanded","false"),Fe.removeDataAttribute(this._menu,"popper"),b.trigger(this._element,$m,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!je(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${Oc.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof ao>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:je(this._config.reference)?t=sn(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);let n=this._getPopperConfig();this._popper=Zi(t,this._menu,n)}_isShown(){return this._menu.classList.contains(ui)}_getPlacement(){let t=this._parent;if(t.classList.contains(Fm))return tg;if(t.classList.contains(Gm))return eg;if(t.classList.contains(zm))return ng;if(t.classList.contains(Wm))return ig;let n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(jm)?n?Jm:Xm:n?Zm:Qm}_detectNavbar(){return this._element.closest(Vm)!==null}_getOffset(){let{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_getPopperConfig(){let t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Fe.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...Bt(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:n}){let i=P.find(Km,this._menu).filter(r=>gi(r));!i.length||ma(i,n,t===Lc,!i.includes(n)).focus()}static jQueryInterface(t){return this.each(function(){let n=te.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}static clearMenus(t){if(t.button===km||t.type==="keyup"&&t.key!==Dc)return;let n=P.find(Ym);for(let i of n){let r=te.getInstance(i);if(!r||r._config.autoClose===!1)continue;let o=t.composedPath(),s=o.includes(r._menu);if(o.includes(r._element)||r._config.autoClose==="inside"&&!s||r._config.autoClose==="outside"&&s||r._menu.contains(t.target)&&(t.type==="keyup"&&t.key===Dc||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;let a={relatedTarget:r._element};t.type==="click"&&(a.clickEvent=t),r._completeHide(a)}}static dataApiKeydownHandler(t){let n=/input|textarea/i.test(t.target.tagName),i=t.key===Rm,r=[Mm,Lc].includes(t.key);if(!r&&!i||n&&!i)return;t.preventDefault();let o=this.matches(Dn)?this:P.prev(this,Dn)[0]||P.next(this,Dn)[0]||P.findOne(Dn,t.delegateTarget.parentNode),s=te.getOrCreateInstance(o);if(r){t.stopPropagation(),s.show(),s._selectMenuItem(t);return}s._isShown()&&(t.stopPropagation(),s.hide(),o.focus())}};b.on(document,gu,Dn,te.dataApiKeydownHandler);b.on(document,gu,go,te.dataApiKeydownHandler);b.on(document,mu,te.clearMenus);b.on(document,Um,te.clearMenus);b.on(document,mu,Dn,function(e){e.preventDefault(),te.getOrCreateInstance(this).toggle()});ie(te);var _u="backdrop",sg="fade",Ic="show",Rc=`mousedown.bs.${_u}`,ag={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},lg={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"},Eo=class extends In{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return ag}static get DefaultType(){return lg}static get NAME(){return _u}show(t){if(!this._config.isVisible){Bt(t);return}this._append();let n=this._getElement();this._config.isAnimated&&rr(n),n.classList.add(Ic),this._emulateAnimation(()=>{Bt(t)})}hide(t){if(!this._config.isVisible){Bt(t);return}this._getElement().classList.remove(Ic),this._emulateAnimation(()=>{this.dispose(),Bt(t)})}dispose(){!this._isAppended||(b.off(this._element,Rc),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(sg),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=sn(t.rootElement),t}_append(){if(this._isAppended)return;let t=this._getElement();this._config.rootElement.append(t),b.on(t,Rc,()=>{Bt(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){iu(t,this._getElement(),this._config.isAnimated)}},cg="focustrap",ug="bs.focustrap",vo=`.${ug}`,fg=`focusin${vo}`,dg=`keydown.tab${vo}`,hg="Tab",pg="forward",Mc="backward",mg={autofocus:!0,trapElement:null},gg={autofocus:"boolean",trapElement:"element"},yo=class extends In{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return mg}static get DefaultType(){return gg}static get NAME(){return cg}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),b.off(document,vo),b.on(document,fg,t=>this._handleFocusin(t)),b.on(document,dg,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,b.off(document,vo))}_handleFocusin(t){let{trapElement:n}=this._config;if(t.target===document||t.target===n||n.contains(t.target))return;let i=P.focusableChildren(n);i.length===0?n.focus():this._lastTabNavDirection===Mc?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){t.key===hg&&(this._lastTabNavDirection=t.shiftKey?Mc:pg)}},kc=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Pc=".sticky-top",uo="padding-right",$c="margin-right",nr=class{constructor(){this._element=document.body}getWidth(){let t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){let t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,uo,n=>n+t),this._setElementAttributes(kc,uo,n=>n+t),this._setElementAttributes(Pc,$c,n=>n-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,uo),this._resetElementAttributes(kc,uo),this._resetElementAttributes(Pc,$c)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,n,i){let r=this.getWidth(),o=s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+r)return;this._saveInitialAttribute(s,n);let a=window.getComputedStyle(s).getPropertyValue(n);s.style.setProperty(n,`${i(Number.parseFloat(a))}px`)};this._applyManipulationCallback(t,o)}_saveInitialAttribute(t,n){let i=t.style.getPropertyValue(n);i&&Fe.setDataAttribute(t,n,i)}_resetElementAttributes(t,n){let i=r=>{let o=Fe.getDataAttribute(r,n);if(o===null){r.style.removeProperty(n);return}Fe.removeDataAttribute(r,n),r.style.setProperty(n,o)};this._applyManipulationCallback(t,i)}_applyManipulationCallback(t,n){if(je(t)){n(t);return}for(let i of P.find(t,this._element))n(i)}},_g="modal",Eg="bs.modal",ne=`.${Eg}`,vg=".data-api",yg="Escape",bg=`hide${ne}`,wg=`hidePrevented${ne}`,Eu=`hidden${ne}`,vu=`show${ne}`,xg=`shown${ne}`,Tg=`resize${ne}`,Sg=`click.dismiss${ne}`,Ag=`mousedown.dismiss${ne}`,Ng=`keydown.dismiss${ne}`,Cg=`click${ne}${vg}`,Bc="modal-open",Og="fade",Hc="show",ia="modal-static",Dg=".modal.show",Lg=".modal-dialog",Ig=".modal-body",Rg='[data-bs-toggle="modal"]',Mg={backdrop:!0,focus:!0,keyboard:!0},kg={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},ln=class extends Ft{constructor(t,n){super(t,n),this._dialog=P.findOne(Lg,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new nr,this._addEventListeners()}static get Default(){return Mg}static get DefaultType(){return kg}static get NAME(){return _g}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||b.trigger(this._element,vu,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Bc),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||b.trigger(this._element,bg).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Hc),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){b.off(window,ne),b.off(this._dialog,ne),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Eo({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new yo({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let n=P.findOne(Ig,this._dialog);n&&(n.scrollTop=0),rr(this._element),this._element.classList.add(Hc);let i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,b.trigger(this._element,xg,{relatedTarget:t})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){b.on(this._element,Ng,t=>{if(t.key===yg){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),b.on(window,Tg,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),b.on(this._element,Ag,t=>{b.one(this._element,Sg,n=>{if(!(this._element!==t.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Bc),this._resetAdjustments(),this._scrollBar.reset(),b.trigger(this._element,Eu)})}_isAnimated(){return this._element.classList.contains(Og)}_triggerBackdropTransition(){if(b.trigger(this._element,wg).defaultPrevented)return;let n=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(ia)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(ia),this._queueCallback(()=>{this._element.classList.remove(ia),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),i=n>0;if(i&&!t){let r=ee()?"paddingLeft":"paddingRight";this._element.style[r]=`${n}px`}if(!i&&t){let r=ee()?"paddingRight":"paddingLeft";this._element.style[r]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,n){return this.each(function(){let i=ln.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t](n)}})}};b.on(document,Cg,Rg,function(e){let t=P.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),b.one(t,vu,r=>{r.defaultPrevented||b.one(t,Eu,()=>{gi(this)&&this.focus()})});let n=P.findOne(Dg);n&&ln.getInstance(n).hide(),ln.getOrCreateInstance(t).toggle(this)});bo(ln);ie(ln);var Pg="offcanvas",$g="bs.offcanvas",Ge=`.${$g}`,yu=".data-api",Bg=`load${Ge}${yu}`,Hg="Escape",Uc="show",jc="showing",Fc="hiding",Ug="offcanvas-backdrop",bu=".offcanvas.show",jg=`show${Ge}`,Fg=`shown${Ge}`,Gg=`hide${Ge}`,Gc=`hidePrevented${Ge}`,wu=`hidden${Ge}`,zg=`resize${Ge}`,Wg=`click${Ge}${yu}`,Yg=`keydown.dismiss${Ge}`,Vg='[data-bs-toggle="offcanvas"]',qg={backdrop:!0,keyboard:!0,scroll:!1},Kg={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"},Te=class extends Ft{constructor(t,n){super(t,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return qg}static get DefaultType(){return Kg}static get NAME(){return Pg}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||b.trigger(this._element,jg,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new nr().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(jc);let i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Uc),this._element.classList.remove(jc),b.trigger(this._element,Fg,{relatedTarget:t})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||b.trigger(this._element,Gg).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Fc),this._backdrop.hide();let n=()=>{this._element.classList.remove(Uc,Fc),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new nr().reset(),b.trigger(this._element,wu)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let t=()=>{if(this._config.backdrop==="static"){b.trigger(this._element,Gc);return}this.hide()},n=Boolean(this._config.backdrop);return new Eo({className:Ug,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?t:null})}_initializeFocusTrap(){return new yo({trapElement:this._element})}_addEventListeners(){b.on(this._element,Yg,t=>{if(t.key===Hg){if(this._config.keyboard){this.hide();return}b.trigger(this._element,Gc)}})}static jQueryInterface(t){return this.each(function(){let n=Te.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}};b.on(document,Wg,Vg,function(e){let t=P.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),an(this))return;b.one(t,wu,()=>{gi(this)&&this.focus()});let n=P.findOne(bu);n&&n!==t&&Te.getInstance(n).hide(),Te.getOrCreateInstance(t).toggle(this)});b.on(window,Bg,()=>{for(let e of P.find(bu))Te.getOrCreateInstance(e).show()});b.on(window,zg,()=>{for(let e of P.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(e).position!=="fixed"&&Te.getOrCreateInstance(e).hide()});bo(Te);ie(Te);var Xg=/^aria-[\w-]*$/i,xu={"*":["class","dir","id","lang","role",Xg],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Jg=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Qg=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Zg=(e,t)=>{let n=e.nodeName.toLowerCase();return t.includes(n)?Jg.has(n)?Boolean(Qg.test(e.nodeValue)):!0:t.filter(i=>i instanceof RegExp).some(i=>i.test(n))};function t_(e,t,n){if(!e.length)return e;if(n&&typeof n=="function")return n(e);let r=new window.DOMParser().parseFromString(e,"text/html"),o=[].concat(...r.body.querySelectorAll("*"));for(let s of o){let a=s.nodeName.toLowerCase();if(!Object.keys(t).includes(a)){s.remove();continue}let l=[].concat(...s.attributes),c=[].concat(t["*"]||[],t[a]||[]);for(let f of l)Zg(f,c)||s.removeAttribute(f.nodeName)}return r.body.innerHTML}var e_="TemplateFactory",n_={allowList:xu,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},i_={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},r_={entry:"(string|element|function|null)",selector:"(string|element)"},pa=class extends In{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return n_}static get DefaultType(){return i_}static get NAME(){return e_}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){let t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(let[r,o]of Object.entries(this._config.content))this._setContent(t,o,r);let n=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&n.classList.add(...i.split(" ")),n}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(let[n,i]of Object.entries(t))super._typeCheckConfig({selector:n,entry:i},r_)}_setContent(t,n,i){let r=P.findOne(i,t);if(!!r){if(n=this._resolvePossibleFunction(n),!n){r.remove();return}if(je(n)){this._putElementInTemplate(sn(n),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(n);return}r.textContent=n}}_maybeSanitize(t){return this._config.sanitize?t_(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return Bt(t,[this])}_putElementInTemplate(t,n){if(this._config.html){n.innerHTML="",n.append(t);return}n.textContent=t.textContent}},o_="tooltip",s_=new Set(["sanitize","allowList","sanitizeFn"]),ra="fade",a_="modal",fo="show",l_=".tooltip-inner",zc=`.${a_}`,Wc="hide.bs.modal",er="hover",oa="focus",c_="click",u_="manual",f_="hide",d_="hidden",h_="show",p_="shown",m_="inserted",g_="click",__="focusin",E_="focusout",v_="mouseenter",y_="mouseleave",b_={AUTO:"auto",TOP:"top",RIGHT:ee()?"left":"right",BOTTOM:"bottom",LEFT:ee()?"right":"left"},w_={allowList:xu,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},x_={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"},cn=class extends Ft{constructor(t,n){if(typeof ao>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return w_}static get DefaultType(){return x_}static get NAME(){return o_}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(!!this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),b.off(this._element.closest(zc),Wc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let t=b.trigger(this._element,this.constructor.eventName(h_)),i=(eu(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!i)return;this._disposePopper();let r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));let{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(r),b.trigger(this._element,this.constructor.eventName(m_))),this._popper=this._createPopper(r),r.classList.add(fo),"ontouchstart"in document.documentElement)for(let a of[].concat(...document.body.children))b.on(a,"mouseover",_o);let s=()=>{b.trigger(this._element,this.constructor.eventName(p_)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(s,this.tip,this._isAnimated())}hide(){if(!this._isShown()||b.trigger(this._element,this.constructor.eventName(f_)).defaultPrevented)return;if(this._getTipElement().classList.remove(fo),"ontouchstart"in document.documentElement)for(let r of[].concat(...document.body.children))b.off(r,"mouseover",_o);this._activeTrigger[c_]=!1,this._activeTrigger[oa]=!1,this._activeTrigger[er]=!1,this._isHovered=null;let i=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),b.trigger(this._element,this.constructor.eventName(d_)))};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){let n=this._getTemplateFactory(t).toHtml();if(!n)return null;n.classList.remove(ra,fo),n.classList.add(`bs-${this.constructor.NAME}-auto`);let i=up(this.constructor.NAME).toString();return n.setAttribute("id",i),this._isAnimated()&&n.classList.add(ra),n}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new pa({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[l_]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ra)}_isShown(){return this.tip&&this.tip.classList.contains(fo)}_createPopper(t){let n=Bt(this._config.placement,[this,t,this._element]),i=b_[n.toUpperCase()];return Zi(this._element,t,this._getPopperConfig(i))}_getOffset(){let{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_resolvePossibleFunction(t){return Bt(t,[this._element])}_getPopperConfig(t){let n={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...n,...Bt(this._config.popperConfig,[n])}}_setListeners(){let t=this._config.trigger.split(" ");for(let n of t)if(n==="click")b.on(this._element,this.constructor.eventName(g_),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if(n!==u_){let i=n===er?this.constructor.eventName(v_):this.constructor.eventName(__),r=n===er?this.constructor.eventName(y_):this.constructor.eventName(E_);b.on(this._element,i,this._config.selector,o=>{let s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusin"?oa:er]=!0,s._enter()}),b.on(this._element,r,this._config.selector,o=>{let s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusout"?oa:er]=s._element.contains(o.relatedTarget),s._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},b.on(this._element.closest(zc),Wc,this._hideModalHandler)}_fixTitle(){let t=this._element.getAttribute("title");!t||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,n){clearTimeout(this._timeout),this._timeout=setTimeout(t,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){let n=Fe.getDataAttributes(this._element);for(let i of Object.keys(n))s_.has(i)&&delete n[i];return t={...n,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:sn(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){let t={};for(let[n,i]of Object.entries(this._config))this.constructor.Default[n]!==i&&(t[n]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){let n=cn.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}};ie(cn);var T_="popover",S_=".popover-header",A_=".popover-body",N_={...cn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},C_={...cn.DefaultType,content:"(null|string|element|function)"},ir=class extends cn{static get Default(){return N_}static get DefaultType(){return C_}static get NAME(){return T_}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[S_]:this._getTitle(),[A_]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){let n=ir.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}};ie(ir);var O_="scrollspy",D_="bs.scrollspy",Ea=`.${D_}`,L_=".data-api",I_=`activate${Ea}`,Yc=`click${Ea}`,R_=`load${Ea}${L_}`,M_="dropdown-item",li="active",k_='[data-bs-spy="scroll"]',sa="[href]",P_=".nav, .list-group",Vc=".nav-link",$_=".nav-item",B_=".list-group-item",H_=`${Vc}, ${$_} > ${Vc}, ${B_}`,U_=".dropdown",j_=".dropdown-toggle",F_={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},G_={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"},mi=class extends Ft{constructor(t,n){super(t,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return F_}static get DefaultType(){return G_}static get NAME(){return O_}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(let t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=sn(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(n=>Number.parseFloat(n))),t}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(b.off(this._config.target,Yc),b.on(this._config.target,Yc,sa,t=>{let n=this._observableSections.get(t.target.hash);if(n){t.preventDefault();let i=this._rootElement||window,r=n.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:r,behavior:"smooth"});return}i.scrollTop=r}}))}_getNewObserver(){let t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),t)}_observerCallback(t){let n=s=>this._targetLinks.get(`#${s.target.id}`),i=s=>{this._previousScrollData.visibleEntryTop=s.target.offsetTop,this._process(n(s))},r=(this._rootElement||document.documentElement).scrollTop,o=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(let s of t){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(s));continue}let a=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&a){if(i(s),!r)return;continue}!o&&!a&&i(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let t=P.find(sa,this._config.target);for(let n of t){if(!n.hash||an(n))continue;let i=P.findOne(decodeURI(n.hash),this._element);gi(i)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,i))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(li),this._activateParents(t),b.trigger(this._element,I_,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(M_)){P.findOne(j_,t.closest(U_)).classList.add(li);return}for(let n of P.parents(t,P_))for(let i of P.prev(n,H_))i.classList.add(li)}_clearActiveClass(t){t.classList.remove(li);let n=P.find(`${sa}.${li}`,t);for(let i of n)i.classList.remove(li)}static jQueryInterface(t){return this.each(function(){let n=mi.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}};b.on(window,R_,()=>{for(let e of P.find(k_))mi.getOrCreateInstance(e)});ie(mi);var z_="tab",W_="bs.tab",Pn=`.${W_}`,Y_=`hide${Pn}`,V_=`hidden${Pn}`,q_=`show${Pn}`,K_=`shown${Pn}`,X_=`click${Pn}`,J_=`keydown${Pn}`,Q_=`load${Pn}`,Z_="ArrowLeft",qc="ArrowRight",tE="ArrowUp",Kc="ArrowDown",aa="Home",Xc="End",Ln="active",Jc="fade",la="show",eE="dropdown",Tu=".dropdown-toggle",nE=".dropdown-menu",ca=`:not(${Tu})`,iE='.list-group, .nav, [role="tablist"]',rE=".nav-item, .list-group-item",oE=`.nav-link${ca}, .list-group-item${ca}, [role="tab"]${ca}`,Su='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ua=`${oE}, ${Su}`,sE=`.${Ln}[data-bs-toggle="tab"], .${Ln}[data-bs-toggle="pill"], .${Ln}[data-bs-toggle="list"]`,un=class extends Ft{constructor(t){super(t),this._parent=this._element.closest(iE),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),b.on(this._element,J_,n=>this._keydown(n)))}static get NAME(){return z_}show(){let t=this._element;if(this._elemIsActive(t))return;let n=this._getActiveElem(),i=n?b.trigger(n,Y_,{relatedTarget:t}):null;b.trigger(t,q_,{relatedTarget:n}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(n,t),this._activate(t,n))}_activate(t,n){if(!t)return;t.classList.add(Ln),this._activate(P.getElementFromSelector(t));let i=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(la);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),b.trigger(t,K_,{relatedTarget:n})};this._queueCallback(i,t,t.classList.contains(Jc))}_deactivate(t,n){if(!t)return;t.classList.remove(Ln),t.blur(),this._deactivate(P.getElementFromSelector(t));let i=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(la);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),b.trigger(t,V_,{relatedTarget:n})};this._queueCallback(i,t,t.classList.contains(Jc))}_keydown(t){if(![Z_,qc,tE,Kc,aa,Xc].includes(t.key))return;t.stopPropagation(),t.preventDefault();let n=this._getChildren().filter(r=>!an(r)),i;if([aa,Xc].includes(t.key))i=n[t.key===aa?0:n.length-1];else{let r=[qc,Kc].includes(t.key);i=ma(n,t.target,r,!0)}i&&(i.focus({preventScroll:!0}),un.getOrCreateInstance(i).show())}_getChildren(){return P.find(ua,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,n){this._setAttributeIfNotExists(t,"role","tablist");for(let i of n)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);let n=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",n),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),n||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){let n=P.getElementFromSelector(t);!n||(this._setAttributeIfNotExists(n,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,n){let i=this._getOuterElement(t);if(!i.classList.contains(eE))return;let r=(o,s)=>{let a=P.findOne(o,i);a&&a.classList.toggle(s,n)};r(Tu,Ln),r(nE,la),i.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(t,n,i){t.hasAttribute(n)||t.setAttribute(n,i)}_elemIsActive(t){return t.classList.contains(Ln)}_getInnerElement(t){return t.matches(ua)?t:P.findOne(ua,t)}_getOuterElement(t){return t.closest(rE)||t}static jQueryInterface(t){return this.each(function(){let n=un.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}};b.on(document,X_,Su,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),!an(this)&&un.getOrCreateInstance(this).show()});b.on(window,Q_,()=>{for(let e of P.find(sE))un.getOrCreateInstance(e)});ie(un);var aE="toast",lE="bs.toast",hn=`.${lE}`,cE=`mouseover${hn}`,uE=`mouseout${hn}`,fE=`focusin${hn}`,dE=`focusout${hn}`,hE=`hide${hn}`,pE=`hidden${hn}`,mE=`show${hn}`,gE=`shown${hn}`,_E="fade",Qc="hide",ho="show",po="showing",EE={animation:"boolean",autohide:"boolean",delay:"number"},vE={animation:!0,autohide:!0,delay:5e3},fn=class extends Ft{constructor(t,n){super(t,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return vE}static get DefaultType(){return EE}static get NAME(){return aE}show(){if(b.trigger(this._element,mE).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(_E);let n=()=>{this._element.classList.remove(po),b.trigger(this._element,gE),this._maybeScheduleHide()};this._element.classList.remove(Qc),rr(this._element),this._element.classList.add(ho,po),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||b.trigger(this._element,hE).defaultPrevented)return;let n=()=>{this._element.classList.add(Qc),this._element.classList.remove(po,ho),b.trigger(this._element,pE)};this._element.classList.add(po),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ho),super.dispose()}isShown(){return this._element.classList.contains(ho)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(t,n){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}let i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){b.on(this._element,cE,t=>this._onInteraction(t,!0)),b.on(this._element,uE,t=>this._onInteraction(t,!1)),b.on(this._element,fE,t=>this._onInteraction(t,!0)),b.on(this._element,dE,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){let n=fn.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t](this)}})}};bo(fn);ie(fn);var Au=`<div class="container" style="margin-top: 100px">
  <div class="options-container"></div>
  <div class="row" style="display: none">
    <div class="col">
      <ul class="list-group">
        <!--Checkbox -->
        <li
          class="checkbox-template list-group-item p-4 d-flex justify-content-between align-items-center"
        >
          <div class="ms-2 me-5">
            <div class="fw-bold control-title">Subheading title</div>
            <small class="control-description disabled"
              >Content for list item ent for list item ent for list ent for list
              item ent for list ent for list item ent for list ent for list item
              ent for list</small
            >
          </div>
          <input
            class="control-input form-check-input me-1"
            type="checkbox"
            value=""
          />
        </li>

        <!--Select -->
        <li
          class="select-template list-group-item p-4 d-flex justify-content-between align-items-center"
        >
          <div class="ms-2 me-5">
            <div class="control-title fw-bold">Subheading title</div>
            <small class="control-description disabled"
              >Content for list item ent for for list ent for list item ent for
              list</small
            >
          </div>
          <select
            autocomplete="off"
            class="control-input form-select form-select-md"
            aria-label="choose an option"
            style="max-width: 200px"
          ></select>
        </li>

        <!--Range -->
        <li class="range-template list-group-item p-4">
          <div class="ms-2">
            <div class="control-title fw-bold">Subheading title</div>
            <small class="control-description disabled"
              >Content for list item ent for list item ent for list</small
            >
            <input type="range" class="control-input form-range" />
            Current value: <span></span>
          </div>
        </li>

        <!--Switch  -->
        <li
          class="switch-template list-group-item p-4 d-flex justify-content-between align-items-center"
        >
          <div class="ms-2 me-auto pe-2">
            <div class="control-title fw-bold">Subheading title</div>
            <small class="control-description disabled"
              >Content for list item ent for list item ent for list</small
            >
          </div>
          <div class="form-check form-switch">
            <input
              class="control-input form-check-input"
              type="checkbox"
              role="switch"
              checked="true"
            />
          </div>
        </li>

        <!--Radio -->
        <li
          class="radio-template list-group-item p-4 d-flex justify-content-between align-items-center"
        >
          <div class="ms-2 me-5">
            <div class="control-title fw-bold">Subheading title</div>
            <small class="control-description disabled"
              >Content for list item ent for list item ent for list ent for list
              item ent for list ent for list item ent for list ent for list item
              ent for list</small
            >
          </div>
          <div
            class="control-input btn-group"
            role="group"
            aria-label="Choose an option"
          ></div>
        </li>

        <!--TextArea -->
        <li class="textarea-template list-group-item p-4">
          <div class="ms-2">
            <div class="control-title fw-bold">Subheading title</div>
            <small class="control-description disabled"
              >Content for list item ent for list item ent for list</small
            >
            <textarea
              class="control-input form-control p-3 mt-2"
              rows="5"
            ></textarea>
          </div>
        </li>
      </ul>
    </div>
  </div>

  <div class="toast-container position-fixed bottom-0 end-0 p-1">
    <div
      id="liveToast"
      class="toast"
      role="alert"
      aria-live="assertive"
      aria-atomic="true"
    >
      <div class="toast-body">
        <img src="../assets/logo-24x24.png" class="rounded me-2" alt="Logo" />
        <span>Successfully updated settings</span>
      </div>
    </div>
  </div>
</div>
`;var sr=class extends HTMLElement{constructor(n){super();this.template=new DOMParser().parseFromString(Au,"text/html");this.logger=new Nt(this);this.configItems=n,this.attachShadow({mode:"open"})}connectedCallback(){this.logger.debug("SettingsUI added to page."),this.fetchAndSetConfigValues(this.configItems).then(n=>{this.render(n)})}disconnectedCallback(){this.logger.debug("SettingsUI element removed from page.")}adoptedCallback(){this.logger.debug("SettingsUI element moved to new page.")}async fetchAndSetConfigValues(n){for(let i of n){let r=await ut.get(i.id);r==null||r===void 0?i.value=i.default_value:i.value=r}return n}render(n){this.logger.debug("Rendering options: ",n);let i=document.createElement("link");i.rel="stylesheet",i.href=chrome.runtime.getURL("utils/settings/settings.css"),this.shadowRoot?.append(i);let r=document.createElement("ul");r.className="list-group",r.setAttribute("data-bs-theme","light"),n.filter(o=>!o.dev_only||o.dev_only&&IS_DEV_BUILD).forEach(o=>r.appendChild(this.cloneInput(o))),this.shadowRoot?.append(r)}async saveChange(n,i){this.logger.debug("saving: ",n.id,i),await ut.put(n.id,i),this.showToast()}cloneInput(n){let i=this.template.getElementsByClassName(`${n.type}-template`)[0].cloneNode(!0);i.getElementsByClassName("control-title")[0].innerHTML=Qe(n.title),i.getElementsByClassName("control-description")[0].innerHTML=Qe(n.description);let r=i.getElementsByClassName("control-input")[0];return["checkbox","switch"].includes(n.type)?(r.checked=!!n.value,r.addEventListener("input",o=>this.saveChange(n,o.target.checked))):r.value=n.value,n.type==="range"&&(r.min=n.min??"0",r.max=n.max??"5",r.step=n.step??"1",r.nextElementSibling.innerHTML=r.value,r.addEventListener("input",o=>{this.saveChange(n,o.target.value),r.nextElementSibling.innerHTML=r.value})),n.type==="select"&&(n.options?.forEach(o=>{r.add(new Option(Qe(o.text),o.id,o.id===n.value))}),r.selectedIndex=n.options?.findIndex(o=>o.id===n.value)??-1,r.addEventListener("change",o=>this.saveChange(n,o.target.value))),n.type==="radio"&&(n.options?.forEach(o=>{let s=document.createElement("input");s.type="radio",s.name=n.id,s.value=o.id,s.id=`${n.id}-${o.id}`,s.autocomplete="off",s.className="btn-check",s.checked=o.id===n.value,r.appendChild(s);let a=document.createElement("label");a.className="btn btn-outline-primary",a.htmlFor=s.id,a.appendChild(document.createTextNode(o.text)),r.appendChild(a)}),r.addEventListener("input",o=>this.saveChange(n,o.target.value))),n.type==="textarea"&&r.addEventListener("input",o=>this.saveChange(n,o.target.value)),i}showToast(){let n=this.shadowRoot?.querySelector(".toast-container");n||(n=this.template.querySelector(".toast-container"),n.querySelector(".toast-body span").innerHTML=Qe("optionsSaveSuccess"),this.shadowRoot?.append(n));let i=new fn(n.querySelector("#liveToast"),{delay:1e3});this.logger.log("showing toast: ",i),i.show()}};customElements.define("settings-ui",sr);var va=[{id:"search-engine",type:"select",title:"Search engine",description:"The search engine that would be used for inline search previews.",default_value:"google",options:[{id:"google",text:"Google"},{id:"bing",text:"Bing"},{id:"yahoo",text:"Yahoo"},{id:"baidu",text:"Baidu"},{id:"yandex",text:"Yandex"}]},{id:"previewr-width",type:"range",title:"Preview Width (%)",description:"The width of the preview panel relative to the page.",default_value:40,min:"20",max:"90"},{id:"previewr-height",type:"range",title:"Preview Height (%)",description:"The height of the preview panel relative to the page.",default_value:70,min:"20",max:"95"},{id:"previewr-position",type:"select",title:"Panel Position",description:"The side of the page in which to display the preview.",default_value:"right",options:[{id:"right",text:"Right"},{id:"left",text:"Left"}]},{id:"close-on-esc",type:"switch",title:"Close on Escape",description:"Use the ESC (escape) key to close the preview panel.",default_value:!0},{id:"automatically-hide-previews",type:"switch",title:"Automatically Hide Previews",description:"Hides the preview panel when you scroll away or interact with the main page.",default_value:!1},{id:"preview-in-side-panel",type:"switch",title:"Preview in Side Panel",description:"Displays the view in Chrome Side Panel instead of a floating box.",default_value:!1,dev_only:!0},{id:"preview-on-hover",type:"switch",title:"Automatic Preview on Hover",description:"No need to click on tooltip button, auto show preview on hover.",default_value:!1},{id:"preview-on-hover-delay",type:"range",title:"Preview-on-Hover Delay",description:"When automatic preview on hover is enabled, this is the delay before the preview is shown.",default_value:3,min:"1",max:"5"},{id:"blocked-sites",type:"textarea",title:"Disabled on Websites",description:"Extension will not run on these sites. Enter one site per line.",default_value:""},{id:"enable-anti-frame-busting",type:"switch",title:"[Advanced] Force Preview",description:"For websites that **really** do not want to be previewed (e.g. stackoverflow.com) this forces a preview. Nerd alert: this is a frame-busting buster.",default_value:!1},{id:"disable-incognito-google",type:"switch",title:"[Advanced] Disable Incognito Google",description:"By default, the version of Google search used is always signed-out for privacy and security reasons. Though this may result in always seeing sign-in prompts.",default_value:!1}],bE="betterpreviews.com/mainframe",S0=new URL(window.location.href).protocol;window.name===bE?va["disable-on-this-site"]={id:"disable-on-this-site",type:"switch",title:"Disable Previews on this site",description:"The detail information about the checkbox here.",value:!1}:va["disabled-on-sites"]={id:"disabled-on-sites",type:"textarea",title:"Disabled on Websites",description:"Extension will not run on these sites, you can disable a site by adding to this list.",value:`example.com
example.org`};document.addEventListener("DOMContentLoaded",()=>{document.querySelector(".options-container")?.appendChild(new sr(va)),document.querySelector("#show-preview")?.addEventListener("click",()=>{window.postMessage({application:gt.__package_name__,action:"search",data:"hello world"},window.location.origin)})});})();
