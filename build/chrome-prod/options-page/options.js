var IS_DEV_BUILD=false;
(()=>{var Js=Object.create;var On=Object.defineProperty;var ta=Object.getOwnPropertyDescriptor;var ea=Object.getOwnPropertyNames;var ia=Object.getPrototypeOf,na=Object.prototype.hasOwnProperty;var qi=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Fr=(e,t)=>{for(var i in t)On(e,i,{get:t[i],enumerable:!0})},ra=(e,t,i,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of ea(t))!na.call(e,r)&&r!==i&&On(e,r,{get:()=>t[r],enumerable:!(n=ta(t,r))||n.enumerable});return e};var Wr=(e,t,i)=>(i=e!=null?Js(ia(e)):{},ra(t||!e||!e.__esModule?On(i,"default",{value:e,enumerable:!0}):i,e));var Zr=qi(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.sanitizeUrl=void 0;var ga=/^([^\w]*)(javascript|data|vbscript)/im,_a=/&#(\w+)(^\w|;)?/g,va=/&(newline|tab);/gi,ba=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,wa=/^.+(:|&colon;)/gim,Ea=[".","/"];function ya(e){return Ea.indexOf(e[0])>-1}function Aa(e){return e.replace(_a,function(t,i){return String.fromCharCode(i)})}function xa(e){var t=Aa(e||"").replace(va,"").replace(ba,"").trim();if(!t)return"about:blank";if(ya(t))return t;var i=t.match(wa);if(!i)return t;var n=i[0];return ga.test(n)?"about:blank":t}Ji.sanitizeUrl=xa});var to=qi((Pf,Rn)=>{function Jr(e,t){if(t&&t.documentElement)e=t,t=arguments[2];else if(!e||!e.documentElement)throw new Error("First argument to Readability constructor should be a document object.");if(t=t||{},this._doc=e,this._docJSDOMParser=this._doc.firstChild.__JSDOMParser__,this._articleTitle=null,this._articleByline=null,this._articleDir=null,this._articleSiteName=null,this._attempts=[],this._debug=!!t.debug,this._maxElemsToParse=t.maxElemsToParse||this.DEFAULT_MAX_ELEMS_TO_PARSE,this._nbTopCandidates=t.nbTopCandidates||this.DEFAULT_N_TOP_CANDIDATES,this._charThreshold=t.charThreshold||this.DEFAULT_CHAR_THRESHOLD,this._classesToPreserve=this.CLASSES_TO_PRESERVE.concat(t.classesToPreserve||[]),this._keepClasses=!!t.keepClasses,this._serializer=t.serializer||function(i){return i.innerHTML},this._disableJSONLD=!!t.disableJSONLD,this._flags=this.FLAG_STRIP_UNLIKELYS|this.FLAG_WEIGHT_CLASSES|this.FLAG_CLEAN_CONDITIONALLY,this._debug){let i=function(n){if(n.nodeType==n.TEXT_NODE)return`${n.nodeName} ("${n.textContent}")`;let r=Array.from(n.attributes||[],function(o){return`${o.name}="${o.value}"`}).join(" ");return`<${n.localName} ${r}>`};this.log=function(){if(typeof dump<"u"){var n=Array.prototype.map.call(arguments,function(r){return r&&r.nodeName?i(r):r}).join(" ");dump("Reader: (Readability) "+n+`
`)}else if(typeof console<"u"){let r=Array.from(arguments,o=>o&&o.nodeType==this.ELEMENT_NODE?i(o):o);r.unshift("Reader: (Readability)"),console.log.apply(console,r)}}}else this.log=function(){}}Jr.prototype={FLAG_STRIP_UNLIKELYS:1,FLAG_WEIGHT_CLASSES:2,FLAG_CLEAN_CONDITIONALLY:4,ELEMENT_NODE:1,TEXT_NODE:3,DEFAULT_MAX_ELEMS_TO_PARSE:0,DEFAULT_N_TOP_CANDIDATES:5,DEFAULT_TAGS_TO_SCORE:"section,h2,h3,h4,h5,h6,p,td,pre".toUpperCase().split(","),DEFAULT_CHAR_THRESHOLD:500,REGEXPS:{unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i,positive:/article|body|content|entry|hentry|h-entry|main|page|pagination|post|text|blog|story/i,negative:/-ad-|hidden|^hid$| hid$| hid |^hid |banner|combx|comment|com-|contact|foot|footer|footnote|gdpr|masthead|media|meta|outbrain|promo|related|scroll|share|shoutbox|sidebar|skyscraper|sponsor|shopping|tags|tool|widget/i,extraneous:/print|archive|comment|discuss|e[\-]?mail|share|reply|all|login|sign|single|utility/i,byline:/byline|author|dateline|writtenby|p-author/i,replaceFonts:/<(\/?)font[^>]*>/gi,normalize:/\s{2,}/g,videos:/\/\/(www\.)?((dailymotion|youtube|youtube-nocookie|player\.vimeo|v\.qq)\.com|(archive|upload\.wikimedia)\.org|player\.twitch\.tv)/i,shareElements:/(\b|_)(share|sharedaddy)(\b|_)/i,nextLink:/(next|weiter|continue|>([^\|]|$)|»([^\|]|$))/i,prevLink:/(prev|earl|old|new|<|«)/i,tokenize:/\W+/g,whitespace:/^\s*$/,hasContent:/\S$/,hashUrl:/^#.+/,srcsetUrl:/(\S+)(\s+[\d.]+[xw])?(\s*(?:,|$))/g,b64DataUrl:/^data:\s*([^\s;,]+)\s*;\s*base64\s*,/i,jsonLdArticleTypes:/^Article|AdvertiserContentArticle|NewsArticle|AnalysisNewsArticle|AskPublicNewsArticle|BackgroundNewsArticle|OpinionNewsArticle|ReportageNewsArticle|ReviewNewsArticle|Report|SatiricalArticle|ScholarlyArticle|MedicalScholarlyArticle|SocialMediaPosting|BlogPosting|LiveBlogPosting|DiscussionForumPosting|TechArticle|APIReference$/},UNLIKELY_ROLES:["menu","menubar","complementary","navigation","alert","alertdialog","dialog"],DIV_TO_P_ELEMS:new Set(["BLOCKQUOTE","DL","DIV","IMG","OL","P","PRE","TABLE","UL"]),ALTER_TO_DIV_EXCEPTIONS:["DIV","ARTICLE","SECTION","P"],PRESENTATIONAL_ATTRIBUTES:["align","background","bgcolor","border","cellpadding","cellspacing","frame","hspace","rules","style","valign","vspace"],DEPRECATED_SIZE_ATTRIBUTE_ELEMS:["TABLE","TH","TD","HR","PRE"],PHRASING_ELEMS:["ABBR","AUDIO","B","BDO","BR","BUTTON","CITE","CODE","DATA","DATALIST","DFN","EM","EMBED","I","IMG","INPUT","KBD","LABEL","MARK","MATH","METER","NOSCRIPT","OBJECT","OUTPUT","PROGRESS","Q","RUBY","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRONG","SUB","SUP","TEXTAREA","TIME","VAR","WBR"],CLASSES_TO_PRESERVE:["page"],HTML_ESCAPE_MAP:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},_postProcessContent:function(e){this._fixRelativeUris(e),this._simplifyNestedElements(e),this._keepClasses||this._cleanClasses(e)},_removeNodes:function(e,t){if(this._docJSDOMParser&&e._isLiveNodeList)throw new Error("Do not pass live node lists to _removeNodes");for(var i=e.length-1;i>=0;i--){var n=e[i],r=n.parentNode;r&&(!t||t.call(this,n,i,e))&&r.removeChild(n)}},_replaceNodeTags:function(e,t){if(this._docJSDOMParser&&e._isLiveNodeList)throw new Error("Do not pass live node lists to _replaceNodeTags");for(let i of e)this._setNodeTag(i,t)},_forEachNode:function(e,t){Array.prototype.forEach.call(e,t,this)},_findNode:function(e,t){return Array.prototype.find.call(e,t,this)},_someNode:function(e,t){return Array.prototype.some.call(e,t,this)},_everyNode:function(e,t){return Array.prototype.every.call(e,t,this)},_concatNodeLists:function(){var e=Array.prototype.slice,t=e.call(arguments),i=t.map(function(n){return e.call(n)});return Array.prototype.concat.apply([],i)},_getAllNodesWithTag:function(e,t){return e.querySelectorAll?e.querySelectorAll(t.join(",")):[].concat.apply([],t.map(function(i){var n=e.getElementsByTagName(i);return Array.isArray(n)?n:Array.from(n)}))},_cleanClasses:function(e){var t=this._classesToPreserve,i=(e.getAttribute("class")||"").split(/\s+/).filter(function(n){return t.indexOf(n)!=-1}).join(" ");for(i?e.setAttribute("class",i):e.removeAttribute("class"),e=e.firstElementChild;e;e=e.nextElementSibling)this._cleanClasses(e)},_fixRelativeUris:function(e){var t=this._doc.baseURI,i=this._doc.documentURI;function n(s){if(t==i&&s.charAt(0)=="#")return s;try{return new URL(s,t).href}catch{}return s}var r=this._getAllNodesWithTag(e,["a"]);this._forEachNode(r,function(s){var a=s.getAttribute("href");if(a)if(a.indexOf("javascript:")===0)if(s.childNodes.length===1&&s.childNodes[0].nodeType===this.TEXT_NODE){var c=this._doc.createTextNode(s.textContent);s.parentNode.replaceChild(c,s)}else{for(var h=this._doc.createElement("span");s.firstChild;)h.appendChild(s.firstChild);s.parentNode.replaceChild(h,s)}else s.setAttribute("href",n(a))});var o=this._getAllNodesWithTag(e,["img","picture","figure","video","audio","source"]);this._forEachNode(o,function(s){var a=s.getAttribute("src"),c=s.getAttribute("poster"),h=s.getAttribute("srcset");if(a&&s.setAttribute("src",n(a)),c&&s.setAttribute("poster",n(c)),h){var d=h.replace(this.REGEXPS.srcsetUrl,function(m,_,b,x){return n(_)+(b||"")+x});s.setAttribute("srcset",d)}})},_simplifyNestedElements:function(e){for(var t=e;t;){if(t.parentNode&&["DIV","SECTION"].includes(t.tagName)&&!(t.id&&t.id.startsWith("readability"))){if(this._isElementWithoutContent(t)){t=this._removeAndGetNext(t);continue}else if(this._hasSingleTagInsideElement(t,"DIV")||this._hasSingleTagInsideElement(t,"SECTION")){for(var i=t.children[0],n=0;n<t.attributes.length;n++)i.setAttribute(t.attributes[n].name,t.attributes[n].value);t.parentNode.replaceChild(i,t),t=i;continue}}t=this._getNextNode(t)}},_getArticleTitle:function(){var e=this._doc,t="",i="";try{t=i=e.title.trim(),typeof t!="string"&&(t=i=this._getInnerText(e.getElementsByTagName("title")[0]))}catch{}var n=!1;function r(d){return d.split(/\s+/).length}if(/ [\|\-\\\/>»] /.test(t))n=/ [\\\/>»] /.test(t),t=i.replace(/(.*)[\|\-\\\/>»] .*/gi,"$1"),r(t)<3&&(t=i.replace(/[^\|\-\\\/>»]*[\|\-\\\/>»](.*)/gi,"$1"));else if(t.indexOf(": ")!==-1){var o=this._concatNodeLists(e.getElementsByTagName("h1"),e.getElementsByTagName("h2")),s=t.trim(),a=this._someNode(o,function(d){return d.textContent.trim()===s});a||(t=i.substring(i.lastIndexOf(":")+1),r(t)<3?t=i.substring(i.indexOf(":")+1):r(i.substr(0,i.indexOf(":")))>5&&(t=i))}else if(t.length>150||t.length<15){var c=e.getElementsByTagName("h1");c.length===1&&(t=this._getInnerText(c[0]))}t=t.trim().replace(this.REGEXPS.normalize," ");var h=r(t);return h<=4&&(!n||h!=r(i.replace(/[\|\-\\\/>»]+/g,""))-1)&&(t=i),t},_prepDocument:function(){var e=this._doc;this._removeNodes(this._getAllNodesWithTag(e,["style"])),e.body&&this._replaceBrs(e.body),this._replaceNodeTags(this._getAllNodesWithTag(e,["font"]),"SPAN")},_nextNode:function(e){for(var t=e;t&&t.nodeType!=this.ELEMENT_NODE&&this.REGEXPS.whitespace.test(t.textContent);)t=t.nextSibling;return t},_replaceBrs:function(e){this._forEachNode(this._getAllNodesWithTag(e,["br"]),function(t){for(var i=t.nextSibling,n=!1;(i=this._nextNode(i))&&i.tagName=="BR";){n=!0;var r=i.nextSibling;i.parentNode.removeChild(i),i=r}if(n){var o=this._doc.createElement("p");for(t.parentNode.replaceChild(o,t),i=o.nextSibling;i;){if(i.tagName=="BR"){var s=this._nextNode(i.nextSibling);if(s&&s.tagName=="BR")break}if(!this._isPhrasingContent(i))break;var a=i.nextSibling;o.appendChild(i),i=a}for(;o.lastChild&&this._isWhitespace(o.lastChild);)o.removeChild(o.lastChild);o.parentNode.tagName==="P"&&this._setNodeTag(o.parentNode,"DIV")}})},_setNodeTag:function(e,t){if(this.log("_setNodeTag",e,t),this._docJSDOMParser)return e.localName=t.toLowerCase(),e.tagName=t.toUpperCase(),e;for(var i=e.ownerDocument.createElement(t);e.firstChild;)i.appendChild(e.firstChild);e.parentNode.replaceChild(i,e),e.readability&&(i.readability=e.readability);for(var n=0;n<e.attributes.length;n++)try{i.setAttribute(e.attributes[n].name,e.attributes[n].value)}catch{}return i},_prepArticle:function(e){this._cleanStyles(e),this._markDataTables(e),this._fixLazyImages(e),this._cleanConditionally(e,"form"),this._cleanConditionally(e,"fieldset"),this._clean(e,"object"),this._clean(e,"embed"),this._clean(e,"footer"),this._clean(e,"link"),this._clean(e,"aside");var t=this.DEFAULT_CHAR_THRESHOLD;this._forEachNode(e.children,function(i){this._cleanMatchedNodes(i,function(n,r){return this.REGEXPS.shareElements.test(r)&&n.textContent.length<t})}),this._clean(e,"iframe"),this._clean(e,"input"),this._clean(e,"textarea"),this._clean(e,"select"),this._clean(e,"button"),this._cleanHeaders(e),this._cleanConditionally(e,"table"),this._cleanConditionally(e,"ul"),this._cleanConditionally(e,"div"),this._replaceNodeTags(this._getAllNodesWithTag(e,["h1"]),"h2"),this._removeNodes(this._getAllNodesWithTag(e,["p"]),function(i){var n=i.getElementsByTagName("img").length,r=i.getElementsByTagName("embed").length,o=i.getElementsByTagName("object").length,s=i.getElementsByTagName("iframe").length,a=n+r+o+s;return a===0&&!this._getInnerText(i,!1)}),this._forEachNode(this._getAllNodesWithTag(e,["br"]),function(i){var n=this._nextNode(i.nextSibling);n&&n.tagName=="P"&&i.parentNode.removeChild(i)}),this._forEachNode(this._getAllNodesWithTag(e,["table"]),function(i){var n=this._hasSingleTagInsideElement(i,"TBODY")?i.firstElementChild:i;if(this._hasSingleTagInsideElement(n,"TR")){var r=n.firstElementChild;if(this._hasSingleTagInsideElement(r,"TD")){var o=r.firstElementChild;o=this._setNodeTag(o,this._everyNode(o.childNodes,this._isPhrasingContent)?"P":"DIV"),i.parentNode.replaceChild(o,i)}}})},_initializeNode:function(e){switch(e.readability={contentScore:0},e.tagName){case"DIV":e.readability.contentScore+=5;break;case"PRE":case"TD":case"BLOCKQUOTE":e.readability.contentScore+=3;break;case"ADDRESS":case"OL":case"UL":case"DL":case"DD":case"DT":case"LI":case"FORM":e.readability.contentScore-=3;break;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"TH":e.readability.contentScore-=5;break}e.readability.contentScore+=this._getClassWeight(e)},_removeAndGetNext:function(e){var t=this._getNextNode(e,!0);return e.parentNode.removeChild(e),t},_getNextNode:function(e,t){if(!t&&e.firstElementChild)return e.firstElementChild;if(e.nextElementSibling)return e.nextElementSibling;do e=e.parentNode;while(e&&!e.nextElementSibling);return e&&e.nextElementSibling},_textSimilarity:function(e,t){var i=e.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean),n=t.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean);if(!i.length||!n.length)return 0;var r=n.filter(s=>!i.includes(s)),o=r.join(" ").length/n.join(" ").length;return 1-o},_checkByline:function(e,t){if(this._articleByline)return!1;if(e.getAttribute!==void 0)var i=e.getAttribute("rel"),n=e.getAttribute("itemprop");return(i==="author"||n&&n.indexOf("author")!==-1||this.REGEXPS.byline.test(t))&&this._isValidByline(e.textContent)?(this._articleByline=e.textContent.trim(),!0):!1},_getNodeAncestors:function(e,t){t=t||0;for(var i=0,n=[];e.parentNode&&(n.push(e.parentNode),!(t&&++i===t));)e=e.parentNode;return n},_grabArticle:function(e){this.log("**** grabArticle ****");var t=this._doc,i=e!==null;if(e=e||this._doc.body,!e)return this.log("No body found in document. Abort."),null;for(var n=e.innerHTML;;){this.log("Starting grabArticle loop");var r=this._flagIsActive(this.FLAG_STRIP_UNLIKELYS),o=[],s=this._doc.documentElement;let Ct=!0;for(;s;){s.tagName==="HTML"&&(this._articleLang=s.getAttribute("lang"));var a=s.className+" "+s.id;if(!this._isProbablyVisible(s)){this.log("Removing hidden node - "+a),s=this._removeAndGetNext(s);continue}if(this._checkByline(s,a)){s=this._removeAndGetNext(s);continue}if(Ct&&this._headerDuplicatesTitle(s)){this.log("Removing header: ",s.textContent.trim(),this._articleTitle.trim()),Ct=!1,s=this._removeAndGetNext(s);continue}if(r){if(this.REGEXPS.unlikelyCandidates.test(a)&&!this.REGEXPS.okMaybeItsACandidate.test(a)&&!this._hasAncestorTag(s,"table")&&!this._hasAncestorTag(s,"code")&&s.tagName!=="BODY"&&s.tagName!=="A"){this.log("Removing unlikely candidate - "+a),s=this._removeAndGetNext(s);continue}if(this.UNLIKELY_ROLES.includes(s.getAttribute("role"))){this.log("Removing content with role "+s.getAttribute("role")+" - "+a),s=this._removeAndGetNext(s);continue}}if((s.tagName==="DIV"||s.tagName==="SECTION"||s.tagName==="HEADER"||s.tagName==="H1"||s.tagName==="H2"||s.tagName==="H3"||s.tagName==="H4"||s.tagName==="H5"||s.tagName==="H6")&&this._isElementWithoutContent(s)){s=this._removeAndGetNext(s);continue}if(this.DEFAULT_TAGS_TO_SCORE.indexOf(s.tagName)!==-1&&o.push(s),s.tagName==="DIV"){for(var c=null,h=s.firstChild;h;){var d=h.nextSibling;if(this._isPhrasingContent(h))c!==null?c.appendChild(h):this._isWhitespace(h)||(c=t.createElement("p"),s.replaceChild(c,h),c.appendChild(h));else if(c!==null){for(;c.lastChild&&this._isWhitespace(c.lastChild);)c.removeChild(c.lastChild);c=null}h=d}if(this._hasSingleTagInsideElement(s,"P")&&this._getLinkDensity(s)<.25){var m=s.children[0];s.parentNode.replaceChild(m,s),s=m,o.push(s)}else this._hasChildBlockElement(s)||(s=this._setNodeTag(s,"P"),o.push(s))}s=this._getNextNode(s)}var _=[];this._forEachNode(o,function(q){if(!(!q.parentNode||typeof q.parentNode.tagName>"u")){var X=this._getInnerText(q);if(!(X.length<25)){var ft=this._getNodeAncestors(q,5);if(ft.length!==0){var At=0;At+=1,At+=X.split(",").length,At+=Math.min(Math.floor(X.length/100),3),this._forEachNode(ft,function(wt,Z){if(!(!wt.tagName||!wt.parentNode||typeof wt.parentNode.tagName>"u")){if(typeof wt.readability>"u"&&(this._initializeNode(wt),_.push(wt)),Z===0)var kt=1;else Z===1?kt=2:kt=Z*3;wt.readability.contentScore+=At/kt}})}}}});for(var b=[],x=0,A=_.length;x<A;x+=1){var y=_[x],C=y.readability.contentScore*(1-this._getLinkDensity(y));y.readability.contentScore=C,this.log("Candidate:",y,"with score "+C);for(var S=0;S<this._nbTopCandidates;S++){var N=b[S];if(!N||C>N.readability.contentScore){b.splice(S,0,y),b.length>this._nbTopCandidates&&b.pop();break}}}var w=b[0]||null,O=!1,D;if(w===null||w.tagName==="BODY"){for(w=t.createElement("DIV"),O=!0;e.firstChild;)this.log("Moving child out:",e.firstChild),w.appendChild(e.firstChild);e.appendChild(w),this._initializeNode(w)}else if(w){for(var I=[],R=1;R<b.length;R++)b[R].readability.contentScore/w.readability.contentScore>=.75&&I.push(this._getNodeAncestors(b[R]));var $=3;if(I.length>=$)for(D=w.parentNode;D.tagName!=="BODY";){for(var k=0,j=0;j<I.length&&k<$;j++)k+=Number(I[j].includes(D));if(k>=$){w=D;break}D=D.parentNode}w.readability||this._initializeNode(w),D=w.parentNode;for(var V=w.readability.contentScore,Y=V/3;D.tagName!=="BODY";){if(!D.readability){D=D.parentNode;continue}var et=D.readability.contentScore;if(et<Y)break;if(et>V){w=D;break}V=D.readability.contentScore,D=D.parentNode}for(D=w.parentNode;D.tagName!="BODY"&&D.children.length==1;)w=D,D=w.parentNode;w.readability||this._initializeNode(w)}var H=t.createElement("DIV");i&&(H.id="readability-content");var G=Math.max(10,w.readability.contentScore*.2);D=w.parentNode;for(var Q=D.children,rt=0,it=Q.length;rt<it;rt++){var U=Q[rt],W=!1;if(this.log("Looking at sibling node:",U,U.readability?"with score "+U.readability.contentScore:""),this.log("Sibling has score",U.readability?U.readability.contentScore:"Unknown"),U===w)W=!0;else{var gt=0;if(U.className===w.className&&w.className!==""&&(gt+=w.readability.contentScore*.2),U.readability&&U.readability.contentScore+gt>=G)W=!0;else if(U.nodeName==="P"){var St=this._getLinkDensity(U),bt=this._getInnerText(U),lt=bt.length;(lt>80&&St<.25||lt<80&&lt>0&&St===0&&bt.search(/\.( |$)/)!==-1)&&(W=!0)}}W&&(this.log("Appending node:",U),this.ALTER_TO_DIV_EXCEPTIONS.indexOf(U.nodeName)===-1&&(this.log("Altering sibling:",U,"to div."),U=this._setNodeTag(U,"DIV")),H.appendChild(U),Q=D.children,rt-=1,it-=1)}if(this._debug&&this.log("Article content pre-prep: "+H.innerHTML),this._prepArticle(H),this._debug&&this.log("Article content post-prep: "+H.innerHTML),O)w.id="readability-page-1",w.className="page";else{var ht=t.createElement("DIV");for(ht.id="readability-page-1",ht.className="page";H.firstChild;)ht.appendChild(H.firstChild);H.appendChild(ht)}this._debug&&this.log("Article content after paging: "+H.innerHTML);var Dt=!0,dt=this._getInnerText(H,!0).length;if(dt<this._charThreshold)if(Dt=!1,e.innerHTML=n,this._flagIsActive(this.FLAG_STRIP_UNLIKELYS))this._removeFlag(this.FLAG_STRIP_UNLIKELYS),this._attempts.push({articleContent:H,textLength:dt});else if(this._flagIsActive(this.FLAG_WEIGHT_CLASSES))this._removeFlag(this.FLAG_WEIGHT_CLASSES),this._attempts.push({articleContent:H,textLength:dt});else if(this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY))this._removeFlag(this.FLAG_CLEAN_CONDITIONALLY),this._attempts.push({articleContent:H,textLength:dt});else{if(this._attempts.push({articleContent:H,textLength:dt}),this._attempts.sort(function(q,X){return X.textLength-q.textLength}),!this._attempts[0].textLength)return null;H=this._attempts[0].articleContent,Dt=!0}if(Dt){var It=[D,w].concat(this._getNodeAncestors(D));return this._someNode(It,function(q){if(!q.tagName)return!1;var X=q.getAttribute("dir");return X?(this._articleDir=X,!0):!1}),H}}},_isValidByline:function(e){return typeof e=="string"||e instanceof String?(e=e.trim(),e.length>0&&e.length<100):!1},_unescapeHtmlEntities:function(e){if(!e)return e;var t=this.HTML_ESCAPE_MAP;return e.replace(/&(quot|amp|apos|lt|gt);/g,function(i,n){return t[n]}).replace(/&#(?:x([0-9a-z]{1,4})|([0-9]{1,4}));/gi,function(i,n,r){var o=parseInt(n||r,n?16:10);return String.fromCharCode(o)})},_getJSONLD:function(e){var t=this._getAllNodesWithTag(e,["script"]),i;return this._forEachNode(t,function(n){if(!i&&n.getAttribute("type")==="application/ld+json")try{var r=n.textContent.replace(/^\s*<!\[CDATA\[|\]\]>\s*$/g,""),o=JSON.parse(r);if(!o["@context"]||!o["@context"].match(/^https?\:\/\/schema\.org$/)||(!o["@type"]&&Array.isArray(o["@graph"])&&(o=o["@graph"].find(function(h){return(h["@type"]||"").match(this.REGEXPS.jsonLdArticleTypes)})),!o||!o["@type"]||!o["@type"].match(this.REGEXPS.jsonLdArticleTypes)))return;if(i={},typeof o.name=="string"&&typeof o.headline=="string"&&o.name!==o.headline){var s=this._getArticleTitle(),a=this._textSimilarity(o.name,s)>.75,c=this._textSimilarity(o.headline,s)>.75;c&&!a?i.title=o.headline:i.title=o.name}else typeof o.name=="string"?i.title=o.name.trim():typeof o.headline=="string"&&(i.title=o.headline.trim());o.author&&(typeof o.author.name=="string"?i.byline=o.author.name.trim():Array.isArray(o.author)&&o.author[0]&&typeof o.author[0].name=="string"&&(i.byline=o.author.filter(function(h){return h&&typeof h.name=="string"}).map(function(h){return h.name.trim()}).join(", "))),typeof o.description=="string"&&(i.excerpt=o.description.trim()),o.publisher&&typeof o.publisher.name=="string"&&(i.siteName=o.publisher.name.trim());return}catch(h){this.log(h.message)}}),i||{}},_getArticleMetadata:function(e){var t={},i={},n=this._doc.getElementsByTagName("meta"),r=/\s*(dc|dcterm|og|twitter)\s*:\s*(author|creator|description|title|site_name)\s*/gi,o=/^\s*(?:(dc|dcterm|og|twitter|weibo:(article|webpage))\s*[\.:]\s*)?(author|creator|description|title|site_name)\s*$/i;return this._forEachNode(n,function(s){var a=s.getAttribute("name"),c=s.getAttribute("property"),h=s.getAttribute("content");if(!!h){var d=null,m=null;c&&(d=c.match(r),d&&(m=d[0].toLowerCase().replace(/\s/g,""),i[m]=h.trim())),!d&&a&&o.test(a)&&(m=a,h&&(m=m.toLowerCase().replace(/\s/g,"").replace(/\./g,":"),i[m]=h.trim()))}}),t.title=e.title||i["dc:title"]||i["dcterm:title"]||i["og:title"]||i["weibo:article:title"]||i["weibo:webpage:title"]||i.title||i["twitter:title"],t.title||(t.title=this._getArticleTitle()),t.byline=e.byline||i["dc:creator"]||i["dcterm:creator"]||i.author,t.excerpt=e.excerpt||i["dc:description"]||i["dcterm:description"]||i["og:description"]||i["weibo:article:description"]||i["weibo:webpage:description"]||i.description||i["twitter:description"],t.siteName=e.siteName||i["og:site_name"],t.title=this._unescapeHtmlEntities(t.title),t.byline=this._unescapeHtmlEntities(t.byline),t.excerpt=this._unescapeHtmlEntities(t.excerpt),t.siteName=this._unescapeHtmlEntities(t.siteName),t},_isSingleImage:function(e){return e.tagName==="IMG"?!0:e.children.length!==1||e.textContent.trim()!==""?!1:this._isSingleImage(e.children[0])},_unwrapNoscriptImages:function(e){var t=Array.from(e.getElementsByTagName("img"));this._forEachNode(t,function(n){for(var r=0;r<n.attributes.length;r++){var o=n.attributes[r];switch(o.name){case"src":case"srcset":case"data-src":case"data-srcset":return}if(/\.(jpg|jpeg|png|webp)/i.test(o.value))return}n.parentNode.removeChild(n)});var i=Array.from(e.getElementsByTagName("noscript"));this._forEachNode(i,function(n){var r=e.createElement("div");if(r.innerHTML=n.innerHTML,!!this._isSingleImage(r)){var o=n.previousElementSibling;if(o&&this._isSingleImage(o)){var s=o;s.tagName!=="IMG"&&(s=o.getElementsByTagName("img")[0]);for(var a=r.getElementsByTagName("img")[0],c=0;c<s.attributes.length;c++){var h=s.attributes[c];if(h.value!==""&&(h.name==="src"||h.name==="srcset"||/\.(jpg|jpeg|png|webp)/i.test(h.value))){if(a.getAttribute(h.name)===h.value)continue;var d=h.name;a.hasAttribute(d)&&(d="data-old-"+d),a.setAttribute(d,h.value)}}n.parentNode.replaceChild(r.firstElementChild,o)}}})},_removeScripts:function(e){this._removeNodes(this._getAllNodesWithTag(e,["script"]),function(t){return t.nodeValue="",t.removeAttribute("src"),!0}),this._removeNodes(this._getAllNodesWithTag(e,["noscript"]))},_hasSingleTagInsideElement:function(e,t){return e.children.length!=1||e.children[0].tagName!==t?!1:!this._someNode(e.childNodes,function(i){return i.nodeType===this.TEXT_NODE&&this.REGEXPS.hasContent.test(i.textContent)})},_isElementWithoutContent:function(e){return e.nodeType===this.ELEMENT_NODE&&e.textContent.trim().length==0&&(e.children.length==0||e.children.length==e.getElementsByTagName("br").length+e.getElementsByTagName("hr").length)},_hasChildBlockElement:function(e){return this._someNode(e.childNodes,function(t){return this.DIV_TO_P_ELEMS.has(t.tagName)||this._hasChildBlockElement(t)})},_isPhrasingContent:function(e){return e.nodeType===this.TEXT_NODE||this.PHRASING_ELEMS.indexOf(e.tagName)!==-1||(e.tagName==="A"||e.tagName==="DEL"||e.tagName==="INS")&&this._everyNode(e.childNodes,this._isPhrasingContent)},_isWhitespace:function(e){return e.nodeType===this.TEXT_NODE&&e.textContent.trim().length===0||e.nodeType===this.ELEMENT_NODE&&e.tagName==="BR"},_getInnerText:function(e,t){t=typeof t>"u"?!0:t;var i=e.textContent.trim();return t?i.replace(this.REGEXPS.normalize," "):i},_getCharCount:function(e,t){return t=t||",",this._getInnerText(e).split(t).length-1},_cleanStyles:function(e){if(!(!e||e.tagName.toLowerCase()==="svg")){for(var t=0;t<this.PRESENTATIONAL_ATTRIBUTES.length;t++)e.removeAttribute(this.PRESENTATIONAL_ATTRIBUTES[t]);this.DEPRECATED_SIZE_ATTRIBUTE_ELEMS.indexOf(e.tagName)!==-1&&(e.removeAttribute("width"),e.removeAttribute("height"));for(var i=e.firstElementChild;i!==null;)this._cleanStyles(i),i=i.nextElementSibling}},_getLinkDensity:function(e){var t=this._getInnerText(e).length;if(t===0)return 0;var i=0;return this._forEachNode(e.getElementsByTagName("a"),function(n){var r=n.getAttribute("href"),o=r&&this.REGEXPS.hashUrl.test(r)?.3:1;i+=this._getInnerText(n).length*o}),i/t},_getClassWeight:function(e){if(!this._flagIsActive(this.FLAG_WEIGHT_CLASSES))return 0;var t=0;return typeof e.className=="string"&&e.className!==""&&(this.REGEXPS.negative.test(e.className)&&(t-=25),this.REGEXPS.positive.test(e.className)&&(t+=25)),typeof e.id=="string"&&e.id!==""&&(this.REGEXPS.negative.test(e.id)&&(t-=25),this.REGEXPS.positive.test(e.id)&&(t+=25)),t},_clean:function(e,t){var i=["object","embed","iframe"].indexOf(t)!==-1;this._removeNodes(this._getAllNodesWithTag(e,[t]),function(n){if(i){for(var r=0;r<n.attributes.length;r++)if(this.REGEXPS.videos.test(n.attributes[r].value))return!1;if(n.tagName==="object"&&this.REGEXPS.videos.test(n.innerHTML))return!1}return!0})},_hasAncestorTag:function(e,t,i,n){i=i||3,t=t.toUpperCase();for(var r=0;e.parentNode;){if(i>0&&r>i)return!1;if(e.parentNode.tagName===t&&(!n||n(e.parentNode)))return!0;e=e.parentNode,r++}return!1},_getRowAndColumnCount:function(e){for(var t=0,i=0,n=e.getElementsByTagName("tr"),r=0;r<n.length;r++){var o=n[r].getAttribute("rowspan")||0;o&&(o=parseInt(o,10)),t+=o||1;for(var s=0,a=n[r].getElementsByTagName("td"),c=0;c<a.length;c++){var h=a[c].getAttribute("colspan")||0;h&&(h=parseInt(h,10)),s+=h||1}i=Math.max(i,s)}return{rows:t,columns:i}},_markDataTables:function(e){for(var t=e.getElementsByTagName("table"),i=0;i<t.length;i++){var n=t[i],r=n.getAttribute("role");if(r=="presentation"){n._readabilityDataTable=!1;continue}var o=n.getAttribute("datatable");if(o=="0"){n._readabilityDataTable=!1;continue}var s=n.getAttribute("summary");if(s){n._readabilityDataTable=!0;continue}var a=n.getElementsByTagName("caption")[0];if(a&&a.childNodes.length>0){n._readabilityDataTable=!0;continue}var c=["col","colgroup","tfoot","thead","th"],h=function(m){return!!n.getElementsByTagName(m)[0]};if(c.some(h)){this.log("Data table because found data-y descendant"),n._readabilityDataTable=!0;continue}if(n.getElementsByTagName("table")[0]){n._readabilityDataTable=!1;continue}var d=this._getRowAndColumnCount(n);if(d.rows>=10||d.columns>4){n._readabilityDataTable=!0;continue}n._readabilityDataTable=d.rows*d.columns>10}},_fixLazyImages:function(e){this._forEachNode(this._getAllNodesWithTag(e,["img","picture","figure"]),function(t){if(t.src&&this.REGEXPS.b64DataUrl.test(t.src)){var i=this.REGEXPS.b64DataUrl.exec(t.src);if(i[1]==="image/svg+xml")return;for(var n=!1,r=0;r<t.attributes.length;r++){var o=t.attributes[r];if(o.name!=="src"&&/\.(jpg|jpeg|png|webp)/i.test(o.value)){n=!0;break}}if(n){var s=t.src.search(/base64\s*/i)+7,a=t.src.length-s;a<133&&t.removeAttribute("src")}}if(!((t.src||t.srcset&&t.srcset!="null")&&t.className.toLowerCase().indexOf("lazy")===-1)){for(var c=0;c<t.attributes.length;c++)if(o=t.attributes[c],!(o.name==="src"||o.name==="srcset"||o.name==="alt")){var h=null;if(/\.(jpg|jpeg|png|webp)\s+\d/.test(o.value)?h="srcset":/^\s*\S+\.(jpg|jpeg|png|webp)\S*\s*$/.test(o.value)&&(h="src"),h){if(t.tagName==="IMG"||t.tagName==="PICTURE")t.setAttribute(h,o.value);else if(t.tagName==="FIGURE"&&!this._getAllNodesWithTag(t,["img","picture"]).length){var d=this._doc.createElement("img");d.setAttribute(h,o.value),t.appendChild(d)}}}}})},_getTextDensity:function(e,t){var i=this._getInnerText(e,!0).length;if(i===0)return 0;var n=0,r=this._getAllNodesWithTag(e,t);return this._forEachNode(r,o=>n+=this._getInnerText(o,!0).length),n/i},_cleanConditionally:function(e,t){!this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY)||this._removeNodes(this._getAllNodesWithTag(e,[t]),function(i){var n=function(O){return O._readabilityDataTable},r=t==="ul"||t==="ol";if(!r){var o=0,s=this._getAllNodesWithTag(i,["ul","ol"]);this._forEachNode(s,O=>o+=this._getInnerText(O).length),r=o/this._getInnerText(i).length>.9}if(t==="table"&&n(i)||this._hasAncestorTag(i,"table",-1,n)||this._hasAncestorTag(i,"code"))return!1;var a=this._getClassWeight(i);this.log("Cleaning Conditionally",i);var c=0;if(a+c<0)return!0;if(this._getCharCount(i,",")<10){for(var h=i.getElementsByTagName("p").length,d=i.getElementsByTagName("img").length,m=i.getElementsByTagName("li").length-100,_=i.getElementsByTagName("input").length,b=this._getTextDensity(i,["h1","h2","h3","h4","h5","h6"]),x=0,A=this._getAllNodesWithTag(i,["object","embed","iframe"]),y=0;y<A.length;y++){for(var C=0;C<A[y].attributes.length;C++)if(this.REGEXPS.videos.test(A[y].attributes[C].value))return!1;if(A[y].tagName==="object"&&this.REGEXPS.videos.test(A[y].innerHTML))return!1;x++}var S=this._getLinkDensity(i),N=this._getInnerText(i).length,w=d>1&&h/d<.5&&!this._hasAncestorTag(i,"figure")||!r&&m>h||_>Math.floor(h/3)||!r&&b<.9&&N<25&&(d===0||d>2)&&!this._hasAncestorTag(i,"figure")||!r&&a<25&&S>.2||a>=25&&S>.5||x===1&&N<75||x>1;return w}return!1})},_cleanMatchedNodes:function(e,t){for(var i=this._getNextNode(e,!0),n=this._getNextNode(e);n&&n!=i;)t.call(this,n,n.className+" "+n.id)?n=this._removeAndGetNext(n):n=this._getNextNode(n)},_cleanHeaders:function(e){let t=this._getAllNodesWithTag(e,["h1","h2"]);this._removeNodes(t,function(i){let n=this._getClassWeight(i)<0;return n&&this.log("Removing header with low class weight:",i),n})},_headerDuplicatesTitle:function(e){if(e.tagName!="H1"&&e.tagName!="H2")return!1;var t=this._getInnerText(e,!1);return this.log("Evaluating similarity of header:",t,this._articleTitle),this._textSimilarity(this._articleTitle,t)>.75},_flagIsActive:function(e){return(this._flags&e)>0},_removeFlag:function(e){this._flags=this._flags&~e},_isProbablyVisible:function(e){return(!e.style||e.style.display!="none")&&!e.hasAttribute("hidden")&&(!e.hasAttribute("aria-hidden")||e.getAttribute("aria-hidden")!="true"||e.className&&e.className.indexOf&&e.className.indexOf("fallback-image")!==-1)},parse:function(){if(this._maxElemsToParse>0){var e=this._doc.getElementsByTagName("*").length;if(e>this._maxElemsToParse)throw new Error("Aborting parsing document; "+e+" elements found")}this._unwrapNoscriptImages(this._doc);var t=this._disableJSONLD?{}:this._getJSONLD(this._doc);this._removeScripts(this._doc),this._prepDocument();var i=this._getArticleMetadata(t);this._articleTitle=i.title;var n=this._grabArticle();if(!n)return null;if(this.log("Grabbed: "+n.innerHTML),this._postProcessContent(n),!i.excerpt){var r=n.getElementsByTagName("p");r.length>0&&(i.excerpt=r[0].textContent.trim())}var o=n.textContent;return{title:this._articleTitle,byline:i.byline||this._articleByline,dir:this._articleDir,lang:this._articleLang,content:this._serializer(n),textContent:o,length:o.length,excerpt:i.excerpt,siteName:i.siteName||this._articleSiteName}}};typeof Rn=="object"&&(Rn.exports=Jr)});var io=qi((Rf,$n)=>{var eo={unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i};function Ta(e){return(!e.style||e.style.display!="none")&&!e.hasAttribute("hidden")&&(!e.hasAttribute("aria-hidden")||e.getAttribute("aria-hidden")!="true"||e.className&&e.className.indexOf&&e.className.indexOf("fallback-image")!==-1)}function Na(e,t={}){typeof t=="function"&&(t={visibilityChecker:t});var i={minScore:20,minContentLength:140,visibilityChecker:Ta};t=Object.assign(i,t);var n=e.querySelectorAll("p, pre, article"),r=e.querySelectorAll("div > br");if(r.length){var o=new Set(n);[].forEach.call(r,function(a){o.add(a.parentNode)}),n=Array.from(o)}var s=0;return[].some.call(n,function(a){if(!t.visibilityChecker(a))return!1;var c=a.className+" "+a.id;if(eo.unlikelyCandidates.test(c)&&!eo.okMaybeItsACandidate.test(c)||a.matches("li p"))return!1;var h=a.textContent.trim().length;return h<t.minContentLength?!1:(s+=Math.sqrt(h-t.minContentLength),s>t.minScore)})}typeof $n=="object"&&($n.exports=Na)});var ro=qi(($f,no)=>{var Sa=to(),Ca=io();no.exports={Readability:Sa,isProbablyReaderable:Ca}});var _t={name:"__MSG_@appName__",description:"__MSG_@appDesc__",short_name:"__MSG_@appShortName_",homepage_url:"https://betterpreviews.com/",__package_name__:"search-preview","__comment:version__":"Firefox does not support leading zeros in versions",version:"24.04.12",__sentry_dsn__:"https://bf0a1e40a1784502aad701a201efdf08@o526305.ingest.sentry.io/4504743520436224",__measurement_id__:"G-XN737SN9S2",__ga_api_secret__:"zigXBV_3TjyIjkXuSPjo8w",manifest_version:3,default_locale:"en",author:"Justice Ogbonna",permissions:["storage","declarativeNetRequest","contextMenus","cookies","activeTab"],declarative_net_request:{rule_resources:[{id:"ruleset_1",enabled:!0,path:"assets/rules.json"}]},host_permissions:["*://*/*"],action:{default_icon:{"16":"assets/logo-16x16.png","24":"assets/logo-24x24.png","32":"assets/logo-32x32.png"},default_title:"Search Preview"},icons:{"16":"assets/logo-16x16.png","32":"assets/logo-32x32.png","48":"assets/logo-48x48.png","128":"assets/logo-128x128.png"},content_scripts:[{matches:["http://*/*","https://*/*"],all_frames:!0,js:["content-script/content-script.js"],css:["content-script/content-script.css"]}],background:{__chrome__service_worker:"background-script/service-worker.js",__firefox__scripts:["background-script/service-worker.js"]},side_panel:{default_path:"sidepanel/side-panel.html"},options_page:"options-page/options.html",web_accessible_resources:[{resources:["assets/logo-24x24.png"],matches:["<all_urls>"]},{resources:["options-page/options.html"],matches:["<all_urls>"]},{resources:["welcome/my-element.js"],matches:["<all_urls>"]},{resources:["content-script/floatie/tooltip.js"],matches:["<all_urls>"]}],__firefox__key:"",__firefox__browser_specific_settings:{gecko:{id:"search-preview@essentialkit.org"}}};async function Ur(){let{sessionData:e}=await chrome.storage.session.get("sessionData"),t=Date.now();return e&&e.timestamp&&((t-e.timestamp)/6e4>30?e=null:(e.timestamp=t,await chrome.storage.session.set({sessionData:e}))),e||(e={session_id:t.toString(),timestamp:t.toString()},await chrome.storage.session.set({sessionData:e})),e.session_id}var sa="https://www.google-analytics.com/mp/collect",aa="https://www.google-analytics.com/debug/mp/collect",la=_t.__measurement_id__,ca=_t.__ga_api_secret__,ha=100,Mn=class{constructor(){this.debug=IS_DEV_BUILD}async getOrCreateClientId(){let{clientId:t}=await chrome.storage.local.get("clientId");return t||(t=self.crypto.randomUUID(),await chrome.storage.local.set({clientId:t})),t}async getSessionId(){try{return Ur()}catch{return new Promise(i=>{chrome.runtime.sendMessage("get_or_create_session_id",n=>{i(n)})})}}async fireEvent(t,i={}){i.session_id||(i.session_id=await this.getSessionId()),i.engagement_time_msec||(i.engagement_time_msec=ha);try{let n=await fetch(`${this.debug?aa:sa}?measurement_id=${la}&api_secret=${ca}`,{method:"POST",body:JSON.stringify({client_id:await this.getOrCreateClientId(),events:[{name:t,params:i}]})});if(!this.debug)return;console.log(await n.text())}catch(n){console.error("Google Analytics request failed with an exception",n)}}async firePageViewEvent(t,i,n={}){return this.fireEvent("page_view",{page_title:t,page_location:i,...n})}async fireErrorEvent(t,i={}){return this.fireEvent("extension_error",{...t,...i})}},ue=new Mn;var ua=_t.__package_name__,Et=class{constructor(t){this.tag="";this.debug=(...t)=>this.internalLog(3,...t);this.log=(...t)=>this.internalLog(2,...t);this.warn=(...t)=>this.internalLog(1,...t);this.error=(...t)=>this.internalLog(0,...t);this.tag=ua+"."+(typeof t=="string"?t:t.constructor.name),this.listenForBgLogs()}listenForBgLogs(){chrome?.runtime.onMessage.addListener((t,i)=>{i.id!==chrome.runtime.id||t.action!="log"||this.internalLogTagOverride(t.data.level,t.data.tag,...t.data.messages)})}internalLog(t,...i){this.internalLogTagOverride(t,this.tag,...i)}internalLogTagOverride(t,i,...n){let r=new Date(Date.now()),o=["%c%s %s","color: blue",`[${r.getHours()}:${r.getMinutes()}:${r.getSeconds()}]`,i,...n];if(IS_DEV_BUILD)switch(t){case 3:console.debug(...o);break;case 1:console.warn(...o);break;case 2:console.log(...o);break;case 0:console.error(...o);break}else{switch(t){case 0:ue.fireErrorEvent(n[0],{...n});break}return}}};var Vr=document.createElement("div");Vr.innerHTML='<div class=wb-header><div class=wb-control><span title="Minimize" class=wb-min></span><span title="Maximize" class=wb-max></span><span title="Fullscreen" class=wb-full></span><span title="Close" class=wb-close></span></div><div class=wb-drag><div class=wb-icon></div><div class=wb-title></div></div></div><div class=wb-body></div><div class=wb-footer><feedback-form size="inline"></feedback-form></div><div class=wb-n></div><div class=wb-s></div><div class=wb-w></div><div class=wb-e></div><div class=wb-nw></div><div class=wb-ne></div><div class=wb-se></div><div class=wb-sw></div>';function Gr(e){return(e||Vr).cloneNode(!0)}var Yr=`
  .winbox {
    position: fixed;
    left: 0;
    top: 0;
    background: #0050ff;
    box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
    /* using transform make contents blur when applied and requires more gpu memory */
    transition: width 0.3s, height 0.3s, left 0.3s, top 0.3s;
    transition-timing-function: cubic-bezier(0.3, 1, 0.3, 1);
    /* contain "strict" does not make overflow contents selectable */
    contain: layout size;
    /* explicitly set text align to left fixes an issue with iframes alignment when centered */
    text-align: left;
    /* workaround for using passive listeners */
    touch-action: none;
  }
  .wb-header {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 35px;
    line-height: 35px;
    color: #fff;
    overflow: hidden;
    z-index: 1;
  }
  .wb-body {
    position: absolute;
    top: 35px;
    left: 0;
    right: 0;
    bottom: 0;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
    overflow-scrolling: touch;
    will-change: contents;
    background: #fff;
    /* when no border is set there is some thin line visible */
    /* always hide top border visually */
    margin-top: 0 !important;
    contain: strict;
    z-index: 0;
  }
  .wb-footer {
    position: absolute;
    bottom: 0;
    width: 100%;
    display: none;
  }
  .winbox.show-footer .wb-body {
    bottom: 35px; /* height of footer */
  }
  .winbox.show-footer .wb-footer {
    display: block;
  }
  body > .wb-body {
    position: relative;
    display: inline-block;
    visibility: hidden;
    contain: none;
  }
  .wb-drag {
    height: 100%;
    padding-left: 10px;
    cursor: move;
  }
  .wb-title {
    font-family: Arial, sans-serif;
    font-size: 14px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .wb-icon {
    display: none;
    width: 20px;
    height: 100%;
    margin: -1px 8px 0 -3px;
    float: left;
    background-repeat: no-repeat;
    background-size: 100%;
    background-position: center;
  }
  .wb-n {
    position: absolute;
    top: -5px;
    left: 0;
    right: 0;
    height: 10px;
    cursor: n-resize;
    z-index: 2;
  }
  .wb-e {
    position: absolute;
    top: 0;
    right: -5px;
    bottom: 0;
    width: 10px;
    cursor: w-resize;
    z-index: 2;
  }
  .wb-s {
    position: absolute;
    bottom: -5px;
    left: 0;
    right: 0;
    height: 10px;
    cursor: n-resize;
    z-index: 2;
  }
  .wb-w {
    position: absolute;
    top: 0;
    left: -5px;
    bottom: 0;
    width: 10px;
    cursor: w-resize;
    z-index: 2;
  }
  .wb-nw {
    position: absolute;
    top: -5px;
    left: -5px;
    width: 15px;
    height: 15px;
    cursor: nw-resize;
    z-index: 2;
  }
  .wb-ne {
    position: absolute;
    top: -5px;
    right: -5px;
    width: 15px;
    height: 15px;
    cursor: ne-resize;
    z-index: 2;
  }
  .wb-sw {
    position: absolute;
    bottom: -5px;
    left: -5px;
    width: 15px;
    height: 15px;
    cursor: ne-resize;
    z-index: 2;
  }
  .wb-se {
    position: absolute;
    bottom: -5px;
    right: -5px;
    width: 15px;
    height: 15px;
    cursor: nw-resize;
    z-index: 2;
  }
  .wb-control {
    float: right;
    height: 100%;
    max-width: 100%;
    text-align: center;
  }
  .wb-control * {
    display: inline-block;
    width: 30px;
    height: 100%;
    max-width: 100%;
    background-position: center;
    background-repeat: no-repeat;
    cursor: pointer;
  }
  .wb-min {
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAyIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNOCAwaDdhMSAxIDAgMCAxIDAgMkgxYTEgMSAwIDAgMSAwLTJoN3oiLz48L3N2Zz4=);
    background-size: 14px auto;
    background-position: center calc(50% + 6px);
  }
  .wb-max {
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IiNmZmYiIHZpZXdCb3g9IjAgMCA5NiA5NiI+PHBhdGggZD0iTTIwIDcxLjMxMUMxNS4zNCA2OS42NyAxMiA2NS4yMyAxMiA2MFYyMGMwLTYuNjMgNS4zNy0xMiAxMi0xMmg0MGM1LjIzIDAgOS42NyAzLjM0IDExLjMxMSA4SDI0Yy0yLjIxIDAtNCAxLjc5LTQgNHY1MS4zMTF6Ii8+PHBhdGggZD0iTTkyIDc2VjM2YzAtNi42My01LjM3LTEyLTEyLTEySDQwYy02LjYzIDAtMTIgNS4zNy0xMiAxMnY0MGMwIDYuNjMgNS4zNyAxMiAxMiAxMmg0MGM2LjYzIDAgMTItNS4zNyAxMi0xMnptLTUyIDRjLTIuMjEgMC00LTEuNzktNC00VjM2YzAtMi4yMSAxLjc5LTQgNC00aDQwYzIuMjEgMCA0IDEuNzkgNCA0djQwYzAgMi4yMS0xLjc5IDQtNCA0SDQweiIvPjwvc3ZnPg==);
    background-size: 17px auto;
  }
  .wb-close {
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xIC0xIDE4IDE4Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMS42MTMuMjEuMDk0LjA4M0w4IDYuNTg1IDE0LjI5My4yOTNsLjA5NC0uMDgzYTEgMSAwIDAgMSAxLjQwMyAxLjQwM2wtLjA4My4wOTRMOS40MTUgOGw2LjI5MiA2LjI5M2ExIDEgMCAwIDEtMS4zMiAxLjQ5N2wtLjA5NC0uMDgzTDggOS40MTVsLTYuMjkzIDYuMjkyLS4wOTQuMDgzQTEgMSAwIDAgMSAuMjEgMTQuMzg3bC4wODMtLjA5NEw2LjU4NSA4IC4yOTMgMS43MDdBMSAxIDAgMCAxIDEuNjEzLjIxeiIvPjwvc3ZnPg==);
    background-size: 15px auto;
    background-position: 5px center;
  }
  .wb-full {
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjIuNSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOCAzSDVhMiAyIDAgMCAwLTIgMnYzbTE4IDBWNWEyIDIgMCAwIDAtMi0yaC0zbTAgMThoM2EyIDIgMCAwIDAgMi0ydi0zTTMgMTZ2M2EyIDIgMCAwIDAgMiAyaDMiLz48L3N2Zz4=);
    background-size: 16px auto;
  }
  .wb-nav-away {
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgLTk2MCA5NjAgOTYwIiB3aWR0aD0iMjQiPjxwYXRoIGQ9Ik0yMTIuMzA5LTE0MC4wMDFxLTMwLjMwOCAwLTUxLjMwOC0yMXQtMjEtNTEuMzA4di01MzUuMzgycTAtMzAuMzA4IDIxLTUxLjMwOHQ1MS4zMDgtMjFoMjUyLjMwNVYtNzYwSDIxMi4zMDlxLTQuNjE2IDAtOC40NjMgMy44NDYtMy44NDYgMy44NDctMy44NDYgOC40NjN2NTM1LjM4MnEwIDQuNjE2IDMuODQ2IDguNDYzIDMuODQ3IDMuODQ2IDguNDYzIDMuODQ2aDUzNS4zODJxNC42MTYgMCA4LjQ2My0zLjg0NiAzLjg0Ni0zLjg0NyAzLjg0Ni04LjQ2M3YtMjUyLjMwNWg1OS45OTl2MjUyLjMwNXEwIDMwLjMwOC0yMSA1MS4zMDh0LTUxLjMwOCAyMUgyMTIuMzA5Wm0xNzYuNDYtMjA2LjYxNS00Mi4xNTMtNDIuMTUzTDcxNy44NDctNzYwSDU2MHYtNTkuOTk5aDI1OS45OTlWLTU2MEg3NjB2LTE1Ny44NDdMMzg4Ljc2OS0zNDYuNjE2WiIvPjwvc3ZnPg==);
    
    background-size: 20px auto;
    filter: invert(1);
  }
  .wb-settings {
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgLTk2MCA5NjAgOTYwIiB3aWR0aD0iMjQiPjxwYXRoIGQ9Ik00NTAuMDAxLTEzMC4wMDF2LTIxOS45OThoNTkuOTk4djgwaDMyMHY1OS45OThoLTMyMHY4MGgtNTkuOTk4Wm0tMzIwLTgwdi01OS45OThoMjE5Ljk5OHY1OS45OThIMTMwLjAwMVptMTYwLTE2MHYtODBoLTE2MHYtNTkuOTk4aDE2MHYtODBoNTkuOTk4djIxOS45OThoLTU5Ljk5OFptMTYwLTgwdi01OS45OThoMzc5Ljk5OHY1OS45OThINDUwLjAwMVptMTYwLTE2MHYtMjE5Ljk5OGg1OS45OTh2ODBoMTYwdjU5Ljk5OGgtMTYwdjgwaC01OS45OThabS00ODAtODB2LTU5Ljk5OGgzNzkuOTk4djU5Ljk5OEgxMzAuMDAxWiIvPjwvc3ZnPg==);
  
    background-size: 20px auto;
    filter: invert(1);
  }
  /*
  .winbox:not(.max) .wb-max {
    background-image: url(@restore);
    background-size: 20px auto;
    background-position: center bottom 5px;
  }
  */
  /*
  .winbox:fullscreen{
    transition: none !important;
  }
  .winbox:fullscreen .wb-full{
    background-image: url(@minimize);
  }
  .winbox:fullscreen > div,
  .winbox:fullscreen .wb-title,
  */
  .winbox.modal .wb-body ~ div,
  .winbox.modal .wb-drag,
  .winbox.min .wb-body ~ div,
  .winbox.max .wb-body ~ div {
    pointer-events: none;
  }
  .winbox.max .wb-drag {
    cursor: default;
  }
  .winbox.min .wb-full,
  .winbox.min .wb-min {
    display: none;
  }
  .winbox.min .wb-drag {
    cursor: default;
  }
  .winbox.min .wb-body > * {
    display: none;
  }
  .winbox.hide {
    display: none;
  }
  .winbox.max {
    box-shadow: none;
  }
  .winbox.max .wb-body {
    margin: 0 !important;
  }
  .winbox iframe {
    position: absolute;
    width: 100%;
    height: 100%;
    border: 0;
  }
  body.wb-lock .winbox {
    will-change: left, top, width, height;
    transition: none;
  }
  body.wb-lock iframe {
    pointer-events: none;
  }
  .winbox.modal:before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: inherit;
    border-radius: inherit;
  }
  .winbox.modal:after {
    content: '';
    position: absolute;
    top: -50vh;
    left: -50vw;
    right: -50vw;
    bottom: -50vh;
    background: #0d1117;
    animation: wb-fade-in 0.2s ease-out forwards;
    z-index: -1;
  }
  .winbox.modal .wb-min,
  .winbox.modal .wb-max,
  .winbox.modal .wb-full {
    display: none;
  }
  @keyframes wb-fade-in {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 0.85;
    }
  }
  .no-animation {
    transition: none;
  }
  .no-shadow {
    box-shadow: none;
  }
  .no-header .wb-header {
    display: none;
  }
  .no-header .wb-body {
    top: 0;
  }
  .no-min .wb-min {
    display: none;
  }
  .no-max .wb-max {
    display: none;
  }
  .no-full .wb-full {
    display: none;
  }
  .no-close .wb-close {
    display: none;
  }
  .no-resize .wb-body ~ div {
    display: none;
  }
  .no-move:not(.min) .wb-title {
    pointer-events: none;
  }
  .wb-body .wb-hide {
    display: none;
  }
  .wb-show {
    display: none;
  }
  .wb-body .wb-show {
    display: revert;
  }
`;function Ot(e,t,i,n){e&&e.addEventListener(t,i,n||!1)}function vi(e,t,i,n){e&&e.removeEventListener(t,i,n||!1)}function Ye(e,t){e.stopPropagation(),e.cancelable&&e.preventDefault()}function Pt(e,t){return e.getElementsByClassName(t)[0]}function In(e,t){e.classList.add(t)}function Kr(e,t){return e.classList.contains(t)}function kn(e,t){e.classList.remove(t)}function xt(e,t,i){i=""+i,e["_s_"+t]!==i&&(e.style.setProperty(t,i),e["_s_"+t]=i)}function qr(e,t){let i=e.firstChild;i?i.nodeValue=t:e.textContent=t}var Xi=!1,qe=[],bi={capture:!0,passive:!0},Ut,da=0,wi=10,Ke,de,Jt,Qr,te,ee,ie=class{constructor(t,i){if(!(this instanceof ie))return new ie(t);Ut||fa();let n,r,o,s,a,c,h,d,m,_,b,x,A,y,C,S,N,w,O,D,I,R,$,k,j,V,Y,et,H,G,Q,rt,it,U,W,gt,St,bt,lt,ht,Dt,dt,It,Ct,q,X,ft;if(t&&(i&&(a=t,t=i),typeof t=="string"?a=t:(n=t.id,r=t.index,o=t.root,s=t.template,a=a||t.title,c=t.icon,h=t.mount,d=t.html,m=t.url,_=t.shadowel,x=t.framename,A=t.cssurl,y=t.width,C=t.height,S=t.minwidth,N=t.minheight,w=t.maxwidth,O=t.maxheight,D=t.autosize,Y=t.min,et=t.max,H=t.hidden,G=t.modal,I=t.x||(G?"center":0),R=t.y||(G?"center":0),$=t.top,k=t.left,j=t.bottom,V=t.right,Q=t.background,rt=t.border,it=t.header,U=t.class,gt=t.onclose,St=t.onfocus,bt=t.onblur,lt=t.onmove,ht=t.onresize,Dt=t.onfullscreen,dt=t.onmaximize,It=t.onminimize,Ct=t.onrestore,q=t.onhide,X=t.onshow,ft=t.onload)),this.dom=Gr(s),this.dom.id=this.id=n||"winbox-"+ ++da,this.dom.className="winbox"+(U?" "+(typeof U=="string"?U:U.join(" ")):"")+(G?" modal":""),this.dom.winbox=this,this.window=this.dom,this.body=Pt(this.dom,"wb-body"),this.header=it||35,(r||r===0)&&(wi=r),Q&&this.setBackground(Q),rt?xt(this.body,"margin",rt+(isNaN(rt)?"":"px")):rt=0,it){let Z=Pt(this.dom,"wb-header");xt(Z,"height",it+"px"),xt(Z,"line-height",it+"px"),xt(this.body,"top",it+"px")}a&&this.setTitle(a),c&&this.setIcon(c),h?this.mount(h):d?this.body.innerHTML=d:m&&this.setUrl(m,ft),$=$?yt($,ee):0,j=j?yt(j,ee):0,k=k?yt(k,te):0,V=V?yt(V,te):0;let At=te-k-V,wt=ee-$-j;if(w=w?yt(w,At):At,O=O?yt(O,wt):wt,S=S?yt(S,w):150,N=N?yt(N,O):this.header,D?((o||Ut).appendChild(this.body),y=Math.max(Math.min(this.body.clientWidth+rt*2+1,w),S),C=Math.max(Math.min(this.body.clientHeight+this.header+rt+1,O),N),this.dom.appendChild(this.body)):(y=y?yt(y,w):Math.max(w/2,S)|0,C=C?yt(C,O):Math.max(O/2,N)|0),I=I?yt(I,At,y):k,R=R?yt(R,wt,C):$,this.x=I,this.y=R,this.width=y,this.height=C,this.minwidth=S,this.minheight=N,this.maxwidth=w,this.maxheight=O,this.top=$,this.right=V,this.bottom=j,this.left=k,this.index=r,this.min=!1,this.max=!1,this.full=!1,this.hidden=!1,this.focused=!1,this.onclose=gt,this.onfocus=St,this.onblur=bt,this.onmove=lt,this.onresize=ht,this.onfullscreen=Dt,this.onmaximize=dt,this.onminimize=It,this.onrestore=Ct,this.onhide=q,this.onshow=X,et?this.maximize():Y?this.minimize():this.resize().move(),H?this.hide():(this.focus(),(r||r===0)&&(this.index=r,r>wi&&(wi=r))),xt(this.shadowdom?this.shadowdom:this.dom,"z-index",r),pa(this),_){let Z=document.createElement(_);Z.style.position="absolute";let kt=document.createElement("style");if(kt.textContent=Yr,Z.appendChild(kt),A){let Yt=document.createElement("link");Yt.rel="stylesheet",Yt.type="text/css",Yt.href=A,Yt.itemprop="url",Z.appendChild(Yt)}Z.appendChild(this.dom),Z.attachShadow({mode:"open"}).innerHTML="<slot></slot>",this.shadowdom=Z,(o||Ut).appendChild(Z)}else(o||Ut).appendChild(this.dom);(W=t.oncreate)&&W.call(this,t)}static new(t){return new ie(t)}mount(t){return this.unmount(),t._backstore||(t._backstore=t.parentNode),this.body.textContent="",this.body.appendChild(t),this}unmount(t){let i=this.body.firstChild;if(i){let n=t||i._backstore;n&&n.appendChild(i),i._backstore=t}return this}setTitle(t){let i=Pt(this.dom,"wb-title");return qr(i,this.title=t),this}setIcon(t){let i=Pt(this.dom,"wb-icon");return xt(i,"background-image","url("+t+")"),xt(i,"display","inline-block"),this}setBackground(t){return xt(this.dom,"background",t),this}setUrl(t,i){let n=this.body.firstChild;if(n&&n.tagName.toLowerCase()==="iframe")n.src=t;else{let r=this.framename??"";this.body.innerHTML=`<iframe name="${r}" src="${t}"></iframe>`,i&&(this.body.firstChild.onload=i)}return this}focus(t){return t===!1?this.blur():(de!==this&&this.dom&&(de&&de.blur(),xt(this.shadowdom?this.shadowdom:this.dom,"z-index",++wi),this.index=wi,this.addClass("focus"),de=this,this.focused=!0,this.onfocus&&this.onfocus()),this)}blur(t){return t===!1?this.focus():(de===this&&(this.removeClass("focus"),this.focused=!1,this.onblur&&this.onblur(),de=null),this)}hide(t){if(t===!1)return this.show();if(!this.hidden)return this.onhide&&this.onhide(),this.hidden=!0,this.addClass("hide")}show(t){if(t===!1)return this.hide();if(this.hidden)return this.onshow&&this.onshow(),this.hidden=!1,this.removeClass("hide")}minimize(t){return t===!1?this.restore():(Ke&&Zi(),this.max&&(this.removeClass("max"),this.max=!1),this.min||(qe.push(this),Pn(),this.dom.title=this.title,this.addClass("min"),this.min=!0,this.onminimize&&this.onminimize()),this)}restore(){return Ke&&Zi(),this.min&&(Qi(this),this.resize().move(),this.onrestore&&this.onrestore()),this.max&&(this.max=!1,this.removeClass("max").resize().move(),this.onrestore&&this.onrestore()),this}maximize(t){return t===!1?this.restore():(Ke&&Zi(),this.min&&Qi(this),this.max||(this.addClass("max").resize(te-this.left-this.right,ee-this.top-this.bottom,!0).move(this.left,this.top,!0),this.max=!0,this.onmaximize&&this.onmaximize()),this)}fullscreen(t){if(this.min&&(Qi(this),this.resize().move()),!Ke||!Zi())this.body[Jt](),Ke=this,this.full=!0,this.onfullscreen&&this.onfullscreen();else if(t===!1)return this.restore();return this}close(t){if(this.onclose&&this.onclose(t))return!0;this.min&&Qi(this),this.unmount(),this.dom.remove(),this.dom.textContent="",this.dom.winbox=null,this.body=null,this.dom=null,de===this&&(de=null)}move(t,i,n){return!t&&t!==0?(t=this.x,i=this.y):n||(this.x=t?t=yt(t,te-this.left-this.right,this.width):0,this.y=i?i=yt(i,ee-this.top-this.bottom,this.height):0),xt(this.dom,"left",t+"px"),xt(this.dom,"top",i+"px"),this.onmove&&this.onmove(t,i),this}resize(t,i,n){return!t&&t!==0?(t=this.width,i=this.height):n||(this.width=t?t=yt(t,this.maxwidth):0,this.height=i?i=yt(i,this.maxheight):0,t=Math.max(t,this.minwidth),i=Math.max(i,this.minheight)),xt(this.dom,"width",t+"px"),xt(this.dom,"height",i+"px"),this.onresize&&this.onresize(t,i),this}addControl(t){let i=t.class,n=t.image,r=t.click,o=t.index,s=t.title,a=document.createElement("span"),c=Pt(this.dom,"wb-control"),h=this;return i&&(a.className=i),n&&xt(a,"background-image","url("+n+")"),r&&(a.onclick=function(d){r.call(this,d,h)}),s&&(a.title=s),c.insertBefore(a,c.childNodes[o||0]),this}removeControl(t){return t=Pt(this.dom,t),t&&t.remove(),this}addClass(t){return In(this.dom,t),this}removeClass(t){return kn(this.dom,t),this}hasClass(t){return Kr(this.dom,t)}toggleClass(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}};function yt(e,t,i){if(typeof e=="string")if(e==="center")e=(t-i)/2|0;else if(e==="right"||e==="bottom")e=t-i;else{let n=parseFloat(e);(""+n!==e&&e.substring((""+n).length))==="%"?e=t/100*n|0:e=n}return e}function fa(){Ut=document.body,Ut[Jt="requestFullscreen"]||Ut[Jt="msRequestFullscreen"]||Ut[Jt="webkitRequestFullscreen"]||Ut[Jt="mozRequestFullscreen"]||(Jt=""),Qr=Jt&&Jt.replace("request","exit").replace("mozRequest","mozCancel").replace("Request","Exit"),Ot(window,"resize",function(){Xr(),Pn()}),Xr()}function pa(e){Zt(e,"drag"),Zt(e,"n"),Zt(e,"s"),Zt(e,"w"),Zt(e,"e"),Zt(e,"nw"),Zt(e,"ne"),Zt(e,"se"),Zt(e,"sw"),Ot(Pt(e.dom,"wb-min"),"click",function(t){Ye(t),e.min?e.focus().restore():e.blur().minimize()}),Ot(Pt(e.dom,"wb-max"),"click",function(t){e.max?e.restore():e.maximize()}),Jt?Ot(Pt(e.dom,"wb-full"),"click",function(t){e.fullscreen()}):e.addClass("no-full"),Ot(Pt(e.dom,"wb-close"),"click",function(t){Ye(t),e.close()||(e=null)}),Ot(e.dom,"click",function(t){e.focus()})}function Qi(e){qe.splice(qe.indexOf(e),1),Pn(),e.removeClass("min"),e.min=!1,e.dom.title=""}function Pn(){let e=qe.length,t={},i={};for(let n=0,r,o;n<e;n++)r=qe[n],o=(r.left||r.right)+":"+(r.top||r.bottom),i[o]?i[o]++:(t[o]=0,i[o]=1);for(let n=0,r,o,s;n<e;n++)r=qe[n],o=(r.left||r.right)+":"+(r.top||r.bottom),s=Math.min((te-r.left-r.right)/i[o],250),r.resize(s+1|0,r.header,!0).move(r.left+t[o]*s|0,ee-r.bottom-r.header,!0),t[o]++}function Zt(e,t){let i=Pt(e.dom,"wb-"+t);if(!i)return;let n,r,o,s,a,c,h=0;Ot(i,"mousedown",m),Ot(i,"touchstart",m,bi);function d(){s=requestAnimationFrame(d),c&&(e.resize(),c=!1),a&&(e.move(),a=!1)}function m(x){if(Ye(x),e.focus(),t==="drag"){if(e.min){e.restore();return}let A=Date.now(),y=A-h;if(h=A,y<300&&!e.dom.classList.contains("no-max")){e.max?e.restore():e.maximize();return}}!e.max&&!e.min&&(In(Ut,"wb-lock"),Xi&&d(),(n=x.touches)&&(n=n[0])?(x=n,Ot(window,"touchmove",_,bi),Ot(window,"touchend",b,bi)):(Ot(window,"mousemove",_),Ot(window,"mouseup",b)),r=x.pageX,o=x.pageY)}function _(x){Ye(x),n&&(x=x.touches[0]);let A=x.pageX,y=x.pageY,C=A-r,S=y-o,N=e.width,w=e.height,O=e.x,D=e.y,I,R,$,k;t==="drag"?(e.x+=C,e.y+=S,$=k=1):(t==="e"||t==="se"||t==="ne"?(e.width+=C,I=1):(t==="w"||t==="sw"||t==="nw")&&(e.x+=C,e.width-=C,I=1,$=1),t==="s"||t==="se"||t==="sw"?(e.height+=S,R=1):(t==="n"||t==="ne"||t==="nw")&&(e.y+=S,e.height-=S,R=1,k=1)),I&&(e.width=Math.max(Math.min(e.width,e.maxwidth,te-e.x-e.right),e.minwidth),I=e.width!==N),R&&(e.height=Math.max(Math.min(e.height,e.maxheight,ee-e.y-e.bottom),e.minheight),R=e.height!==w),(I||R)&&(Xi?c=!0:e.resize()),$&&(e.x=Math.max(Math.min(e.x,te-e.width-e.right),e.left),$=e.x!==O),k&&(e.y=Math.max(Math.min(e.y,ee-e.height-e.bottom),e.top),k=e.y!==D),($||k)&&(Xi?a=!0:e.move()),(I||$)&&(r=A),(R||k)&&(o=y)}function b(x){Ye(x),kn(Ut,"wb-lock"),Xi&&cancelAnimationFrame(s),n?(vi(window,"touchmove",_,bi),vi(window,"touchend",b,bi)):(vi(window,"mousemove",_),vi(window,"mouseup",b))}}function Xr(){let e=document.documentElement;te=e.clientWidth,ee=e.clientHeight}function ma(){return document.fullscreen||document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement}function Zi(){if(Ke.full=!1,ma())return document[Qr](),!0}var lo=Wr(Zr(),1),co=Wr(ro(),1);(function(){"use strict";var e=window.Document.prototype.createElement,t=window.Document.prototype.createElementNS,i=window.Document.prototype.importNode,n=window.Document.prototype.prepend,r=window.Document.prototype.append,o=window.DocumentFragment.prototype.prepend,s=window.DocumentFragment.prototype.append,a=window.Node.prototype.cloneNode,c=window.Node.prototype.appendChild,h=window.Node.prototype.insertBefore,d=window.Node.prototype.removeChild,m=window.Node.prototype.replaceChild,_=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),b=window.Element.prototype.attachShadow,x=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),A=window.Element.prototype.getAttribute,y=window.Element.prototype.setAttribute,C=window.Element.prototype.removeAttribute,S=window.Element.prototype.toggleAttribute,N=window.Element.prototype.getAttributeNS,w=window.Element.prototype.setAttributeNS,O=window.Element.prototype.removeAttributeNS,D=window.Element.prototype.insertAdjacentElement,I=window.Element.prototype.insertAdjacentHTML,R=window.Element.prototype.prepend,$=window.Element.prototype.append,k=window.Element.prototype.before,j=window.Element.prototype.after,V=window.Element.prototype.replaceWith,Y=window.Element.prototype.remove,et=window.HTMLElement,H=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),G=window.HTMLElement.prototype.insertAdjacentElement,Q=window.HTMLElement.prototype.insertAdjacentHTML,rt=new Set;"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach(function(l){return rt.add(l)});function it(l){var u=rt.has(l);return l=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/.test(l),!u&&l}var U=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function W(l){var u=l.isConnected;if(u!==void 0)return u;if(U(l))return!0;for(;l&&!(l.__CE_isImportDocument||l instanceof Document);)l=l.parentNode||(window.ShadowRoot&&l instanceof ShadowRoot?l.host:void 0);return!(!l||!(l.__CE_isImportDocument||l instanceof Document))}function gt(l){var u=l.children;if(u)return Array.prototype.slice.call(u);for(u=[],l=l.firstChild;l;l=l.nextSibling)l.nodeType===Node.ELEMENT_NODE&&u.push(l);return u}function St(l,u){for(;u&&u!==l&&!u.nextSibling;)u=u.parentNode;return u&&u!==l?u.nextSibling:null}function bt(l,u,p){for(var v=l;v;){if(v.nodeType===Node.ELEMENT_NODE){var f=v;u(f);var g=f.localName;if(g==="link"&&f.getAttribute("rel")==="import"){if(v=f.import,p===void 0&&(p=new Set),v instanceof Node&&!p.has(v))for(p.add(v),v=v.firstChild;v;v=v.nextSibling)bt(v,u,p);v=St(l,f);continue}else if(g==="template"){v=St(l,f);continue}if(f=f.__CE_shadowRoot)for(f=f.firstChild;f;f=f.nextSibling)bt(f,u,p)}v=v.firstChild?v.firstChild:St(l,v)}}function lt(){var l=!(Kt==null||!Kt.noDocumentConstructionObserver),u=!(Kt==null||!Kt.shadyDomFastWalk);this.m=[],this.g=[],this.j=!1,this.shadyDomFastWalk=u,this.I=!l}function ht(l,u,p,v){var f=window.ShadyDOM;if(l.shadyDomFastWalk&&f&&f.inUse){if(u.nodeType===Node.ELEMENT_NODE&&p(u),u.querySelectorAll)for(l=f.nativeMethods.querySelectorAll.call(u,"*"),u=0;u<l.length;u++)p(l[u])}else bt(u,p,v)}function Dt(l,u){l.j=!0,l.m.push(u)}function dt(l,u){l.j=!0,l.g.push(u)}function It(l,u){l.j&&ht(l,u,function(p){return Ct(l,p)})}function Ct(l,u){if(l.j&&!u.__CE_patched){u.__CE_patched=!0;for(var p=0;p<l.m.length;p++)l.m[p](u);for(p=0;p<l.g.length;p++)l.g[p](u)}}function q(l,u){var p=[];for(ht(l,u,function(f){return p.push(f)}),u=0;u<p.length;u++){var v=p[u];v.__CE_state===1?l.connectedCallback(v):At(l,v)}}function X(l,u){var p=[];for(ht(l,u,function(f){return p.push(f)}),u=0;u<p.length;u++){var v=p[u];v.__CE_state===1&&l.disconnectedCallback(v)}}function ft(l,u,p){p=p===void 0?{}:p;var v=p.J,f=p.upgrade||function(T){return At(l,T)},g=[];for(ht(l,u,function(T){if(l.j&&Ct(l,T),T.localName==="link"&&T.getAttribute("rel")==="import"){var L=T.import;L instanceof Node&&(L.__CE_isImportDocument=!0,L.__CE_registry=document.__CE_registry),L&&L.readyState==="complete"?L.__CE_documentLoadHandled=!0:T.addEventListener("load",function(){var M=T.import;if(!M.__CE_documentLoadHandled){M.__CE_documentLoadHandled=!0;var z=new Set;v&&(v.forEach(function(J){return z.add(J)}),z.delete(M)),ft(l,M,{J:z,upgrade:f})}})}else g.push(T)},v),u=0;u<g.length;u++)f(g[u])}function At(l,u){try{var p=u.ownerDocument,v=p.__CE_registry,f=v&&(p.defaultView||p.__CE_isImportDocument)?he(v,u.localName):void 0;if(f&&u.__CE_state===void 0){f.constructionStack.push(u);try{try{if(new f.constructorFunction!==u)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{f.constructionStack.pop()}}catch(M){throw u.__CE_state=2,M}if(u.__CE_state=1,u.__CE_definition=f,f.attributeChangedCallback&&u.hasAttributes()){var g=f.observedAttributes;for(f=0;f<g.length;f++){var T=g[f],L=u.getAttribute(T);L!==null&&l.attributeChangedCallback(u,T,null,L,null)}}W(u)&&l.connectedCallback(u)}}catch(M){Z(M)}}lt.prototype.connectedCallback=function(l){var u=l.__CE_definition;if(u.connectedCallback)try{u.connectedCallback.call(l)}catch(p){Z(p)}},lt.prototype.disconnectedCallback=function(l){var u=l.__CE_definition;if(u.disconnectedCallback)try{u.disconnectedCallback.call(l)}catch(p){Z(p)}},lt.prototype.attributeChangedCallback=function(l,u,p,v,f){var g=l.__CE_definition;if(g.attributeChangedCallback&&-1<g.observedAttributes.indexOf(u))try{g.attributeChangedCallback.call(l,u,p,v,f)}catch(T){Z(T)}};function wt(l,u,p,v){var f=u.__CE_registry;if(f&&(v===null||v==="http://www.w3.org/1999/xhtml")&&(f=he(f,p)))try{var g=new f.constructorFunction;if(g.__CE_state===void 0||g.__CE_definition===void 0)throw Error("Failed to construct '"+p+"': The returned value was not constructed with the HTMLElement constructor.");if(g.namespaceURI!=="http://www.w3.org/1999/xhtml")throw Error("Failed to construct '"+p+"': The constructed element's namespace must be the HTML namespace.");if(g.hasAttributes())throw Error("Failed to construct '"+p+"': The constructed element must not have any attributes.");if(g.firstChild!==null)throw Error("Failed to construct '"+p+"': The constructed element must not have any children.");if(g.parentNode!==null)throw Error("Failed to construct '"+p+"': The constructed element must not have a parent node.");if(g.ownerDocument!==u)throw Error("Failed to construct '"+p+"': The constructed element's owner document is incorrect.");if(g.localName!==p)throw Error("Failed to construct '"+p+"': The constructed element's local name is incorrect.");return g}catch(T){return Z(T),u=v===null?e.call(u,p):t.call(u,v,p),Object.setPrototypeOf(u,HTMLUnknownElement.prototype),u.__CE_state=2,u.__CE_definition=void 0,Ct(l,u),u}return u=v===null?e.call(u,p):t.call(u,v,p),Ct(l,u),u}function Z(l){var u="",p="",v=0,f=0;l instanceof Error?(u=l.message,p=l.sourceURL||l.fileName||"",v=l.line||l.lineNumber||0,f=l.column||l.columnNumber||0):u="Uncaught "+String(l);var g=void 0;ErrorEvent.prototype.initErrorEvent===void 0?g=new ErrorEvent("error",{cancelable:!0,message:u,filename:p,lineno:v,colno:f,error:l}):(g=document.createEvent("ErrorEvent"),g.initErrorEvent("error",!1,!0,u,p,v),g.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})}),g.error===void 0&&Object.defineProperty(g,"error",{configurable:!0,enumerable:!0,get:function(){return l}}),window.dispatchEvent(g),g.defaultPrevented||console.error(l)}function kt(){var l=this;this.g=void 0,this.F=new Promise(function(u){l.l=u})}kt.prototype.resolve=function(l){if(this.g)throw Error("Already resolved.");this.g=l,this.l(l)};function Yt(l){var u=document;this.l=void 0,this.h=l,this.g=u,ft(this.h,this.g),this.g.readyState==="loading"&&(this.l=new MutationObserver(this.G.bind(this)),this.l.observe(this.g,{childList:!0,subtree:!0}))}function Vi(l){l.l&&l.l.disconnect()}Yt.prototype.G=function(l){var u=this.g.readyState;for(u!=="interactive"&&u!=="complete"||Vi(this),u=0;u<l.length;u++)for(var p=l[u].addedNodes,v=0;v<p.length;v++)ft(this.h,p[v])};function K(l){this.s=new Map,this.u=new Map,this.C=new Map,this.A=!1,this.B=new Map,this.o=function(u){return u()},this.i=!1,this.v=[],this.h=l,this.D=l.I?new Yt(l):void 0}K.prototype.H=function(l,u){var p=this;if(!(u instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");Se(this,l),this.s.set(l,u),this.v.push(l),this.i||(this.i=!0,this.o(function(){return _i(p)}))},K.prototype.define=function(l,u){var p=this;if(!(u instanceof Function))throw new TypeError("Custom element constructors must be functions.");Se(this,l),gi(this,l,u),this.v.push(l),this.i||(this.i=!0,this.o(function(){return _i(p)}))};function Se(l,u){if(!it(u))throw new SyntaxError("The element name '"+u+"' is not valid.");if(he(l,u))throw Error("A custom element with name '"+(u+"' has already been defined."));if(l.A)throw Error("A custom element is already being defined.")}function gi(l,u,p){l.A=!0;var v;try{var f=p.prototype;if(!(f instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var g=function(J){var Ge=f[J];if(Ge!==void 0&&!(Ge instanceof Function))throw Error("The '"+J+"' callback must be a function.");return Ge},T=g("connectedCallback"),L=g("disconnectedCallback"),M=g("adoptedCallback"),z=(v=g("attributeChangedCallback"))&&p.observedAttributes||[]}catch(J){throw J}finally{l.A=!1}return p={localName:u,constructorFunction:p,connectedCallback:T,disconnectedCallback:L,adoptedCallback:M,attributeChangedCallback:v,observedAttributes:z,constructionStack:[]},l.u.set(u,p),l.C.set(p.constructorFunction,p),p}K.prototype.upgrade=function(l){ft(this.h,l)};function _i(l){if(l.i!==!1){l.i=!1;for(var u=[],p=l.v,v=new Map,f=0;f<p.length;f++)v.set(p[f],[]);for(ft(l.h,document,{upgrade:function(M){if(M.__CE_state===void 0){var z=M.localName,J=v.get(z);J?J.push(M):l.u.has(z)&&u.push(M)}}}),f=0;f<u.length;f++)At(l.h,u[f]);for(f=0;f<p.length;f++){for(var g=p[f],T=v.get(g),L=0;L<T.length;L++)At(l.h,T[L]);(g=l.B.get(g))&&g.resolve(void 0)}p.length=0}}K.prototype.get=function(l){if(l=he(this,l))return l.constructorFunction},K.prototype.whenDefined=function(l){if(!it(l))return Promise.reject(new SyntaxError("'"+l+"' is not a valid custom element name."));var u=this.B.get(l);if(u)return u.F;u=new kt,this.B.set(l,u);var p=this.u.has(l)||this.s.has(l);return l=this.v.indexOf(l)===-1,p&&l&&u.resolve(void 0),u.F},K.prototype.polyfillWrapFlushCallback=function(l){this.D&&Vi(this.D);var u=this.o;this.o=function(p){return l(function(){return u(p)})}};function he(l,u){var p=l.u.get(u);if(p)return p;if(p=l.s.get(u)){l.s.delete(u);try{return gi(l,u,p())}catch(v){Z(v)}}}K.prototype.define=K.prototype.define,K.prototype.upgrade=K.prototype.upgrade,K.prototype.get=K.prototype.get,K.prototype.whenDefined=K.prototype.whenDefined,K.prototype.polyfillDefineLazy=K.prototype.H,K.prototype.polyfillWrapFlushCallback=K.prototype.polyfillWrapFlushCallback;function Ve(l,u,p){function v(f){return function(g){for(var T=[],L=0;L<arguments.length;++L)T[L]=arguments[L];L=[];for(var M=[],z=0;z<T.length;z++){var J=T[z];if(J instanceof Element&&W(J)&&M.push(J),J instanceof DocumentFragment)for(J=J.firstChild;J;J=J.nextSibling)L.push(J);else L.push(J)}for(f.apply(this,T),T=0;T<M.length;T++)X(l,M[T]);if(W(this))for(T=0;T<L.length;T++)M=L[T],M instanceof Element&&q(l,M)}}p.prepend!==void 0&&(u.prepend=v(p.prepend)),p.append!==void 0&&(u.append=v(p.append))}function Gi(l){Document.prototype.createElement=function(u){return wt(l,this,u,null)},Document.prototype.importNode=function(u,p){return u=i.call(this,u,!!p),this.__CE_registry?ft(l,u):It(l,u),u},Document.prototype.createElementNS=function(u,p){return wt(l,this,p,u)},Ve(l,Document.prototype,{prepend:n,append:r})}function Yi(l){function u(v){return function(f){for(var g=[],T=0;T<arguments.length;++T)g[T]=arguments[T];T=[];for(var L=[],M=0;M<g.length;M++){var z=g[M];if(z instanceof Element&&W(z)&&L.push(z),z instanceof DocumentFragment)for(z=z.firstChild;z;z=z.nextSibling)T.push(z);else T.push(z)}for(v.apply(this,g),g=0;g<L.length;g++)X(l,L[g]);if(W(this))for(g=0;g<T.length;g++)L=T[g],L instanceof Element&&q(l,L)}}var p=Element.prototype;k!==void 0&&(p.before=u(k)),j!==void 0&&(p.after=u(j)),V!==void 0&&(p.replaceWith=function(v){for(var f=[],g=0;g<arguments.length;++g)f[g]=arguments[g];g=[];for(var T=[],L=0;L<f.length;L++){var M=f[L];if(M instanceof Element&&W(M)&&T.push(M),M instanceof DocumentFragment)for(M=M.firstChild;M;M=M.nextSibling)g.push(M);else g.push(M)}for(L=W(this),V.apply(this,f),f=0;f<T.length;f++)X(l,T[f]);if(L)for(X(l,this),f=0;f<g.length;f++)T=g[f],T instanceof Element&&q(l,T)}),Y!==void 0&&(p.remove=function(){var v=W(this);Y.call(this),v&&X(l,this)})}function Ki(l){function u(f,g){Object.defineProperty(f,"innerHTML",{enumerable:g.enumerable,configurable:!0,get:g.get,set:function(T){var L=this,M=void 0;if(W(this)&&(M=[],ht(l,this,function(Ge){Ge!==L&&M.push(Ge)})),g.set.call(this,T),M)for(var z=0;z<M.length;z++){var J=M[z];J.__CE_state===1&&l.disconnectedCallback(J)}return this.ownerDocument.__CE_registry?ft(l,this):It(l,this),T}})}function p(f,g){f.insertAdjacentElement=function(T,L){var M=W(L);return T=g.call(this,T,L),M&&X(l,L),W(T)&&q(l,L),T}}function v(f,g){function T(L,M){for(var z=[];L!==M;L=L.nextSibling)z.push(L);for(M=0;M<z.length;M++)ft(l,z[M])}f.insertAdjacentHTML=function(L,M){if(L=L.toLowerCase(),L==="beforebegin"){var z=this.previousSibling;g.call(this,L,M),T(z||this.parentNode.firstChild,this)}else if(L==="afterbegin")z=this.firstChild,g.call(this,L,M),T(this.firstChild,z);else if(L==="beforeend")z=this.lastChild,g.call(this,L,M),T(z||this.firstChild,null);else if(L==="afterend")z=this.nextSibling,g.call(this,L,M),T(this.nextSibling,z);else throw new SyntaxError("The value provided ("+String(L)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.")}}b&&(Element.prototype.attachShadow=function(f){if(f=b.call(this,f),l.j&&!f.__CE_patched){f.__CE_patched=!0;for(var g=0;g<l.m.length;g++)l.m[g](f)}return this.__CE_shadowRoot=f}),x&&x.get?u(Element.prototype,x):H&&H.get?u(HTMLElement.prototype,H):dt(l,function(f){u(f,{enumerable:!0,configurable:!0,get:function(){return a.call(this,!0).innerHTML},set:function(g){var T=this.localName==="template",L=T?this.content:this,M=t.call(document,this.namespaceURI,this.localName);for(M.innerHTML=g;0<L.childNodes.length;)d.call(L,L.childNodes[0]);for(g=T?M.content:M;0<g.childNodes.length;)c.call(L,g.childNodes[0])}})}),Element.prototype.setAttribute=function(f,g){if(this.__CE_state!==1)return y.call(this,f,g);var T=A.call(this,f);y.call(this,f,g),g=A.call(this,f),l.attributeChangedCallback(this,f,T,g,null)},Element.prototype.setAttributeNS=function(f,g,T){if(this.__CE_state!==1)return w.call(this,f,g,T);var L=N.call(this,f,g);w.call(this,f,g,T),T=N.call(this,f,g),l.attributeChangedCallback(this,g,L,T,f)},Element.prototype.removeAttribute=function(f){if(this.__CE_state!==1)return C.call(this,f);var g=A.call(this,f);C.call(this,f),g!==null&&l.attributeChangedCallback(this,f,g,null,null)},S&&(Element.prototype.toggleAttribute=function(f,g){if(this.__CE_state!==1)return S.call(this,f,g);var T=A.call(this,f),L=T!==null;return g=S.call(this,f,g),L!==g&&l.attributeChangedCallback(this,f,T,g?"":null,null),g}),Element.prototype.removeAttributeNS=function(f,g){if(this.__CE_state!==1)return O.call(this,f,g);var T=N.call(this,f,g);O.call(this,f,g);var L=N.call(this,f,g);T!==L&&l.attributeChangedCallback(this,g,T,L,f)},G?p(HTMLElement.prototype,G):D&&p(Element.prototype,D),Q?v(HTMLElement.prototype,Q):I&&v(Element.prototype,I),Ve(l,Element.prototype,{prepend:R,append:$}),Yi(l)}var jr={};function Qs(l){function u(){var p=this.constructor,v=document.__CE_registry.C.get(p);if(!v)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var f=v.constructionStack;if(f.length===0)return f=e.call(document,v.localName),Object.setPrototypeOf(f,p.prototype),f.__CE_state=1,f.__CE_definition=v,Ct(l,f),f;var g=f.length-1,T=f[g];if(T===jr)throw Error("Failed to construct '"+v.localName+"': This element was already constructed.");return f[g]=jr,Object.setPrototypeOf(T,p.prototype),Ct(l,T),T}u.prototype=et.prototype,Object.defineProperty(HTMLElement.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:u}),window.HTMLElement=u}function Zs(l){function u(p,v){Object.defineProperty(p,"textContent",{enumerable:v.enumerable,configurable:!0,get:v.get,set:function(f){if(this.nodeType===Node.TEXT_NODE)v.set.call(this,f);else{var g=void 0;if(this.firstChild){var T=this.childNodes,L=T.length;if(0<L&&W(this)){g=Array(L);for(var M=0;M<L;M++)g[M]=T[M]}}if(v.set.call(this,f),g)for(f=0;f<g.length;f++)X(l,g[f])}}})}Node.prototype.insertBefore=function(p,v){if(p instanceof DocumentFragment){var f=gt(p);if(p=h.call(this,p,v),W(this))for(v=0;v<f.length;v++)q(l,f[v]);return p}return f=p instanceof Element&&W(p),v=h.call(this,p,v),f&&X(l,p),W(this)&&q(l,p),v},Node.prototype.appendChild=function(p){if(p instanceof DocumentFragment){var v=gt(p);if(p=c.call(this,p),W(this))for(var f=0;f<v.length;f++)q(l,v[f]);return p}return v=p instanceof Element&&W(p),f=c.call(this,p),v&&X(l,p),W(this)&&q(l,p),f},Node.prototype.cloneNode=function(p){return p=a.call(this,!!p),this.ownerDocument.__CE_registry?ft(l,p):It(l,p),p},Node.prototype.removeChild=function(p){var v=p instanceof Element&&W(p),f=d.call(this,p);return v&&X(l,p),f},Node.prototype.replaceChild=function(p,v){if(p instanceof DocumentFragment){var f=gt(p);if(p=m.call(this,p,v),W(this))for(X(l,v),v=0;v<f.length;v++)q(l,f[v]);return p}f=p instanceof Element&&W(p);var g=m.call(this,p,v),T=W(this);return T&&X(l,v),f&&X(l,p),T&&q(l,p),g},_&&_.get?u(Node.prototype,_):Dt(l,function(p){u(p,{enumerable:!0,configurable:!0,get:function(){for(var v=[],f=this.firstChild;f;f=f.nextSibling)f.nodeType!==Node.COMMENT_NODE&&v.push(f.textContent);return v.join("")},set:function(v){for(;this.firstChild;)d.call(this,this.firstChild);v!=null&&v!==""&&c.call(this,document.createTextNode(v))}})})}var Kt=window.customElements;function zr(){var l=new lt;Qs(l),Gi(l),Ve(l,DocumentFragment.prototype,{prepend:o,append:s}),Zs(l),Ki(l),window.CustomElementRegistry=K,l=new K(l),document.__CE_registry=l,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:l})}Kt&&!Kt.forcePolyfill&&typeof Kt.define=="function"&&typeof Kt.get=="function"||zr(),window.__CE_installPolyfill=zr}).call(self);var oo=`<form data-multi-step class="form inline">
  <div class="row-container">
    <div class="information">
      <div class="logo">
        <img src="" />
        <p></p>
      </div>
      <p data-step="1">How are we doing?</p>
      <p data-step="2">Glad you like it! Can you help us share the \u2764\uFE0F?</p>
      <input name="feedback" data-step="3" placeholder="How can we improve?" />
      <p data-step="4">Thanks for the feedback!</p>
    </div>
    <div class="action">
      <div data-step="1">
        <span class="star" data-star-index="1"></span>
        <span class="star" data-star-index="2"></span>
        <span class="star" data-star-index="3"></span>
        <span class="star" data-star-index="4"></span>
        <span class="star" data-star-index="5"></span>
      </div>
      <div data-step="2">
        <button id="rate-on-store" type="button" data-next-step="4">
          Rate on webstore
        </button>
        <button id="decline-rate-on-rate" type="button" data-next-step="4">
          No thanks
        </button>
      </div>
      <button id="submit-form" type="button" data-step="3" data-next-step="4">
        Submit
      </button>
    </div>
  </div>
</form>
`;var so=`/* Start css reset */
/* 1. Use a more-intuitive box-sizing model. */
*,
*::before,
*::after {
  box-sizing: border-box;
}
/* 2. Remove default margin */
* {
  margin: 0;
}
/* 3. Allow percentage-based heights in the application */
html,
body {
  height: 100%;
}
/* Typographic tweaks! 4. Add accessible line-height 5. Improve text rendering */
body {
  line-height: 20px;
  -webkit-font-smoothing: antialiased;
}
/* 6. Improve media defaults */
img,
picture,
video,
canvas,
svg {
  display: block;
  max-width: 100%;
}
/* 7. Remove built-in form typography styles */
input,
button,
textarea,
select {
  font-size: 12px;
}
/* 8. Avoid text overflows */
p,
h1,
h2,
h3,
h4,
h5,
h6 {
  overflow-wrap: break-word;
}
/* End css reset */

.form {
  width: 100%;
  font-family: Verdana, sans-serif;
}
[data-step],
.form[data-current-step="4"] .action {
  display: none;
}
.form[data-current-step="1"] [data-step="1"],
.form[data-current-step="2"] [data-step="2"],
.form[data-current-step="3"] [data-step="3"],
.form[data-current-step="4"] [data-step="4"] {
  display: block;
}
.row-container {
  align-items: center;
  background: #cce;
  display: grid;
  gap: 8px;
  margin: 0;
  padding: 4px 10px;
}

.information {
  align-items: center;
  display: grid;
  gap: 8px;
  grid-auto-flow: column;
}
.action {
  align-items: center;
  display: flex;
}
.logo {
  align-items: center;
  display: flex;
  gap: 8px;
}
.logo img {
  width: 15px;
}
.logo p {
  display: none;
}
button {
  background-color: transparent;
  border-radius: 5px;
  margin-right: 8px;
}
.star {
  cursor: pointer;
  font-size: 14px;
  font-weight: bold;
}
.star:before {
  content: "\u2606";
}
.full.star:before {
  content: "\u2605";
  color: gold;
}

.inline .row-container,
.inline .row-container.active {
  display: flex;
  min-height: 35px;
}
.inline .row-container .information {
  display: flex;
  flex-grow: 100;
}
.row-container .information input {
  flex: 1;
}
.inline .row-container[data-step="4"] .information {
  flex-grow: 0;
}

.small .row-container .information {
  display: flex;
}

.medium .row-container .information {
  grid-auto-flow: row;
}
.medium .logo p {
  display: block;
}
p {
  font-size: 12px;
}

div[data-step="2"] {
  white-space: nowrap;
}
`;var tn={};Fr(tn,{"@appDesc":()=>Ia,"@appName":()=>Oa,"@appShortName":()=>Ma,"@testMarkup":()=>ka,Automatically_Hide_Previews:()=>Za,Baidu_Search:()=>ja,Bing_Search:()=>Ha,By_default__the_version_of_Google_search_used_is_always_signed_out_for_privacy_and_security_reasons__Though_this_may_result_in_always_seeing_sign_in_prompts_:()=>al,Close_on_Escape_Key:()=>Xa,Disable_Previews_on_this_site:()=>ll,Disabled_on_Websites:()=>hl,Displays_the_view_in_Chrome_Side_Panel_instead_of_a_floating_box_:()=>el,Extension_will_not_run_on_these_sites__you_can_disable_a_site_by_adding_to_this_list_:()=>ul,For_websites_that___really___do_not_want_to_be_previewed__e_g__stackoverflow_com__this_forces_a_preview__Nerd_alert__this_is_a_frame_busting_buster_:()=>ol,Google_Search:()=>$a,Hides_the_preview_panel_when_you_scroll_away_or_interact_with_the_main_page_:()=>Ja,Left_side:()=>qa,Panel_Position:()=>Ga,Preview_Height____:()=>Ua,Preview_Width____:()=>Fa,Preview_in_Side_Panel:()=>tl,Preview_on_Hover_Delay:()=>il,Report_an_Issue:()=>ml,Right_side:()=>Ka,Search__amp__Link_Preview_Options:()=>fl,Search_engine:()=>Pa,Show_Sample_Preview:()=>pl,Successfully_updated_settings:()=>dl,The_detail_information_about_the_checkbox_here_:()=>cl,The_height_of_the_preview_panel_relative_to_the_page_:()=>Va,The_search_engine_that_would_be_used_for_inline_search_previews_:()=>Ra,The_side_of_the_page_in_which_to_display_the_preview_:()=>Ya,The_width_of_the_preview_panel_relative_to_the_page_:()=>Wa,Use_the_ESC__escape__key_to_close_the_preview_panel_:()=>Qa,When_automatic_preview_on_hover_is_enabled__this_is_the_delay_before_the_preview_is_shown_:()=>nl,Yahoo_Search:()=>Ba,Yandex_Search:()=>za,_Advanced__Disable_Incognito_Google:()=>sl,_Advanced__Force_Preview:()=>rl,default:()=>gl});var Oa={message:"Search & Link Preview",description:"The name of the extension"},Ma={message:"Link Previews",description:"The short-version name of the extension name"},Ia={message:"See previews of links and instantly performs searches on the same page using this previewer instead of opening new tabs",description:"A description of its function"},ka={message:"<div><p>Hello world</p>This is the <strong>language</strong> of the web</div>"},Pa={message:"Search engine"},Ra={message:"The search engine that would be used for inline search previews."},$a={message:"Google Search"},Ha={message:"Bing Search"},Ba={message:"Yahoo Search"},ja={message:"Baidu Search"},za={message:"Yandex Search"},Fa={message:"Preview Width (%)"},Wa={message:"The width of the preview panel relative to the page."},Ua={message:"Preview Height (%)"},Va={message:"The height of the preview panel relative to the page."},Ga={message:"Panel Position"},Ya={message:"The side of the page in which to display the preview."},Ka={message:"Right side"},qa={message:"Left side"},Xa={message:"Close on Escape Key"},Qa={message:"Use the ESC (escape) key to close the preview panel."},Za={message:"Automatically Hide Previews"},Ja={message:"Hides the preview panel when you scroll away or interact with the main page."},tl={message:"Preview in Side Panel"},el={message:"Displays the view in Chrome Side Panel instead of a floating box."},il={message:"Preview-on-Hover Delay"},nl={message:"When automatic preview on hover is enabled, this is the delay before the preview is shown."},rl={message:"[Advanced] Force Preview"},ol={message:"For websites that **really** do not want to be previewed (e.g. stackoverflow.com) this forces a preview. Nerd alert: this is a frame-busting buster."},sl={message:"[Advanced] Disable Incognito Google"},al={message:"By default, the version of Google search used is always signed-out for privacy and security reasons. Though this may result in always seeing sign-in prompts."},ll={message:"Disable Previews on this site"},cl={message:"The detail information about the checkbox here."},hl={message:"Disabled on Websites"},ul={message:"Extension will not run on these sites, you can disable a site by adding to this list."},dl={message:"Successfully updated settings"},fl={message:"Search &amp; Link Preview Options"},pl={message:"Show Sample Preview"},ml={message:"Report an Issue"},gl={"@appName":Oa,"@appShortName":Ma,"@appDesc":Ia,"@testMarkup":ka,Search_engine:Pa,The_search_engine_that_would_be_used_for_inline_search_previews_:Ra,Google_Search:$a,Bing_Search:Ha,Yahoo_Search:Ba,Baidu_Search:ja,Yandex_Search:za,Preview_Width____:Fa,The_width_of_the_preview_panel_relative_to_the_page_:Wa,Preview_Height____:Ua,The_height_of_the_preview_panel_relative_to_the_page_:Va,Panel_Position:Ga,The_side_of_the_page_in_which_to_display_the_preview_:Ya,Right_side:Ka,Left_side:qa,Close_on_Escape_Key:Xa,Use_the_ESC__escape__key_to_close_the_preview_panel_:Qa,Automatically_Hide_Previews:Za,Hides_the_preview_panel_when_you_scroll_away_or_interact_with_the_main_page_:Ja,Preview_in_Side_Panel:tl,Displays_the_view_in_Chrome_Side_Panel_instead_of_a_floating_box_:el,Preview_on_Hover_Delay:il,When_automatic_preview_on_hover_is_enabled__this_is_the_delay_before_the_preview_is_shown_:nl,_Advanced__Force_Preview:rl,For_websites_that___really___do_not_want_to_be_previewed__e_g__stackoverflow_com__this_forces_a_preview__Nerd_alert__this_is_a_frame_busting_buster_:ol,_Advanced__Disable_Incognito_Google:sl,By_default__the_version_of_Google_search_used_is_always_signed_out_for_privacy_and_security_reasons__Though_this_may_result_in_always_seeing_sign_in_prompts_:al,Disable_Previews_on_this_site:ll,The_detail_information_about_the_checkbox_here_:cl,Disabled_on_Websites:hl,Extension_will_not_run_on_these_sites__you_can_disable_a_site_by_adding_to_this_list_:ul,Successfully_updated_settings:dl,Search__amp__Link_Preview_Options:fl,Show_Sample_Preview:pl,Report_an_Issue:ml};var Hn=new Et("i18n");function _l(e){let t=/^[a-zA-Z0-9_]+$/;return e.split("").map(i=>t.test(i)?i:"_").join("")}var B=e=>{if(!e)return Hn.error("A valid key is required for i18n, got",e),e;let t=e.startsWith("@")?e:_l(e);if(chrome?.i18n&&chrome.i18n.getMessage(t)!=="")return chrome.i18n.getMessage(t);Hn.warn("chrome.i18n is not available in the current context, falling back to en-US"),Object.keys(tn).forEach(i=>{});for(let[i,n]of Object.entries(tn))if(i===t)return n.message;return Hn.error("No translation available for key:",e),e},zf=B("@@extension_id"),ao=e=>{e.querySelectorAll("[i18n]").forEach(i=>{let n=i.getAttribute("i18n");n||(n=i.innerHTML.trim()),i.innerHTML=B(n)}),e instanceof Document&&(document.title=B(document.title),document.documentElement.lang=chrome.i18n.getUILanguage()??"")};var Bn=class extends HTMLElement{constructor(){super();this.logger=new Et("feedback-form");this.attachShadow({mode:"open"})}setProgressHandler(i){this.progressHandler=i}static get observedAttributes(){return["size","app-name","logo-url","store-link","form-link"]}connectedCallback(){this.logger.debug("Feedback form added to page."),this.updateStyle(this)}disconnectedCallback(){this.logger.debug("Feedback form removed from page.")}adoptedCallback(){this.logger.debug("Feedback form moved to new page.")}updateStyle(i){let n=document.createElement("style");n.textContent=so;let r=document.createRange();r.selectNode(document.getElementsByTagName("body").item(0));let o=r.createContextualFragment(oo),s=i.shadowRoot;s.append(n,o);let a=i.getAttribute("size")??"inline",c=i.getAttribute("app-name")??B("@appName"),h=i.getAttribute("logo-url")??chrome.runtime.getURL("assets/logo-24x24.png"),d=i.getAttribute("store-link")??"https://chrome.google.com/webstore/detail/"+B("@@extension_id"),m=i.getAttribute("form-link")??"https://formspree.io/f/mayzdndj";this.logger.debug(`Attributes: size=${a}, app=${c}, logo=${h}`);let _=s.querySelector("[data-multi-step]");_.classList.remove("inline","small","medium"),_.classList.add(a),_.querySelector("img").src=h,_.querySelector(".logo p").innerHTML=c;let b=_.getAttribute("data-current-step");b||(b=1,_.setAttribute("data-current-step",b));let x=[..._.querySelectorAll(".star")],A=[..._.querySelectorAll("[data-next-step]")];if(x.length>0){let y=()=>x.forEach(N=>N.classList=["star"]),C=N=>{let w=N.target.getAttribute("data-star-index");y(),x.forEach((O,D)=>D<w?O.classList.add("full"):null)},S=N=>{let w=N.target.getAttribute("data-star-index");this.progressHandler&&this.progressHandler("started",w),b=w<5?3:2,_.setAttribute("data-current-step",b)};x.forEach(N=>N.addEventListener("mouseover",C)),x.forEach(N=>N.addEventListener("click",S)),_.addEventListener("mouseleave",y)}A.forEach(y=>y.addEventListener("click",C=>{b=C.target.getAttribute("data-next-step"),_.setAttribute("data-current-step",b),y.id==="rate-on-store"&&window.open(d);let S={feedback:_.querySelector("input").value,appName:c};y.id==="submit-form"&&fetch(m,{method:"POST",body:JSON.stringify(S)}).then(function(N){return this.logger.debug("response",N.json())}).then(function(N){this.logger.debug("response 2",N.json())}),b==4&&setTimeout(()=>{this.progressHandler&&this.progressHandler("completed",S)},1300)}))}};customElements.define("feedback-form",Bn);var zn="feedback_data";var jn=class{constructor(){this.storageService=chrome.storage.sync}put(t,i){if(i==null)return Promise.reject("Attempting to save a null value");if(!t)return Promise.reject("Attempting to use a null key");let n={};return n[t]=i,this.storageService.set(n)}async get(t){return(await this.storageService.get(t))[t]}getAll(){return this.storageService.get(null)}async getAndUpdate(t,i){let n=await this.get(t);return this.put(t,await i(n))}},st=new jn;var Ei=_t.__package_name__+"/mainframe";ie.prototype.setUrl=function(e,t){let i=this.body.firstChild;return i&&i.tagName.toLowerCase()==="iframe"?i.src=e:(this.body.innerHTML='<iframe name="'+Ei+'" src="'+e+'"></iframe>',t&&(this.body.firstChild.onload=t)),this};var Fn=class{constructor(){this.logger=new Et(this);this.headerIconUrlBase="https://www.google.com/s2/favicons?domain=";this.isVisible=!1;this.navStack=[];this.displayReaderMode=!1;this.isDemo=!1;this.searchUrl={google:"https://www.google.com/search?igu=1&q=",bing:"https://www.bing.com/search?q=",yahoo:"https://search.yahoo.com/search?p=",baidu:"https://www.baidu.com/s?wd=",yandex:"https://yandex.com/search/?text=",duckduckgo:"https://duckduckgo.com/?q=",ecosia:"https://www.ecosia.org/search?q="};this.onEscHandler=t=>{t=t||window.event;var i=!1;"key"in t?i=t.key==="Escape"||t.key==="Esc":i=t.keyCode===27,i&&this.handleMessage({action:"escape",href:document.location.href,sourceFrame:Ei})}}init(){if(this.inIframe()){this.logger.log("Not inserting previewr in iframe: ",window.location.href);return}this.listenForCspError(),this.listenForWindowMessages(),document.addEventListener("keydown",this.onEscHandler),document.addEventListener("click",t=>this.clickHandler(t)),document.addEventListener("scroll",t=>this.handleScroll(t))}listenForCspError(){document.addEventListener("securitypolicyviolation",t=>{window.name===Ei&&this.logger.error("CSP error",t,t.blockedURI)})}async clickHandler(t){(await st.get("automatically-hide-previews")??!1)&&this.dialog&&!this.dialog.dom.contains(t.target)&&this.dialog.close()}async handleScroll(t){(await st.get("automatically-hide-previews")??!1)&&this.dialog&&!this.dialog.dom.contains(t.target)&&this.dialog.close()}listenForWindowMessages(){window.addEventListener("message",t=>{if(t.origin!==window.location.origin){this.logger.debug("Ignoring message from different origin",t.origin,t.data);return}if(t.data.application!==_t.__package_name__){this.logger.debug("Ignoring origin messsage not initiated by Better Previews",t.data);return}this.logger.log("#WindowMessage: ",t),this.handleMessage(t.data)},!1)}async handleMessage(t){let i;if(t.mode==="demo"&&(this.isDemo=!0),t.action==="copy"){navigator.clipboard.writeText(t.data);return}else if(t.action==="preview")i=t.data;else if(t.action==="search"){let r=await st.get("search-engine")??"google";i=this.searchUrl[r]+t.data,r==="google"&&await st.get("disable-incognito-google")==!0&&(i="https://www.google.com/search?q="+t.data)}else if(t.action==="load")t.sourceFrame===Ei&&this.dialog&&(this.dialog.setTitle(t.data.title),this.dialog.setIcon(this.headerIconUrlBase+new URL(t.href).hostname));else if(t.action==="navigate")i=t.href;else if(t.action==="escape"){(await st.get("close-on-esc")??!0)&&this.dialog?.close();return}else this.logger.warn("Unhandled action",t);if(!i||(0,lo.sanitizeUrl)(i)==="about:blank")return;let n;try{n=new URL(i)}catch(r){this.logger.error(r);return}return this.url&&this.url.href!==n.href&&this.navStack.push(this.url),this.previewUrl(n)}async previewUrl(t){this.logger.log("#previewUrl: ",t),this.url=t;let i=await this.getWinboxOptions(t);if(this.displayReaderMode){let r=new co.Readability(window.document.cloneNode(!0)).parse();r||(console.error("Article is null"),i.html="<h1>Failed to parse article</h1>"),i.html=`<h1>${r.title}</h1> <p>${r.byline}</p> ${r.content}`}else i.url=this.url;this.dialog?(this.logger.debug("restoring dialog"),this.dialog.restore(),this.dialog.setUrl(t.href),this.dialog.setTitle(t.hostname),this.dialog.setIcon(this.headerIconUrlBase+t.hostname)):(this.logger.debug("creating new dialog with options:",i),this.dialog=new ie(t.hostname,i),this.dialog.addControl({index:2,class:"wb-nav-away",title:"Open in New Tab",image:"",click:(n,r)=>{this.logger.log("#onOpenInNewTab: url",this.url),window.open(this.url,"_blank")}}),this.dialog.addControl({index:3,class:"wb-settings",title:"Extension Settings",image:"",click:(n,r)=>{this.logger.log("#onOpenSettings: url",this.url),chrome.runtime.sendMessage("open_options_page")}})),this.dialog.removeControl("nav-back"),this.navStack.length>0&&this.dialog.addControl({index:0,class:"nav-back",image:"",title:"Go Back",click:(n,r)=>{this.navBack()}}),await this.registerFeedbackUI()}async registerFeedbackUI(){(await st.get(zn))?.status==="eligible"&&this.dialog?.addClass("show-footer"),(this.dialog?.dom.querySelector("feedback-form")).setProgressHandler((r,o)=>{if(r==="started"){this.logger.log("started: this",this,chrome?.storage?.sync);let s={status:"honored",timestamp:Date.now(),rating:o};st.put(zn,s),ue.fireEvent("user_feedback",{action:"rate_experience",star_rating:o})}r==="completed"&&(this.dialog?.removeClass("show-footer"),ue.fireEvent("user_feedback",{action:"submit_feedback",feedback_text:o}))})}navBack(){let t=this.navStack.pop();t&&this.previewUrl(t)}inIframe(){try{return window.self!==window.top}catch{return!0}}getMaxZIndex(){return new Promise(t=>{let i=Math.max(...Array.from(document.querySelectorAll("body *"),n=>parseFloat(window.getComputedStyle(n).zIndex)).filter(n=>!Number.isNaN(n)),0);t(i)})}async getWinboxOptions(t,i){let n=(await st.get("previewr-width")??"55")+"%",r=(await st.get("previewr-height")??"80")+"%",o=await st.get("previewr-position")??"right",s="80px";this.isDemo&&(n="45%",r="40%",s="500px");let a={icon:this.headerIconUrlBase+t.hostname,y:s,width:n,height:r,class:["no-max","no-full"],index:await this.getMaxZIndex(),hidden:!1,shadowel:"search-preview-window",framename:Ei,onclose:()=>{this.navStack=[],this.url=void 0,this.dialog=void 0}};return o==="right"?(a.x="right",a.right=10):(a.x="left",a.left=10),a}};new Fn().init();var Wn=class{constructor(){this.iframeName=_t.__package_name__+"/mainframe";this.logger=new Et(this);this.redirectClicks=t=>{var i=this.getLinkTarget(t);!i||!i.href||i.href.startsWith("#")||(t.stopImmediatePropagation(),t.preventDefault(),this.logger.debug("Prevented click propagation and posting navigate"),this.sendMessage({action:"navigate",href:i.href,source:window.location.href}))}}registerListeners(){!this.inIframe()||this.getFrameName()===this.iframeName&&(this.maybeEnableFrameBustingBuster(),document.addEventListener("click",this.redirectClicks,!0),window.addEventListener("load",()=>{this.sendMessage({action:"load",data:{title:this.getTitle()}})}),window.addEventListener("unload",()=>{this.sendMessage({action:"unload"})}))}async maybeEnableFrameBustingBuster(){if(!(await st.get("enable-anti-frame-busting")??!1))return;let i=0;window.onbeforeunload=function(){i++},setInterval(function(){i>0&&(i-=2,window.top.location="https://httpstat.us/204")},1)}inIframe(){try{return window.self!==window.top}catch{return!0}}getFrameName(){return window.name}getLinkTarget(t){var i=t.target;do if(i.nodeName.toUpperCase()==="A"&&i.href)return i;while(i=i.parentElement);return null}sendMessage(t){this.logger.debug("#sendMessage",t),chrome.runtime.sendMessage({application:_t.__package_name__,href:document.location.href,sourceFrame:this.getFrameName(),...t})}getTitle(){if(document.title)return document.title;let t=document.querySelector("meta[property='og:site_name'][content]");return t?t.content:window.location.origin}},vl=new Wn;vl.registerListeners();function Ai(e){return e.split("-")[1]}function Gn(e){return e==="y"?"height":"width"}function Ce(e){return e.split("-")[0]}function xi(e){return["top","bottom"].includes(Ce(e))?"x":"y"}function ho(e,t,i){let{reference:n,floating:r}=e,o=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2,a=xi(t),c=Gn(a),h=n[c]/2-r[c]/2,d=a==="x",m;switch(Ce(t)){case"top":m={x:o,y:n.y-r.height};break;case"bottom":m={x:o,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:s};break;case"left":m={x:n.x-r.width,y:s};break;default:m={x:n.x,y:n.y}}switch(Ai(t)){case"start":m[a]-=h*(i&&d?-1:1);break;case"end":m[a]+=h*(i&&d?-1:1)}return m}var uo=async(e,t,i)=>{let{placement:n="bottom",strategy:r="absolute",middleware:o=[],platform:s}=i,a=o.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t)),h=await s.getElementRects({reference:e,floating:t,strategy:r}),{x:d,y:m}=ho(h,n,c),_=n,b={},x=0;for(let A=0;A<a.length;A++){let{name:y,fn:C}=a[A],{x:S,y:N,data:w,reset:O}=await C({x:d,y:m,initialPlacement:n,placement:_,strategy:r,middlewareData:b,rects:h,platform:s,elements:{reference:e,floating:t}});d=S??d,m=N??m,b={...b,[y]:{...b[y],...w}},O&&x<=50&&(x++,typeof O=="object"&&(O.placement&&(_=O.placement),O.rects&&(h=O.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:r}):O.rects),{x:d,y:m}=ho(h,_,c)),A=-1)}return{x:d,y:m,placement:_,strategy:r,middlewareData:b}};function fo(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function yi(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function Yn(e,t){var i;t===void 0&&(t={});let{x:n,y:r,platform:o,rects:s,elements:a,strategy:c}=e,{boundary:h="clippingAncestors",rootBoundary:d="viewport",elementContext:m="floating",altBoundary:_=!1,padding:b=0}=t,x=fo(b),A=a[_?m==="floating"?"reference":"floating":m],y=yi(await o.getClippingRect({element:(i=await(o.isElement==null?void 0:o.isElement(A)))==null||i?A:A.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:h,rootBoundary:d,strategy:c})),C=m==="floating"?{...s.floating,x:n,y:r}:s.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),N=await(o.isElement==null?void 0:o.isElement(S))&&await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1},w=yi(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:C,offsetParent:S,strategy:c}):C);return{top:(y.top-w.top+x.top)/N.y,bottom:(w.bottom-y.bottom+x.bottom)/N.y,left:(y.left-w.left+x.left)/N.x,right:(w.right-y.right+x.right)/N.x}}var bl=Math.min,wl=Math.max;function Vn(e,t,i){return wl(e,bl(t,i))}var Kn=e=>({name:"arrow",options:e,async fn(t){let{element:i,padding:n=0}=e||{},{x:r,y:o,placement:s,rects:a,platform:c}=t;if(i==null)return{};let h=fo(n),d={x:r,y:o},m=xi(s),_=Gn(m),b=await c.getDimensions(i),x=m==="y"?"top":"left",A=m==="y"?"bottom":"right",y=a.reference[_]+a.reference[m]-d[m]-a.floating[_],C=d[m]-a.reference[m],S=await(c.getOffsetParent==null?void 0:c.getOffsetParent(i)),N=S?m==="y"?S.clientHeight||0:S.clientWidth||0:0;N===0&&(N=a.floating[_]);let w=y/2-C/2,O=h[x],D=N-b[_]-h[A],I=N/2-b[_]/2+w,R=Vn(O,I,D),$=Ai(s)!=null&&I!=R&&a.reference[_]/2-(I<O?h[x]:h[A])-b[_]/2<0;return{[m]:d[m]-($?I<O?O-I:D-I:0),data:{[m]:R,centerOffset:I-R}}}}),El=["top","right","bottom","left"],lp=El.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]),yl={left:"right",right:"left",bottom:"top",top:"bottom"};function en(e){return e.replace(/left|right|bottom|top/g,t=>yl[t])}function Al(e,t,i){i===void 0&&(i=!1);let n=Ai(e),r=xi(e),o=Gn(r),s=r==="x"?n===(i?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=en(s)),{main:s,cross:en(s)}}var xl={start:"end",end:"start"};function Un(e){return e.replace(/start|end/g,t=>xl[t])}var qn=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var i;let{placement:n,middlewareData:r,rects:o,initialPlacement:s,platform:a,elements:c}=t,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:m,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...A}=e,y=Ce(n),C=Ce(s)===s,S=await(a.isRTL==null?void 0:a.isRTL(c.floating)),N=m||(C||!x?[en(s)]:function(k){let j=en(k);return[Un(k),j,Un(j)]}(s));m||b==="none"||N.push(...function(k,j,V,Y){let et=Ai(k),H=function(G,Q,rt){let it=["left","right"],U=["right","left"],W=["top","bottom"],gt=["bottom","top"];switch(G){case"top":case"bottom":return rt?Q?U:it:Q?it:U;case"left":case"right":return Q?W:gt;default:return[]}}(Ce(k),V==="start",Y);return et&&(H=H.map(G=>G+"-"+et),j&&(H=H.concat(H.map(Un)))),H}(s,x,b,S));let w=[s,...N],O=await Yn(t,A),D=[],I=((i=r.flip)==null?void 0:i.overflows)||[];if(h&&D.push(O[y]),d){let{main:k,cross:j}=Al(n,o,S);D.push(O[k],O[j])}if(I=[...I,{placement:n,overflows:D}],!D.every(k=>k<=0)){var R;let k=(((R=r.flip)==null?void 0:R.index)||0)+1,j=w[k];if(j)return{data:{index:k,overflows:I},reset:{placement:j}};let V="bottom";switch(_){case"bestFit":{var $;let Y=($=I.map(et=>[et,et.overflows.filter(H=>H>0).reduce((H,G)=>H+G,0)]).sort((et,H)=>et[1]-H[1])[0])==null?void 0:$[0].placement;Y&&(V=Y);break}case"initialPlacement":V=s}if(n!==V)return{reset:{placement:V}}}return{}}}};var Xn=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){let{x:i,y:n}=t,r=await async function(o,s){let{placement:a,platform:c,elements:h}=o,d=await(c.isRTL==null?void 0:c.isRTL(h.floating)),m=Ce(a),_=Ai(a),b=xi(a)==="x",x=["left","top"].includes(m)?-1:1,A=d&&b?-1:1,y=typeof s=="function"?s(o):s,{mainAxis:C,crossAxis:S,alignmentAxis:N}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...y};return _&&typeof N=="number"&&(S=_==="end"?-1*N:N),b?{x:S*A,y:C*x}:{x:C*x,y:S*A}}(t,e);return{x:i+r.x,y:n+r.y,data:r}}}};function Tl(e){return e==="x"?"y":"x"}var Qn=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){let{x:i,y:n,placement:r}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:y=>{let{x:C,y:S}=y;return{x:C,y:S}}},...c}=e,h={x:i,y:n},d=await Yn(t,c),m=xi(Ce(r)),_=Tl(m),b=h[m],x=h[_];if(o){let y=m==="y"?"bottom":"right";b=Vn(b+d[m==="y"?"top":"left"],b,b-d[y])}if(s){let y=_==="y"?"bottom":"right";x=Vn(x+d[_==="y"?"top":"left"],x,x-d[y])}let A=a.fn({...t,[m]:b,[_]:x});return{...A,data:{x:A.x-i,y:A.y-n}}}}};function Rt(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function qt(e){return Rt(e).getComputedStyle(e)}function me(e){return wo(e)?(e.nodeName||"").toLowerCase():""}var nn;function bo(){if(nn)return nn;let e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(nn=e.brands.map(t=>t.brand+"/"+t.version).join(" "),nn):navigator.userAgent}function ne(e){return e instanceof Rt(e).HTMLElement}function fe(e){return e instanceof Rt(e).Element}function wo(e){return e instanceof Rt(e).Node}function po(e){return typeof ShadowRoot>"u"?!1:e instanceof Rt(e).ShadowRoot||e instanceof ShadowRoot}function on(e){let{overflow:t,overflowX:i,overflowY:n,display:r}=qt(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+i)&&!["inline","contents"].includes(r)}function Nl(e){return["table","td","th"].includes(me(e))}function Zn(e){let t=/firefox/i.test(bo()),i=qt(e),n=i.backdropFilter||i.WebkitBackdropFilter;return i.transform!=="none"||i.perspective!=="none"||!!n&&n!=="none"||t&&i.willChange==="filter"||t&&!!i.filter&&i.filter!=="none"||["transform","perspective"].some(r=>i.willChange.includes(r))||["paint","layout","strict","content"].some(r=>{let o=i.contain;return o!=null&&o.includes(r)})}function Eo(){return!/^((?!chrome|android).)*safari/i.test(bo())}function Jn(e){return["html","body","#document"].includes(me(e))}var mo=Math.min,Ti=Math.max,rn=Math.round;function yo(e){let t=qt(e),i=parseFloat(t.width),n=parseFloat(t.height),r=e.offsetWidth,o=e.offsetHeight,s=rn(i)!==r||rn(n)!==o;return s&&(i=r,n=o),{width:i,height:n,fallback:s}}function Ao(e){return fe(e)?e:e.contextElement}var xo={x:1,y:1};function Xe(e){let t=Ao(e);if(!ne(t))return xo;let i=t.getBoundingClientRect(),{width:n,height:r,fallback:o}=yo(t),s=(o?rn(i.width):i.width)/n,a=(o?rn(i.height):i.height)/r;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}function Ni(e,t,i,n){var r,o;t===void 0&&(t=!1),i===void 0&&(i=!1);let s=e.getBoundingClientRect(),a=Ao(e),c=xo;t&&(n?fe(n)&&(c=Xe(n)):c=Xe(e));let h=a?Rt(a):window,d=!Eo()&&i,m=(s.left+(d&&((r=h.visualViewport)==null?void 0:r.offsetLeft)||0))/c.x,_=(s.top+(d&&((o=h.visualViewport)==null?void 0:o.offsetTop)||0))/c.y,b=s.width/c.x,x=s.height/c.y;if(a){let A=Rt(a),y=n&&fe(n)?Rt(n):n,C=A.frameElement;for(;C&&n&&y!==A;){let S=Xe(C),N=C.getBoundingClientRect(),w=getComputedStyle(C);N.x+=(C.clientLeft+parseFloat(w.paddingLeft))*S.x,N.y+=(C.clientTop+parseFloat(w.paddingTop))*S.y,m*=S.x,_*=S.y,b*=S.x,x*=S.y,m+=N.x,_+=N.y,C=Rt(C).frameElement}}return{width:b,height:x,top:_,right:m+b,bottom:_+x,left:m,x:m,y:_}}function pe(e){return((wo(e)?e.ownerDocument:e.document)||window.document).documentElement}function sn(e){return fe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function To(e){return Ni(pe(e)).left+sn(e).scrollLeft}function Sl(e,t,i){let n=ne(t),r=pe(t),o=Ni(e,!0,i==="fixed",t),s={scrollLeft:0,scrollTop:0},a={x:0,y:0};if(n||!n&&i!=="fixed")if((me(t)!=="body"||on(r))&&(s=sn(t)),ne(t)){let c=Ni(t,!0);a.x=c.x+t.clientLeft,a.y=c.y+t.clientTop}else r&&(a.x=To(r));return{x:o.left+s.scrollLeft-a.x,y:o.top+s.scrollTop-a.y,width:o.width,height:o.height}}function Si(e){if(me(e)==="html")return e;let t=e.assignedSlot||e.parentNode||(po(e)?e.host:null)||pe(e);return po(t)?t.host:t}function go(e){return ne(e)&&qt(e).position!=="fixed"?e.offsetParent:null}function _o(e){let t=Rt(e),i=go(e);for(;i&&Nl(i)&&qt(i).position==="static";)i=go(i);return i&&(me(i)==="html"||me(i)==="body"&&qt(i).position==="static"&&!Zn(i))?t:i||function(n){let r=Si(n);for(;ne(r)&&!Jn(r);){if(Zn(r))return r;r=Si(r)}return null}(e)||t}function No(e){let t=Si(e);return Jn(t)?e.ownerDocument.body:ne(t)&&on(t)?t:No(t)}function So(e,t){var i;t===void 0&&(t=[]);let n=No(e),r=n===((i=e.ownerDocument)==null?void 0:i.body),o=Rt(n);return r?t.concat(o,o.visualViewport||[],on(n)?n:[]):t.concat(n,So(n))}function vo(e,t,i){return t==="viewport"?yi(function(n,r){let o=Rt(n),s=pe(n),a=o.visualViewport,c=s.clientWidth,h=s.clientHeight,d=0,m=0;if(a){c=a.width,h=a.height;let _=Eo();(_||!_&&r==="fixed")&&(d=a.offsetLeft,m=a.offsetTop)}return{width:c,height:h,x:d,y:m}}(e,i)):fe(t)?function(n,r){let o=Ni(n,!0,r==="fixed"),s=o.top+n.clientTop,a=o.left+n.clientLeft,c=ne(n)?Xe(n):{x:1,y:1},h=n.clientWidth*c.x,d=n.clientHeight*c.y,m=a*c.x,_=s*c.y;return{top:_,left:m,right:m+h,bottom:_+d,x:m,y:_,width:h,height:d}}(t,i):yi(function(n){var r;let o=pe(n),s=sn(n),a=(r=n.ownerDocument)==null?void 0:r.body,c=Ti(o.scrollWidth,o.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),h=Ti(o.scrollHeight,o.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),d=-s.scrollLeft+To(n),m=-s.scrollTop;return qt(a||o).direction==="rtl"&&(d+=Ti(o.clientWidth,a?a.clientWidth:0)-c),{width:c,height:h,x:d,y:m}}(pe(e)))}var Cl={getClippingRect:function(e){let{element:t,boundary:i,rootBoundary:n,strategy:r}=e,o=i==="clippingAncestors"?function(h,d){let m=d.get(h);if(m)return m;let _=So(h).filter(y=>fe(y)&&me(y)!=="body"),b=null,x=qt(h).position==="fixed",A=x?Si(h):h;for(;fe(A)&&!Jn(A);){let y=qt(A),C=Zn(A);(x?C||b:C||y.position!=="static"||!b||!["absolute","fixed"].includes(b.position))?b=y:_=_.filter(S=>S!==A),A=Si(A)}return d.set(h,_),_}(t,this._c):[].concat(i),s=[...o,n],a=s[0],c=s.reduce((h,d)=>{let m=vo(t,d,r);return h.top=Ti(m.top,h.top),h.right=mo(m.right,h.right),h.bottom=mo(m.bottom,h.bottom),h.left=Ti(m.left,h.left),h},vo(t,a,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:i,strategy:n}=e,r=ne(i),o=pe(i);if(i===o)return t;let s={scrollLeft:0,scrollTop:0},a={x:1,y:1},c={x:0,y:0};if((r||!r&&n!=="fixed")&&((me(i)!=="body"||on(o))&&(s=sn(i)),ne(i))){let h=Ni(i);a=Xe(i),c.x=h.x+i.clientLeft,c.y=h.y+i.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+c.x,y:t.y*a.y-s.scrollTop*a.y+c.y}},isElement:fe,getDimensions:function(e){return yo(e)},getOffsetParent:_o,getDocumentElement:pe,getScale:Xe,async getElementRects(e){let{reference:t,floating:i,strategy:n}=e,r=this.getOffsetParent||_o,o=this.getDimensions;return{reference:Sl(t,await r(i),n),floating:{x:0,y:0,...await o(i)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>qt(e).direction==="rtl"};var Co=(e,t,i)=>{let n=new Map,r={platform:Cl,...i},o={...r.platform,_c:n};return uo(e,t,{...r,platform:o})};var Lo=`/* Floatie CSS */
#sp-floatie-container {
  display: none;
  position: absolute;
  top: 0;
  left: 0;
  background: #222222;
  color: white;
  border-radius: 4px;
  padding: 2px;
  font-size: 11px;
  font-family: sans-serif;
}

#sp-floatie-arrow {
  position: absolute;
  background: rgb(255, 34, 34);
  background: linear-gradient(
    -45deg,
    rgba(34, 34, 34, 1) 0%,
    rgba(34, 34, 34, 1) 51%,
    rgba(0, 0, 0, 0) 53%,
    rgba(0, 0, 0, 0) 80%
  );
  width: 8px;
  height: 8px;
  transform: rotate(45deg);
}

.sp-floatie-action {
  display: block;
  background-color: #222222;
  padding-top: 5px;
  padding-bottom: 5px;
  padding-left: 8px;
  padding-right: 8px;
  margin: 0 0 !important;
}

.hide-1 {
  transition: opacity 2s;
  opacity: 0;
}
.hide-2 {
  transition: opacity 3s;
  opacity: 0;
}
.hide-3 {
  transition: opacity 4s;
  opacity: 0;
}
.hide-4 {
  transition: opacity 5s;
  opacity: 0;
}
.hide-5 {
  transition: opacity 6s;
  opacity: 0;
}

.sp-floatie-action:hover {
  background-color: #777;
}
`;var an=class{constructor(){this.isCopyActionEnabled=!1;this.logger=new Et(this);let t=`
        <div id="sp-floatie-container">
            <div id="sp-floatie-arrow"></div>
            <div id="sp-floatie-search" class="sp-floatie-action" data-action="search">Search</div>
            <div id="sp-floatie-preview" class="sp-floatie-action" data-action="preview">Preview</div>
                        <div id="sp-floatie-copy" class="sp-floatie-action" data-action="copy">Copy</div>
        </div>
        `,i=document.createRange();i.selectNode(document.getElementsByTagName("body").item(0)),this.documentFragment=i.createContextualFragment(t);let n=this.documentFragment.getElementById("sp-floatie-container"),r=this.documentFragment.getElementById("sp-floatie-search"),o=this.documentFragment.getElementById("sp-floatie-preview"),s=this.documentFragment.getElementById("sp-floatie-copy"),a=this.documentFragment.getElementById("sp-floatie-arrow");if(!n||!r||!o||!s||!a)throw new Error("Impossible error obtaining action buttons from DOM");this.container=n,this.searchButton=r,this.previewButton=o,this.copyButton=s,this.tooltipArrow=a,this.logger.debug("Initialized floatie")}startListening(){if(this.inIframe())return;let t=document.createElement("better-previews-tooltip"),i=document.createElement("style");i.textContent=Lo,t.appendChild(i),t.appendChild(this.documentFragment),t.attachShadow({mode:"open"}).innerHTML="<slot></slot>",document.body.appendChild(t),window.onscroll=()=>this.hideAll(),window.onresize=()=>this.hideAll(),window.oncontextmenu=()=>this.hideAll(),document.onmouseup=n=>this.deferredMaybeShow(n),document.onkeydown=()=>this.hideAll(),this.setupLinkPreviews()}setupLinkPreviews(){let t=document.querySelectorAll("a"),i=null,n=null,r=null;t.forEach(o=>{!this.isGoodUrl(o.href)||!o.innerText.trim()||(o.addEventListener("mouseover",s=>{r&&(clearTimeout(r),r=null),i=setTimeout(async()=>{let a=await st.get("preview-on-hover")??!1;if(this.showActions(o.getBoundingClientRect(),s,o.href,[this.previewButton]),a){let c=await st.get("preview-on-hover-delay")??3;this.container.classList.add("hide-"+c),n=setTimeout(()=>{this.container.className="",this.container.style.display="none",this.sendMessage("preview",o.href)},c*1e3)}},500)}),o.addEventListener("mouseout",()=>{i&&(clearTimeout(i),i=null),n&&(clearTimeout(n),this.container.className="",this.container.style.display="none",n=null),r=setTimeout(()=>{this.hideAll()},2e3)}))})}stopListening(){document.body.removeChild(this.documentFragment),document.removeEventListener("onmouseup",()=>{}),window.removeEventListener("onscroll",()=>{}),window.removeEventListener("onresize",()=>{})}deferredMaybeShow(t){this.showTimeout=window.setTimeout(()=>this.maybeShow(t),100)}maybeShow(t){if(this.hideAll(),typeof window.getSelection>"u")return;let i=window.getSelection();if(i.isCollapsed)return;let n=i.toString().trim(),o=i.getRangeAt(0).getBoundingClientRect();this.logger.debug("Selected: ",n);let s=[];this.shouldShowPreview(t,n)?s.push(this.previewButton):this.shouldShowSearch(t,n)&&s.push(this.searchButton),this.shouldShowCopy(n)&&s.push(this.copyButton),this.showActions(o,t,n,s)}getAbsoluteUrl(t){let i=new RegExp("^(?:[a-z+]+:)?//","i"),n;try{if(i.test(t))n=new URL(t);else return null}catch{return null}return n}isGoodUrl(t){if(!t||!t.trim())return!1;let i=this.getAbsoluteUrl(t);return!(i===null||i.protocol!=="http:"&&i.protocol!=="https:"||i.hostname===window.location.hostname)}shouldShowCopy(t){return this.isCopyActionEnabled&&t.length>0}shouldShowPreview(t,i){let n=r=>{var o=r.target;do if(o.nodeName.toUpperCase()==="A"&&this.isGoodUrl(o.href))return!0;while(o=o.parentElement);return!1};return this.isGoodUrl(i)||n(t)}getPreviewUrl(t,i){let n=r=>{var o=r.target;do if(o.nodeName.toUpperCase()==="A"&&this.isGoodUrl(o.href))return o.href;while(o=o.parentElement)};return this.isGoodUrl(i)?this.getAbsoluteUrl(i)?.href:n(t)}shouldShowSearch(t,i){let n=a=>a.length>0&&a.length<100,r=a=>String(a).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),o=a=>!isNaN(Date.parse(a)),s=a=>/[a-zA-Z]/.test(a);return n(i)&&s(i)&&!r(i)&&!o(i)&&!this.shouldShowPreview(t,i)}showActions(t,i,n,r){this.hideAll(),r.length!==0&&(this.showContainer(t),r.forEach(o=>{o.style.display="inline-block",o.onclick=()=>{if(typeof window.getSelection<"u"){let s=window.getSelection();if(s.isCollapsed||(n=s.toString().trim()),o.innerText=="Preview"){let a=this.getPreviewUrl(i,n);a&&(n=a)}}this.sendMessage(o.getAttribute("data-action")||"unknown-action",n),this.hideAll()}}))}sendMessage(t,i){window.postMessage({application:_t.__package_name__,action:t,data:i},window.location.origin)}showContainer(t){this.container.style.display="block";let i=()=>new Promise(r=>{let o=Math.max(...Array.from(document.querySelectorAll("body *"),s=>parseFloat(window.getComputedStyle(s).zIndex)).filter(s=>!Number.isNaN(s)),0);r(o)});Co({getBoundingClientRect(){return{width:t.width,height:t.height,x:t.x,y:t.y,top:t.top,left:t.left,right:t.right,bottom:t.bottom}}},this.container,{placement:"top",strategy:"absolute",middleware:[Xn(12),qn(),Qn({padding:5}),Kn({element:this.tooltipArrow})]}).then(({x:r,y:o,placement:s,middlewareData:a})=>{Object.assign(this.container.style,{top:`${o}px`,left:`${r}px`});let c=a.arrow,h="bottom";switch(s.split("-")[0]){case"top":h="bottom";break;case"left":h="right";break;case"bottom":h="top";break;case"right":h="left";break}Object.assign(this.tooltipArrow.style,{left:c?.x!=null?`${c.x}px`:"",top:c?.y!=null?`${c.y}px`:"",right:"",bottom:"",[h]:"-4px"}),i().then(d=>{this.container.style.zIndex=""+(d+10),this.tooltipArrow.style.zIndex=""+(d-1)})})}hideAll(){clearTimeout(this.showTimeout),this.container.style.display="none",this.copyButton.style.display="none",this.searchButton.style.display="none",this.previewButton.style.display="none"}inIframe(){try{return window.self!==window.top}catch{return!0}}};var tr=class{constructor(){this.floatie=new an;this.logger=new Et(this);this.unsupportedHosts=["mail.google.com"]}async start(){if(await this.isDisabledDomain()){this.logger.debug("Better Previews is disabled on ",window.location.host);return}this.floatie.startListening(),this.inIframe()||chrome.runtime.onMessage.addListener((t,i,n)=>{this.logger.debug("Re-posting message for DOM: ",t),window.postMessage({application:_t.__package_name__,...t}),n("ok")})}stop(){this.floatie.stopListening()}async isDisabledDomain(){let t=await st.get("blocked-sites")??"";if(!t)return!1;let i=window.location.hostname;return t.includes(i)}inIframe(){try{return window.self!==window.top}catch{return!0}}},Dl=new tr;Dl.start();var _n={};Fr(_n,{afterMain:()=>Po,afterRead:()=>Mo,afterWrite:()=>Ho,applyStyles:()=>Ze,arrow:()=>cn,auto:()=>Ci,basePlacements:()=>re,beforeMain:()=>Io,beforeRead:()=>Do,beforeWrite:()=>Ro,bottom:()=>ct,clippingParents:()=>er,computeStyles:()=>ti,createPopper:()=>$i,createPopperBase:()=>Yo,createPopperLite:()=>Ko,detectOverflow:()=>Nt,end:()=>ge,eventListeners:()=>ei,flip:()=>fn,hide:()=>pn,left:()=>ot,main:()=>ko,modifierPhases:()=>nr,offset:()=>mn,placements:()=>Di,popper:()=>Le,popperGenerator:()=>$e,popperOffsets:()=>ri,preventOverflow:()=>gn,read:()=>Oo,reference:()=>ir,right:()=>at,start:()=>Xt,top:()=>nt,variationPlacements:()=>ln,viewport:()=>Li,write:()=>$o});var nt="top",ct="bottom",at="right",ot="left",Ci="auto",re=[nt,ct,at,ot],Xt="start",ge="end",er="clippingParents",Li="viewport",Le="popper",ir="reference",ln=re.reduce(function(e,t){return e.concat([t+"-"+Xt,t+"-"+ge])},[]),Di=[].concat(re,[Ci]).reduce(function(e,t){return e.concat([t,t+"-"+Xt,t+"-"+ge])},[]),Do="beforeRead",Oo="read",Mo="afterRead",Io="beforeMain",ko="main",Po="afterMain",Ro="beforeWrite",$o="write",Ho="afterWrite",nr=[Do,Oo,Mo,Io,ko,Po,Ro,$o,Ho];function pt(e){return e?(e.nodeName||"").toLowerCase():null}function tt(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function $t(e){var t=tt(e).Element;return e instanceof t||e instanceof Element}function ut(e){var t=tt(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Qe(e){if(typeof ShadowRoot>"u")return!1;var t=tt(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Ol(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var n=t.styles[i]||{},r=t.attributes[i]||{},o=t.elements[i];!ut(o)||!pt(o)||(Object.assign(o.style,n),Object.keys(r).forEach(function(s){var a=r[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function Ml(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(n){var r=t.elements[n],o=t.attributes[n]||{},s=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:i[n]),a=s.reduce(function(c,h){return c[h]="",c},{});!ut(r)||!pt(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(c){r.removeAttribute(c)}))})}}var Ze={name:"applyStyles",enabled:!0,phase:"write",fn:Ol,effect:Ml,requires:["computeStyles"]};function mt(e){return e.split("-")[0]}var Vt=Math.max,De=Math.min,oe=Math.round;function Je(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Oi(){return!/^((?!chrome|android).)*safari/i.test(Je())}function Ht(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1);var n=e.getBoundingClientRect(),r=1,o=1;t&&ut(e)&&(r=e.offsetWidth>0&&oe(n.width)/e.offsetWidth||1,o=e.offsetHeight>0&&oe(n.height)/e.offsetHeight||1);var s=$t(e)?tt(e):window,a=s.visualViewport,c=!Oi()&&i,h=(n.left+(c&&a?a.offsetLeft:0))/r,d=(n.top+(c&&a?a.offsetTop:0))/o,m=n.width/r,_=n.height/o;return{width:m,height:_,top:d,right:h+m,bottom:d+_,left:h,x:h,y:d}}function Oe(e){var t=Ht(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function Mi(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&Qe(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Tt(e){return tt(e).getComputedStyle(e)}function rr(e){return["table","td","th"].indexOf(pt(e))>=0}function vt(e){return(($t(e)?e.ownerDocument:e.document)||window.document).documentElement}function se(e){return pt(e)==="html"?e:e.assignedSlot||e.parentNode||(Qe(e)?e.host:null)||vt(e)}function Bo(e){return!ut(e)||Tt(e).position==="fixed"?null:e.offsetParent}function Il(e){var t=/firefox/i.test(Je()),i=/Trident/i.test(Je());if(i&&ut(e)){var n=Tt(e);if(n.position==="fixed")return null}var r=se(e);for(Qe(r)&&(r=r.host);ut(r)&&["html","body"].indexOf(pt(r))<0;){var o=Tt(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function Gt(e){for(var t=tt(e),i=Bo(e);i&&rr(i)&&Tt(i).position==="static";)i=Bo(i);return i&&(pt(i)==="html"||pt(i)==="body"&&Tt(i).position==="static")?t:i||Il(e)||t}function Me(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ie(e,t,i){return Vt(e,De(t,i))}function jo(e,t,i){var n=Ie(e,t,i);return n>i?i:n}function Ii(){return{top:0,right:0,bottom:0,left:0}}function ki(e){return Object.assign({},Ii(),e)}function Pi(e,t){return t.reduce(function(i,n){return i[n]=e,i},{})}var kl=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,ki(typeof t!="number"?t:Pi(t,re))};function Pl(e){var t,i=e.state,n=e.name,r=e.options,o=i.elements.arrow,s=i.modifiersData.popperOffsets,a=mt(i.placement),c=Me(a),h=[ot,at].indexOf(a)>=0,d=h?"height":"width";if(!(!o||!s)){var m=kl(r.padding,i),_=Oe(o),b=c==="y"?nt:ot,x=c==="y"?ct:at,A=i.rects.reference[d]+i.rects.reference[c]-s[c]-i.rects.popper[d],y=s[c]-i.rects.reference[c],C=Gt(o),S=C?c==="y"?C.clientHeight||0:C.clientWidth||0:0,N=A/2-y/2,w=m[b],O=S-_[d]-m[x],D=S/2-_[d]/2+N,I=Ie(w,D,O),R=c;i.modifiersData[n]=(t={},t[R]=I,t.centerOffset=I-D,t)}}function Rl(e){var t=e.state,i=e.options,n=i.element,r=n===void 0?"[data-popper-arrow]":n;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||!Mi(t.elements.popper,r)||(t.elements.arrow=r))}var cn={name:"arrow",enabled:!0,phase:"main",fn:Pl,effect:Rl,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Bt(e){return e.split("-")[1]}var $l={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Hl(e,t){var i=e.x,n=e.y,r=t.devicePixelRatio||1;return{x:oe(i*r)/r||0,y:oe(n*r)/r||0}}function zo(e){var t,i=e.popper,n=e.popperRect,r=e.placement,o=e.variation,s=e.offsets,a=e.position,c=e.gpuAcceleration,h=e.adaptive,d=e.roundOffsets,m=e.isFixed,_=s.x,b=_===void 0?0:_,x=s.y,A=x===void 0?0:x,y=typeof d=="function"?d({x:b,y:A}):{x:b,y:A};b=y.x,A=y.y;var C=s.hasOwnProperty("x"),S=s.hasOwnProperty("y"),N=ot,w=nt,O=window;if(h){var D=Gt(i),I="clientHeight",R="clientWidth";if(D===tt(i)&&(D=vt(i),Tt(D).position!=="static"&&a==="absolute"&&(I="scrollHeight",R="scrollWidth")),D=D,r===nt||(r===ot||r===at)&&o===ge){w=ct;var $=m&&D===O&&O.visualViewport?O.visualViewport.height:D[I];A-=$-n.height,A*=c?1:-1}if(r===ot||(r===nt||r===ct)&&o===ge){N=at;var k=m&&D===O&&O.visualViewport?O.visualViewport.width:D[R];b-=k-n.width,b*=c?1:-1}}var j=Object.assign({position:a},h&&$l),V=d===!0?Hl({x:b,y:A},tt(i)):{x:b,y:A};if(b=V.x,A=V.y,c){var Y;return Object.assign({},j,(Y={},Y[w]=S?"0":"",Y[N]=C?"0":"",Y.transform=(O.devicePixelRatio||1)<=1?"translate("+b+"px, "+A+"px)":"translate3d("+b+"px, "+A+"px, 0)",Y))}return Object.assign({},j,(t={},t[w]=S?A+"px":"",t[N]=C?b+"px":"",t.transform="",t))}function Bl(e){var t=e.state,i=e.options,n=i.gpuAcceleration,r=n===void 0?!0:n,o=i.adaptive,s=o===void 0?!0:o,a=i.roundOffsets,c=a===void 0?!0:a,h={placement:mt(t.placement),variation:Bt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,zo(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,zo(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var ti={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Bl,data:{}};var hn={passive:!0};function jl(e){var t=e.state,i=e.instance,n=e.options,r=n.scroll,o=r===void 0?!0:r,s=n.resize,a=s===void 0?!0:s,c=tt(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&h.forEach(function(d){d.addEventListener("scroll",i.update,hn)}),a&&c.addEventListener("resize",i.update,hn),function(){o&&h.forEach(function(d){d.removeEventListener("scroll",i.update,hn)}),a&&c.removeEventListener("resize",i.update,hn)}}var ei={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:jl,data:{}};var zl={left:"right",right:"left",bottom:"top",top:"bottom"};function ii(e){return e.replace(/left|right|bottom|top/g,function(t){return zl[t]})}var Fl={start:"end",end:"start"};function un(e){return e.replace(/start|end/g,function(t){return Fl[t]})}function ke(e){var t=tt(e),i=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:i,scrollTop:n}}function Pe(e){return Ht(vt(e)).left+ke(e).scrollLeft}function or(e,t){var i=tt(e),n=vt(e),r=i.visualViewport,o=n.clientWidth,s=n.clientHeight,a=0,c=0;if(r){o=r.width,s=r.height;var h=Oi();(h||!h&&t==="fixed")&&(a=r.offsetLeft,c=r.offsetTop)}return{width:o,height:s,x:a+Pe(e),y:c}}function sr(e){var t,i=vt(e),n=ke(e),r=(t=e.ownerDocument)==null?void 0:t.body,o=Vt(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=Vt(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-n.scrollLeft+Pe(e),c=-n.scrollTop;return Tt(r||i).direction==="rtl"&&(a+=Vt(i.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}function Re(e){var t=Tt(e),i=t.overflow,n=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+n)}function dn(e){return["html","body","#document"].indexOf(pt(e))>=0?e.ownerDocument.body:ut(e)&&Re(e)?e:dn(se(e))}function _e(e,t){var i;t===void 0&&(t=[]);var n=dn(e),r=n===((i=e.ownerDocument)==null?void 0:i.body),o=tt(n),s=r?[o].concat(o.visualViewport||[],Re(n)?n:[]):n,a=t.concat(s);return r?a:a.concat(_e(se(s)))}function ni(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Wl(e,t){var i=Ht(e,!1,t==="fixed");return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}function Fo(e,t,i){return t===Li?ni(or(e,i)):$t(t)?Wl(t,i):ni(sr(vt(e)))}function Ul(e){var t=_e(se(e)),i=["absolute","fixed"].indexOf(Tt(e).position)>=0,n=i&&ut(e)?Gt(e):e;return $t(n)?t.filter(function(r){return $t(r)&&Mi(r,n)&&pt(r)!=="body"}):[]}function ar(e,t,i,n){var r=t==="clippingParents"?Ul(e):[].concat(t),o=[].concat(r,[i]),s=o[0],a=o.reduce(function(c,h){var d=Fo(e,h,n);return c.top=Vt(d.top,c.top),c.right=De(d.right,c.right),c.bottom=De(d.bottom,c.bottom),c.left=Vt(d.left,c.left),c},Fo(e,s,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Ri(e){var t=e.reference,i=e.element,n=e.placement,r=n?mt(n):null,o=n?Bt(n):null,s=t.x+t.width/2-i.width/2,a=t.y+t.height/2-i.height/2,c;switch(r){case nt:c={x:s,y:t.y-i.height};break;case ct:c={x:s,y:t.y+t.height};break;case at:c={x:t.x+t.width,y:a};break;case ot:c={x:t.x-i.width,y:a};break;default:c={x:t.x,y:t.y}}var h=r?Me(r):null;if(h!=null){var d=h==="y"?"height":"width";switch(o){case Xt:c[h]=c[h]-(t[d]/2-i[d]/2);break;case ge:c[h]=c[h]+(t[d]/2-i[d]/2);break;default:}}return c}function Nt(e,t){t===void 0&&(t={});var i=t,n=i.placement,r=n===void 0?e.placement:n,o=i.strategy,s=o===void 0?e.strategy:o,a=i.boundary,c=a===void 0?er:a,h=i.rootBoundary,d=h===void 0?Li:h,m=i.elementContext,_=m===void 0?Le:m,b=i.altBoundary,x=b===void 0?!1:b,A=i.padding,y=A===void 0?0:A,C=ki(typeof y!="number"?y:Pi(y,re)),S=_===Le?ir:Le,N=e.rects.popper,w=e.elements[x?S:_],O=ar($t(w)?w:w.contextElement||vt(e.elements.popper),c,d,s),D=Ht(e.elements.reference),I=Ri({reference:D,element:N,strategy:"absolute",placement:r}),R=ni(Object.assign({},N,I)),$=_===Le?R:D,k={top:O.top-$.top+C.top,bottom:$.bottom-O.bottom+C.bottom,left:O.left-$.left+C.left,right:$.right-O.right+C.right},j=e.modifiersData.offset;if(_===Le&&j){var V=j[r];Object.keys(k).forEach(function(Y){var et=[at,ct].indexOf(Y)>=0?1:-1,H=[nt,ct].indexOf(Y)>=0?"y":"x";k[Y]+=V[H]*et})}return k}function lr(e,t){t===void 0&&(t={});var i=t,n=i.placement,r=i.boundary,o=i.rootBoundary,s=i.padding,a=i.flipVariations,c=i.allowedAutoPlacements,h=c===void 0?Di:c,d=Bt(n),m=d?a?ln:ln.filter(function(x){return Bt(x)===d}):re,_=m.filter(function(x){return h.indexOf(x)>=0});_.length===0&&(_=m);var b=_.reduce(function(x,A){return x[A]=Nt(e,{placement:A,boundary:r,rootBoundary:o,padding:s})[mt(A)],x},{});return Object.keys(b).sort(function(x,A){return b[x]-b[A]})}function Vl(e){if(mt(e)===Ci)return[];var t=ii(e);return[un(e),t,un(t)]}function Gl(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var r=i.mainAxis,o=r===void 0?!0:r,s=i.altAxis,a=s===void 0?!0:s,c=i.fallbackPlacements,h=i.padding,d=i.boundary,m=i.rootBoundary,_=i.altBoundary,b=i.flipVariations,x=b===void 0?!0:b,A=i.allowedAutoPlacements,y=t.options.placement,C=mt(y),S=C===y,N=c||(S||!x?[ii(y)]:Vl(y)),w=[y].concat(N).reduce(function(bt,lt){return bt.concat(mt(lt)===Ci?lr(t,{placement:lt,boundary:d,rootBoundary:m,padding:h,flipVariations:x,allowedAutoPlacements:A}):lt)},[]),O=t.rects.reference,D=t.rects.popper,I=new Map,R=!0,$=w[0],k=0;k<w.length;k++){var j=w[k],V=mt(j),Y=Bt(j)===Xt,et=[nt,ct].indexOf(V)>=0,H=et?"width":"height",G=Nt(t,{placement:j,boundary:d,rootBoundary:m,altBoundary:_,padding:h}),Q=et?Y?at:ot:Y?ct:nt;O[H]>D[H]&&(Q=ii(Q));var rt=ii(Q),it=[];if(o&&it.push(G[V]<=0),a&&it.push(G[Q]<=0,G[rt]<=0),it.every(function(bt){return bt})){$=j,R=!1;break}I.set(j,it)}if(R)for(var U=x?3:1,W=function(lt){var ht=w.find(function(Dt){var dt=I.get(Dt);if(dt)return dt.slice(0,lt).every(function(It){return It})});if(ht)return $=ht,"break"},gt=U;gt>0;gt--){var St=W(gt);if(St==="break")break}t.placement!==$&&(t.modifiersData[n]._skip=!0,t.placement=$,t.reset=!0)}}var fn={name:"flip",enabled:!0,phase:"main",fn:Gl,requiresIfExists:["offset"],data:{_skip:!1}};function Wo(e,t,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function Uo(e){return[nt,at,ct,ot].some(function(t){return e[t]>=0})}function Yl(e){var t=e.state,i=e.name,n=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,s=Nt(t,{elementContext:"reference"}),a=Nt(t,{altBoundary:!0}),c=Wo(s,n),h=Wo(a,r,o),d=Uo(c),m=Uo(h);t.modifiersData[i]={referenceClippingOffsets:c,popperEscapeOffsets:h,isReferenceHidden:d,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":m})}var pn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Yl};function Kl(e,t,i){var n=mt(e),r=[ot,nt].indexOf(n)>=0?-1:1,o=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[ot,at].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}function ql(e){var t=e.state,i=e.options,n=e.name,r=i.offset,o=r===void 0?[0,0]:r,s=Di.reduce(function(d,m){return d[m]=Kl(m,t.rects,o),d},{}),a=s[t.placement],c=a.x,h=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=h),t.modifiersData[n]=s}var mn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ql};function Xl(e){var t=e.state,i=e.name;t.modifiersData[i]=Ri({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var ri={name:"popperOffsets",enabled:!0,phase:"read",fn:Xl,data:{}};function cr(e){return e==="x"?"y":"x"}function Ql(e){var t=e.state,i=e.options,n=e.name,r=i.mainAxis,o=r===void 0?!0:r,s=i.altAxis,a=s===void 0?!1:s,c=i.boundary,h=i.rootBoundary,d=i.altBoundary,m=i.padding,_=i.tether,b=_===void 0?!0:_,x=i.tetherOffset,A=x===void 0?0:x,y=Nt(t,{boundary:c,rootBoundary:h,padding:m,altBoundary:d}),C=mt(t.placement),S=Bt(t.placement),N=!S,w=Me(C),O=cr(w),D=t.modifiersData.popperOffsets,I=t.rects.reference,R=t.rects.popper,$=typeof A=="function"?A(Object.assign({},t.rects,{placement:t.placement})):A,k=typeof $=="number"?{mainAxis:$,altAxis:$}:Object.assign({mainAxis:0,altAxis:0},$),j=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,V={x:0,y:0};if(!!D){if(o){var Y,et=w==="y"?nt:ot,H=w==="y"?ct:at,G=w==="y"?"height":"width",Q=D[w],rt=Q+y[et],it=Q-y[H],U=b?-R[G]/2:0,W=S===Xt?I[G]:R[G],gt=S===Xt?-R[G]:-I[G],St=t.elements.arrow,bt=b&&St?Oe(St):{width:0,height:0},lt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Ii(),ht=lt[et],Dt=lt[H],dt=Ie(0,I[G],bt[G]),It=N?I[G]/2-U-dt-ht-k.mainAxis:W-dt-ht-k.mainAxis,Ct=N?-I[G]/2+U+dt+Dt+k.mainAxis:gt+dt+Dt+k.mainAxis,q=t.elements.arrow&&Gt(t.elements.arrow),X=q?w==="y"?q.clientTop||0:q.clientLeft||0:0,ft=(Y=j?.[w])!=null?Y:0,At=Q+It-ft-X,wt=Q+Ct-ft,Z=Ie(b?De(rt,At):rt,Q,b?Vt(it,wt):it);D[w]=Z,V[w]=Z-Q}if(a){var kt,Yt=w==="x"?nt:ot,Vi=w==="x"?ct:at,K=D[O],Se=O==="y"?"height":"width",gi=K+y[Yt],_i=K-y[Vi],he=[nt,ot].indexOf(C)!==-1,Ve=(kt=j?.[O])!=null?kt:0,Gi=he?gi:K-I[Se]-R[Se]-Ve+k.altAxis,Yi=he?K+I[Se]+R[Se]-Ve-k.altAxis:_i,Ki=b&&he?jo(Gi,K,Yi):Ie(b?Gi:gi,K,b?Yi:_i);D[O]=Ki,V[O]=Ki-K}t.modifiersData[n]=V}}var gn={name:"preventOverflow",enabled:!0,phase:"main",fn:Ql,requiresIfExists:["offset"]};function hr(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function ur(e){return e===tt(e)||!ut(e)?ke(e):hr(e)}function Zl(e){var t=e.getBoundingClientRect(),i=oe(t.width)/e.offsetWidth||1,n=oe(t.height)/e.offsetHeight||1;return i!==1||n!==1}function dr(e,t,i){i===void 0&&(i=!1);var n=ut(t),r=ut(t)&&Zl(t),o=vt(t),s=Ht(e,r,i),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!i)&&((pt(t)!=="body"||Re(o))&&(a=ur(t)),ut(t)?(c=Ht(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):o&&(c.x=Pe(o))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function Jl(e){var t=new Map,i=new Set,n=[];e.forEach(function(o){t.set(o.name,o)});function r(o){i.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!i.has(a)){var c=t.get(a);c&&r(c)}}),n.push(o)}return e.forEach(function(o){i.has(o.name)||r(o)}),n}function fr(e){var t=Jl(e);return nr.reduce(function(i,n){return i.concat(t.filter(function(r){return r.phase===n}))},[])}function pr(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function mr(e){var t=e.reduce(function(i,n){var r=i[n.name];return i[n.name]=r?Object.assign({},r,n,{options:Object.assign({},r.options,n.options),data:Object.assign({},r.data,n.data)}):n,i},{});return Object.keys(t).map(function(i){return t[i]})}var Vo={placement:"bottom",modifiers:[],strategy:"absolute"};function Go(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function $e(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,n=i===void 0?[]:i,r=t.defaultOptions,o=r===void 0?Vo:r;return function(a,c,h){h===void 0&&(h=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Vo,o),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},m=[],_=!1,b={state:d,setOptions:function(C){var S=typeof C=="function"?C(d.options):C;A(),d.options=Object.assign({},o,d.options,S),d.scrollParents={reference:$t(a)?_e(a):a.contextElement?_e(a.contextElement):[],popper:_e(c)};var N=fr(mr([].concat(n,d.options.modifiers)));return d.orderedModifiers=N.filter(function(w){return w.enabled}),x(),b.update()},forceUpdate:function(){if(!_){var C=d.elements,S=C.reference,N=C.popper;if(!!Go(S,N)){d.rects={reference:dr(S,Gt(N),d.options.strategy==="fixed"),popper:Oe(N)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(k){return d.modifiersData[k.name]=Object.assign({},k.data)});for(var w=0;w<d.orderedModifiers.length;w++){if(d.reset===!0){d.reset=!1,w=-1;continue}var O=d.orderedModifiers[w],D=O.fn,I=O.options,R=I===void 0?{}:I,$=O.name;typeof D=="function"&&(d=D({state:d,options:R,name:$,instance:b})||d)}}}},update:pr(function(){return new Promise(function(y){b.forceUpdate(),y(d)})}),destroy:function(){A(),_=!0}};if(!Go(a,c))return b;b.setOptions(h).then(function(y){!_&&h.onFirstUpdate&&h.onFirstUpdate(y)});function x(){d.orderedModifiers.forEach(function(y){var C=y.name,S=y.options,N=S===void 0?{}:S,w=y.effect;if(typeof w=="function"){var O=w({state:d,name:C,instance:b,options:N}),D=function(){};m.push(O||D)}})}function A(){m.forEach(function(y){return y()}),m=[]}return b}}var Yo=$e();var tc=[ei,ri,ti,Ze],Ko=$e({defaultModifiers:tc});var ec=[ei,ri,ti,Ze,mn,fn,gn,cn,pn],$i=$e({defaultModifiers:ec});var ve=new Map,gr={set(e,t,i){ve.has(e)||ve.set(e,new Map);let n=ve.get(e);if(!n.has(t)&&n.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(t,i)},get(e,t){return ve.has(e)&&ve.get(e).get(t)||null},remove(e,t){if(!ve.has(e))return;let i=ve.get(e);i.delete(t),i.size===0&&ve.delete(e)}},ic=1e6,nc=1e3,Or="transitionend",As=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(t,i)=>`#${CSS.escape(i)}`)),e),rc=e=>e==null?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),oc=e=>{do e+=Math.floor(Math.random()*ic);while(document.getElementById(e));return e},sc=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:i}=window.getComputedStyle(e),n=Number.parseFloat(t),r=Number.parseFloat(i);return!n&&!r?0:(t=t.split(",")[0],i=i.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(i))*nc)},xs=e=>{e.dispatchEvent(new Event(Or))},ae=e=>!e||typeof e!="object"?!1:(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u"),be=e=>ae(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(As(e)):null,pi=e=>{if(!ae(e)||e.getClientRects().length===0)return!1;let t=getComputedStyle(e).getPropertyValue("visibility")==="visible",i=e.closest("details:not([open])");if(!i)return t;if(i!==e){let n=e.closest("summary");if(n&&n.parentNode!==i||n===null)return!1}return t},we=e=>!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")?!0:typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false",Ts=e=>{if(!document.documentElement.attachShadow)return null;if(typeof e.getRootNode=="function"){let t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?Ts(e.parentNode):null},Nn=()=>{},Fi=e=>{e.offsetHeight},Ns=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,_r=[],ac=e=>{document.readyState==="loading"?(_r.length||document.addEventListener("DOMContentLoaded",()=>{for(let t of _r)t()}),_r.push(e)):e()},zt=()=>document.documentElement.dir==="rtl",Wt=e=>{ac(()=>{let t=Ns();if(t){let i=e.NAME,n=t.fn[i];t.fn[i]=e.jQueryInterface,t.fn[i].Constructor=e,t.fn[i].noConflict=()=>(t.fn[i]=n,e.jQueryInterface)}})},Lt=(e,t=[],i=e)=>typeof e=="function"?e(...t):i,Ss=(e,t,i=!0)=>{if(!i){Lt(e);return}let n=5,r=sc(t)+n,o=!1,s=({target:a})=>{a===t&&(o=!0,t.removeEventListener(Or,s),Lt(e))};t.addEventListener(Or,s),setTimeout(()=>{o||xs(t)},r)},Pr=(e,t,i,n)=>{let r=e.length,o=e.indexOf(t);return o===-1?!i&&n?e[r-1]:e[0]:(o+=i?1:-1,n&&(o=(o+r)%r),e[Math.max(0,Math.min(o,r-1))])},lc=/[^.]*(?=\..*)\.|.*/,cc=/\..*/,hc=/::\d+$/,vr={},qo=1,Cs={mouseenter:"mouseover",mouseleave:"mouseout"},uc=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ls(e,t){return t&&`${t}::${qo++}`||e.uidEvent||qo++}function Ds(e){let t=Ls(e);return e.uidEvent=t,vr[t]=vr[t]||{},vr[t]}function dc(e,t){return function i(n){return Rr(n,{delegateTarget:e}),i.oneOff&&E.off(e,n.type,t),t.apply(e,[n])}}function fc(e,t,i){return function n(r){let o=e.querySelectorAll(t);for(let{target:s}=r;s&&s!==this;s=s.parentNode)for(let a of o)if(a===s)return Rr(r,{delegateTarget:s}),n.oneOff&&E.off(e,r.type,t,i),i.apply(s,[r])}}function Os(e,t,i=null){return Object.values(e).find(n=>n.callable===t&&n.delegationSelector===i)}function Ms(e,t,i){let n=typeof t=="string",r=n?i:t||i,o=Is(e);return uc.has(o)||(o=e),[n,r,o]}function Xo(e,t,i,n,r){if(typeof t!="string"||!e)return;let[o,s,a]=Ms(t,i,n);t in Cs&&(s=(x=>function(A){if(!A.relatedTarget||A.relatedTarget!==A.delegateTarget&&!A.delegateTarget.contains(A.relatedTarget))return x.call(this,A)})(s));let c=Ds(e),h=c[a]||(c[a]={}),d=Os(h,s,o?i:null);if(d){d.oneOff=d.oneOff&&r;return}let m=Ls(s,t.replace(lc,"")),_=o?fc(e,i,s):dc(e,s);_.delegationSelector=o?i:null,_.callable=s,_.oneOff=r,_.uidEvent=m,h[m]=_,e.addEventListener(a,_,o)}function Mr(e,t,i,n,r){let o=Os(t[i],n,r);!o||(e.removeEventListener(i,o,Boolean(r)),delete t[i][o.uidEvent])}function pc(e,t,i,n){let r=t[i]||{};for(let[o,s]of Object.entries(r))o.includes(n)&&Mr(e,t,i,s.callable,s.delegationSelector)}function Is(e){return e=e.replace(cc,""),Cs[e]||e}var E={on(e,t,i,n){Xo(e,t,i,n,!1)},one(e,t,i,n){Xo(e,t,i,n,!0)},off(e,t,i,n){if(typeof t!="string"||!e)return;let[r,o,s]=Ms(t,i,n),a=s!==t,c=Ds(e),h=c[s]||{},d=t.startsWith(".");if(typeof o<"u"){if(!Object.keys(h).length)return;Mr(e,c,s,o,r?i:null);return}if(d)for(let m of Object.keys(c))pc(e,c,m,t.slice(1));for(let[m,_]of Object.entries(h)){let b=m.replace(hc,"");(!a||t.includes(b))&&Mr(e,c,s,_.callable,_.delegationSelector)}},trigger(e,t,i){if(typeof t!="string"||!e)return null;let n=Ns(),r=Is(t),o=t!==r,s=null,a=!0,c=!0,h=!1;o&&n&&(s=n.Event(t,i),n(e).trigger(s),a=!s.isPropagationStopped(),c=!s.isImmediatePropagationStopped(),h=s.isDefaultPrevented());let d=Rr(new Event(t,{bubbles:a,cancelable:!0}),i);return h&&d.preventDefault(),c&&e.dispatchEvent(d),d.defaultPrevented&&s&&s.preventDefault(),d}};function Rr(e,t={}){for(let[i,n]of Object.entries(t))try{e[i]=n}catch{Object.defineProperty(e,i,{configurable:!0,get(){return n}})}return e}function Qo(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function br(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}var le={setDataAttribute(e,t,i){e.setAttribute(`data-bs-${br(t)}`,i)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${br(t)}`)},getDataAttributes(e){if(!e)return{};let t={},i=Object.keys(e.dataset).filter(n=>n.startsWith("bs")&&!n.startsWith("bsConfig"));for(let n of i){let r=n.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),t[r]=Qo(e.dataset[n])}return t},getDataAttribute(e,t){return Qo(e.getAttribute(`data-bs-${br(t)}`))}},je=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,i){let n=ae(i)?le.getDataAttribute(i,"config"):{};return{...this.constructor.Default,...typeof n=="object"?n:{},...ae(i)?le.getDataAttributes(i):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,i=this.constructor.DefaultType){for(let[n,r]of Object.entries(i)){let o=t[n],s=ae(o)?"element":rc(o);if(!new RegExp(r).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${s}" but expected type "${r}".`)}}},mc="5.3.2",Mt=class extends je{constructor(t,i){super(),t=be(t),t&&(this._element=t,this._config=this._getConfig(i),gr.set(this._element,this.constructor.DATA_KEY,this))}dispose(){gr.remove(this._element,this.constructor.DATA_KEY),E.off(this._element,this.constructor.EVENT_KEY);for(let t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,i,n=!0){Ss(t,i,n)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return gr.get(be(t),this.DATA_KEY)}static getOrCreateInstance(t,i={}){return this.getInstance(t)||new this(t,typeof i=="object"?i:null)}static get VERSION(){return mc}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}},wr=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let i=e.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),t=i&&i!=="#"?As(i.trim()):null}return t},P={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(i=>i.matches(t))},parents(e,t){let i=[],n=e.parentNode.closest(t);for(;n;)i.push(n),n=n.parentNode.closest(t);return i},prev(e,t){let i=e.previousElementSibling;for(;i;){if(i.matches(t))return[i];i=i.previousElementSibling}return[]},next(e,t){let i=e.nextElementSibling;for(;i;){if(i.matches(t))return[i];i=i.nextElementSibling}return[]},focusableChildren(e){let t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(i=>`${i}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(i=>!we(i)&&pi(i))},getSelectorFromElement(e){let t=wr(e);return t&&P.findOne(t)?t:null},getElementFromSelector(e){let t=wr(e);return t?P.findOne(t):null},getMultipleElementsFromSelector(e){let t=wr(e);return t?P.find(t):[]}},Dn=(e,t="hide")=>{let i=`click.dismiss${e.EVENT_KEY}`,n=e.NAME;E.on(document,i,`[data-bs-dismiss="${n}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),we(this))return;let o=P.getElementFromSelector(this)||this.closest(`.${n}`);e.getOrCreateInstance(o)[t]()})},gc="alert",_c="bs.alert",ks=`.${_c}`,vc=`close${ks}`,bc=`closed${ks}`,wc="fade",Ec="show",hi=class extends Mt{static get NAME(){return gc}close(){if(E.trigger(this._element,vc).defaultPrevented)return;this._element.classList.remove(Ec);let i=this._element.classList.contains(wc);this._queueCallback(()=>this._destroyElement(),this._element,i)}_destroyElement(){this._element.remove(),E.trigger(this._element,bc),this.dispose()}static jQueryInterface(t){return this.each(function(){let i=hi.getOrCreateInstance(this);if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t](this)}})}};Dn(hi,"close");Wt(hi);var yc="button",Ac="bs.button",xc=`.${Ac}`,Tc=".data-api",Nc="active",Zo='[data-bs-toggle="button"]',Sc=`click${xc}${Tc}`,ui=class extends Mt{static get NAME(){return yc}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Nc))}static jQueryInterface(t){return this.each(function(){let i=ui.getOrCreateInstance(this);t==="toggle"&&i[t]()})}};E.on(document,Sc,Zo,e=>{e.preventDefault();let t=e.target.closest(Zo);ui.getOrCreateInstance(t).toggle()});Wt(ui);var Cc="swipe",mi=".bs.swipe",Lc=`touchstart${mi}`,Dc=`touchmove${mi}`,Oc=`touchend${mi}`,Mc=`pointerdown${mi}`,Ic=`pointerup${mi}`,kc="touch",Pc="pen",Rc="pointer-event",$c=40,Hc={endCallback:null,leftCallback:null,rightCallback:null},Bc={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"},di=class extends je{constructor(t,i){super(),this._element=t,!(!t||!di.isSupported())&&(this._config=this._getConfig(i),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Hc}static get DefaultType(){return Bc}static get NAME(){return Cc}dispose(){E.off(this._element,mi)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Lt(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){let t=Math.abs(this._deltaX);if(t<=$c)return;let i=t/this._deltaX;this._deltaX=0,i&&Lt(i>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(E.on(this._element,Mc,t=>this._start(t)),E.on(this._element,Ic,t=>this._end(t)),this._element.classList.add(Rc)):(E.on(this._element,Lc,t=>this._start(t)),E.on(this._element,Dc,t=>this._move(t)),E.on(this._element,Oc,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===Pc||t.pointerType===kc)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}},jc="carousel",zc="bs.carousel",Te=`.${zc}`,Ps=".data-api",Fc="ArrowLeft",Wc="ArrowRight",Uc=500,Hi="next",oi="prev",ai="left",xn="right",Vc=`slide${Te}`,Er=`slid${Te}`,Gc=`keydown${Te}`,Yc=`mouseenter${Te}`,Kc=`mouseleave${Te}`,qc=`dragstart${Te}`,Xc=`load${Te}${Ps}`,Qc=`click${Te}${Ps}`,Rs="carousel",vn="active",Zc="slide",Jc="carousel-item-end",th="carousel-item-start",eh="carousel-item-next",ih="carousel-item-prev",$s=".active",Hs=".carousel-item",nh=$s+Hs,rh=".carousel-item img",oh=".carousel-indicators",sh="[data-bs-slide], [data-bs-slide-to]",ah='[data-bs-ride="carousel"]',lh={[Fc]:xn,[Wc]:ai},ch={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},hh={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"},ze=class extends Mt{constructor(t,i){super(t,i),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=P.findOne(oh,this._element),this._addEventListeners(),this._config.ride===Rs&&this.cycle()}static get Default(){return ch}static get DefaultType(){return hh}static get NAME(){return jc}next(){this._slide(Hi)}nextWhenVisible(){!document.hidden&&pi(this._element)&&this.next()}prev(){this._slide(oi)}pause(){this._isSliding&&xs(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(!!this._config.ride){if(this._isSliding){E.one(this._element,Er,()=>this.cycle());return}this.cycle()}}to(t){let i=this._getItems();if(t>i.length-1||t<0)return;if(this._isSliding){E.one(this._element,Er,()=>this.to(t));return}let n=this._getItemIndex(this._getActive());if(n===t)return;let r=t>n?Hi:oi;this._slide(r,i[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&E.on(this._element,Gc,t=>this._keydown(t)),this._config.pause==="hover"&&(E.on(this._element,Yc,()=>this.pause()),E.on(this._element,Kc,()=>this._maybeEnableCycle())),this._config.touch&&di.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let n of P.find(rh,this._element))E.on(n,qc,r=>r.preventDefault());let i={leftCallback:()=>this._slide(this._directionToOrder(ai)),rightCallback:()=>this._slide(this._directionToOrder(xn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Uc+this._config.interval))}};this._swipeHelper=new di(this._element,i)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;let i=lh[t.key];i&&(t.preventDefault(),this._slide(this._directionToOrder(i)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;let i=P.findOne($s,this._indicatorsElement);i.classList.remove(vn),i.removeAttribute("aria-current");let n=P.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);n&&(n.classList.add(vn),n.setAttribute("aria-current","true"))}_updateInterval(){let t=this._activeElement||this._getActive();if(!t)return;let i=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=i||this._config.defaultInterval}_slide(t,i=null){if(this._isSliding)return;let n=this._getActive(),r=t===Hi,o=i||Pr(this._getItems(),n,r,this._config.wrap);if(o===n)return;let s=this._getItemIndex(o),a=b=>E.trigger(this._element,b,{relatedTarget:o,direction:this._orderToDirection(t),from:this._getItemIndex(n),to:s});if(a(Vc).defaultPrevented||!n||!o)return;let h=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=o;let d=r?th:Jc,m=r?eh:ih;o.classList.add(m),Fi(o),n.classList.add(d),o.classList.add(d);let _=()=>{o.classList.remove(d,m),o.classList.add(vn),n.classList.remove(vn,m,d),this._isSliding=!1,a(Er)};this._queueCallback(_,n,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains(Zc)}_getActive(){return P.findOne(nh,this._element)}_getItems(){return P.find(Hs,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return zt()?t===ai?oi:Hi:t===ai?Hi:oi}_orderToDirection(t){return zt()?t===oi?ai:xn:t===oi?xn:ai}static jQueryInterface(t){return this.each(function(){let i=ze.getOrCreateInstance(this,t);if(typeof t=="number"){i.to(t);return}if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t]()}})}};E.on(document,Qc,sh,function(e){let t=P.getElementFromSelector(this);if(!t||!t.classList.contains(Rs))return;e.preventDefault();let i=ze.getOrCreateInstance(t),n=this.getAttribute("data-bs-slide-to");if(n){i.to(n),i._maybeEnableCycle();return}if(le.getDataAttribute(this,"slide")==="next"){i.next(),i._maybeEnableCycle();return}i.prev(),i._maybeEnableCycle()});E.on(window,Xc,()=>{let e=P.find(ah);for(let t of e)ze.getOrCreateInstance(t)});Wt(ze);var uh="collapse",dh="bs.collapse",Wi=`.${dh}`,fh=".data-api",ph=`show${Wi}`,mh=`shown${Wi}`,gh=`hide${Wi}`,_h=`hidden${Wi}`,vh=`click${Wi}${fh}`,yr="show",ci="collapse",bn="collapsing",bh="collapsed",wh=`:scope .${ci} .${ci}`,Eh="collapse-horizontal",yh="width",Ah="height",xh=".collapse.show, .collapse.collapsing",Ir='[data-bs-toggle="collapse"]',Th={parent:null,toggle:!0},Nh={parent:"(null|element)",toggle:"boolean"},Fe=class extends Mt{constructor(t,i){super(t,i),this._isTransitioning=!1,this._triggerArray=[];let n=P.find(Ir);for(let r of n){let o=P.getSelectorFromElement(r),s=P.find(o).filter(a=>a===this._element);o!==null&&s.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Th}static get DefaultType(){return Nh}static get NAME(){return uh}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(xh).filter(a=>a!==this._element).map(a=>Fe.getOrCreateInstance(a,{toggle:!1}))),t.length&&t[0]._isTransitioning||E.trigger(this._element,ph).defaultPrevented)return;for(let a of t)a.hide();let n=this._getDimension();this._element.classList.remove(ci),this._element.classList.add(bn),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let r=()=>{this._isTransitioning=!1,this._element.classList.remove(bn),this._element.classList.add(ci,yr),this._element.style[n]="",E.trigger(this._element,mh)},s=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[n]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown()||E.trigger(this._element,gh).defaultPrevented)return;let i=this._getDimension();this._element.style[i]=`${this._element.getBoundingClientRect()[i]}px`,Fi(this._element),this._element.classList.add(bn),this._element.classList.remove(ci,yr);for(let r of this._triggerArray){let o=P.getElementFromSelector(r);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;let n=()=>{this._isTransitioning=!1,this._element.classList.remove(bn),this._element.classList.add(ci),E.trigger(this._element,_h)};this._element.style[i]="",this._queueCallback(n,this._element,!0)}_isShown(t=this._element){return t.classList.contains(yr)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=be(t.parent),t}_getDimension(){return this._element.classList.contains(Eh)?yh:Ah}_initializeChildren(){if(!this._config.parent)return;let t=this._getFirstLevelChildren(Ir);for(let i of t){let n=P.getElementFromSelector(i);n&&this._addAriaAndCollapsedClass([i],this._isShown(n))}}_getFirstLevelChildren(t){let i=P.find(wh,this._config.parent);return P.find(t,this._config.parent).filter(n=>!i.includes(n))}_addAriaAndCollapsedClass(t,i){if(!!t.length)for(let n of t)n.classList.toggle(bh,!i),n.setAttribute("aria-expanded",i)}static jQueryInterface(t){let i={};return typeof t=="string"&&/show|hide/.test(t)&&(i.toggle=!1),this.each(function(){let n=Fe.getOrCreateInstance(this,i);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}};E.on(document,vh,Ir,function(e){(e.target.tagName==="A"||e.delegateTarget&&e.delegateTarget.tagName==="A")&&e.preventDefault();for(let t of P.getMultipleElementsFromSelector(this))Fe.getOrCreateInstance(t,{toggle:!1}).toggle()});Wt(Fe);var Jo="dropdown",Sh="bs.dropdown",We=`.${Sh}`,$r=".data-api",Ch="Escape",ts="Tab",Lh="ArrowUp",es="ArrowDown",Dh=2,Oh=`hide${We}`,Mh=`hidden${We}`,Ih=`show${We}`,kh=`shown${We}`,Bs=`click${We}${$r}`,js=`keydown${We}${$r}`,Ph=`keyup${We}${$r}`,li="show",Rh="dropup",$h="dropend",Hh="dropstart",Bh="dropup-center",jh="dropdown-center",He='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',zh=`${He}.${li}`,Tn=".dropdown-menu",Fh=".navbar",Wh=".navbar-nav",Uh=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Vh=zt()?"top-end":"top-start",Gh=zt()?"top-start":"top-end",Yh=zt()?"bottom-end":"bottom-start",Kh=zt()?"bottom-start":"bottom-end",qh=zt()?"left-start":"right-start",Xh=zt()?"right-start":"left-start",Qh="top",Zh="bottom",Jh={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},tu={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"},jt=class extends Mt{constructor(t,i){super(t,i),this._popper=null,this._parent=this._element.parentNode,this._menu=P.next(this._element,Tn)[0]||P.prev(this._element,Tn)[0]||P.findOne(Tn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Jh}static get DefaultType(){return tu}static get NAME(){return Jo}toggle(){return this._isShown()?this.hide():this.show()}show(){if(we(this._element)||this._isShown())return;let t={relatedTarget:this._element};if(!E.trigger(this._element,Ih,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Wh))for(let n of[].concat(...document.body.children))E.on(n,"mouseover",Nn);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(li),this._element.classList.add(li),E.trigger(this._element,kh,t)}}hide(){if(we(this._element)||!this._isShown())return;let t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!E.trigger(this._element,Oh,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(let n of[].concat(...document.body.children))E.off(n,"mouseover",Nn);this._popper&&this._popper.destroy(),this._menu.classList.remove(li),this._element.classList.remove(li),this._element.setAttribute("aria-expanded","false"),le.removeDataAttribute(this._menu,"popper"),E.trigger(this._element,Mh,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!ae(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${Jo.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof _n>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:ae(this._config.reference)?t=be(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);let i=this._getPopperConfig();this._popper=$i(t,this._menu,i)}_isShown(){return this._menu.classList.contains(li)}_getPlacement(){let t=this._parent;if(t.classList.contains($h))return qh;if(t.classList.contains(Hh))return Xh;if(t.classList.contains(Bh))return Qh;if(t.classList.contains(jh))return Zh;let i=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(Rh)?i?Gh:Vh:i?Kh:Yh}_detectNavbar(){return this._element.closest(Fh)!==null}_getOffset(){let{offset:t}=this._config;return typeof t=="string"?t.split(",").map(i=>Number.parseInt(i,10)):typeof t=="function"?i=>t(i,this._element):t}_getPopperConfig(){let t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(le.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...Lt(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:i}){let n=P.find(Uh,this._menu).filter(r=>pi(r));!n.length||Pr(n,i,t===es,!n.includes(i)).focus()}static jQueryInterface(t){return this.each(function(){let i=jt.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t]()}})}static clearMenus(t){if(t.button===Dh||t.type==="keyup"&&t.key!==ts)return;let i=P.find(zh);for(let n of i){let r=jt.getInstance(n);if(!r||r._config.autoClose===!1)continue;let o=t.composedPath(),s=o.includes(r._menu);if(o.includes(r._element)||r._config.autoClose==="inside"&&!s||r._config.autoClose==="outside"&&s||r._menu.contains(t.target)&&(t.type==="keyup"&&t.key===ts||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;let a={relatedTarget:r._element};t.type==="click"&&(a.clickEvent=t),r._completeHide(a)}}static dataApiKeydownHandler(t){let i=/input|textarea/i.test(t.target.tagName),n=t.key===Ch,r=[Lh,es].includes(t.key);if(!r&&!n||i&&!n)return;t.preventDefault();let o=this.matches(He)?this:P.prev(this,He)[0]||P.next(this,He)[0]||P.findOne(He,t.delegateTarget.parentNode),s=jt.getOrCreateInstance(o);if(r){t.stopPropagation(),s.show(),s._selectMenuItem(t);return}s._isShown()&&(t.stopPropagation(),s.hide(),o.focus())}};E.on(document,js,He,jt.dataApiKeydownHandler);E.on(document,js,Tn,jt.dataApiKeydownHandler);E.on(document,Bs,jt.clearMenus);E.on(document,Ph,jt.clearMenus);E.on(document,Bs,He,function(e){e.preventDefault(),jt.getOrCreateInstance(this).toggle()});Wt(jt);var zs="backdrop",eu="fade",is="show",ns=`mousedown.bs.${zs}`,iu={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},nu={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"},Sn=class extends je{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return iu}static get DefaultType(){return nu}static get NAME(){return zs}show(t){if(!this._config.isVisible){Lt(t);return}this._append();let i=this._getElement();this._config.isAnimated&&Fi(i),i.classList.add(is),this._emulateAnimation(()=>{Lt(t)})}hide(t){if(!this._config.isVisible){Lt(t);return}this._getElement().classList.remove(is),this._emulateAnimation(()=>{this.dispose(),Lt(t)})}dispose(){!this._isAppended||(E.off(this._element,ns),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(eu),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=be(t.rootElement),t}_append(){if(this._isAppended)return;let t=this._getElement();this._config.rootElement.append(t),E.on(t,ns,()=>{Lt(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){Ss(t,this._getElement(),this._config.isAnimated)}},ru="focustrap",ou="bs.focustrap",Cn=`.${ou}`,su=`focusin${Cn}`,au=`keydown.tab${Cn}`,lu="Tab",cu="forward",rs="backward",hu={autofocus:!0,trapElement:null},uu={autofocus:"boolean",trapElement:"element"},Ln=class extends je{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return hu}static get DefaultType(){return uu}static get NAME(){return ru}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),E.off(document,Cn),E.on(document,su,t=>this._handleFocusin(t)),E.on(document,au,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,E.off(document,Cn))}_handleFocusin(t){let{trapElement:i}=this._config;if(t.target===document||t.target===i||i.contains(t.target))return;let n=P.focusableChildren(i);n.length===0?i.focus():this._lastTabNavDirection===rs?n[n.length-1].focus():n[0].focus()}_handleKeydown(t){t.key===lu&&(this._lastTabNavDirection=t.shiftKey?rs:cu)}},os=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ss=".sticky-top",wn="padding-right",as="margin-right",ji=class{constructor(){this._element=document.body}getWidth(){let t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){let t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,wn,i=>i+t),this._setElementAttributes(os,wn,i=>i+t),this._setElementAttributes(ss,as,i=>i-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,wn),this._resetElementAttributes(os,wn),this._resetElementAttributes(ss,as)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,i,n){let r=this.getWidth(),o=s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+r)return;this._saveInitialAttribute(s,i);let a=window.getComputedStyle(s).getPropertyValue(i);s.style.setProperty(i,`${n(Number.parseFloat(a))}px`)};this._applyManipulationCallback(t,o)}_saveInitialAttribute(t,i){let n=t.style.getPropertyValue(i);n&&le.setDataAttribute(t,i,n)}_resetElementAttributes(t,i){let n=r=>{let o=le.getDataAttribute(r,i);if(o===null){r.style.removeProperty(i);return}le.removeDataAttribute(r,i),r.style.setProperty(i,o)};this._applyManipulationCallback(t,n)}_applyManipulationCallback(t,i){if(ae(t)){i(t);return}for(let n of P.find(t,this._element))i(n)}},du="modal",fu="bs.modal",Ft=`.${fu}`,pu=".data-api",mu="Escape",gu=`hide${Ft}`,_u=`hidePrevented${Ft}`,Fs=`hidden${Ft}`,Ws=`show${Ft}`,vu=`shown${Ft}`,bu=`resize${Ft}`,wu=`click.dismiss${Ft}`,Eu=`mousedown.dismiss${Ft}`,yu=`keydown.dismiss${Ft}`,Au=`click${Ft}${pu}`,ls="modal-open",xu="fade",cs="show",Ar="modal-static",Tu=".modal.show",Nu=".modal-dialog",Su=".modal-body",Cu='[data-bs-toggle="modal"]',Lu={backdrop:!0,focus:!0,keyboard:!0},Du={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},Ee=class extends Mt{constructor(t,i){super(t,i),this._dialog=P.findOne(Nu,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ji,this._addEventListeners()}static get Default(){return Lu}static get DefaultType(){return Du}static get NAME(){return du}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||E.trigger(this._element,Ws,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ls),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||E.trigger(this._element,gu).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(cs),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){E.off(window,Ft),E.off(this._dialog,Ft),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Sn({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ln({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let i=P.findOne(Su,this._dialog);i&&(i.scrollTop=0),Fi(this._element),this._element.classList.add(cs);let n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,E.trigger(this._element,vu,{relatedTarget:t})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){E.on(this._element,yu,t=>{if(t.key===mu){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),E.on(window,bu,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),E.on(this._element,Eu,t=>{E.one(this._element,wu,i=>{if(!(this._element!==t.target||this._element!==i.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ls),this._resetAdjustments(),this._scrollBar.reset(),E.trigger(this._element,Fs)})}_isAnimated(){return this._element.classList.contains(xu)}_triggerBackdropTransition(){if(E.trigger(this._element,_u).defaultPrevented)return;let i=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;n==="hidden"||this._element.classList.contains(Ar)||(i||(this._element.style.overflowY="hidden"),this._element.classList.add(Ar),this._queueCallback(()=>{this._element.classList.remove(Ar),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._scrollBar.getWidth(),n=i>0;if(n&&!t){let r=zt()?"paddingLeft":"paddingRight";this._element.style[r]=`${i}px`}if(!n&&t){let r=zt()?"paddingRight":"paddingLeft";this._element.style[r]=`${i}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,i){return this.each(function(){let n=Ee.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t](i)}})}};E.on(document,Au,Cu,function(e){let t=P.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),E.one(t,Ws,r=>{r.defaultPrevented||E.one(t,Fs,()=>{pi(this)&&this.focus()})});let i=P.findOne(Tu);i&&Ee.getInstance(i).hide(),Ee.getOrCreateInstance(t).toggle(this)});Dn(Ee);Wt(Ee);var Ou="offcanvas",Mu="bs.offcanvas",ce=`.${Mu}`,Us=".data-api",Iu=`load${ce}${Us}`,ku="Escape",hs="show",us="showing",ds="hiding",Pu="offcanvas-backdrop",Vs=".offcanvas.show",Ru=`show${ce}`,$u=`shown${ce}`,Hu=`hide${ce}`,fs=`hidePrevented${ce}`,Gs=`hidden${ce}`,Bu=`resize${ce}`,ju=`click${ce}${Us}`,zu=`keydown.dismiss${ce}`,Fu='[data-bs-toggle="offcanvas"]',Wu={backdrop:!0,keyboard:!0,scroll:!1},Uu={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"},Qt=class extends Mt{constructor(t,i){super(t,i),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Wu}static get DefaultType(){return Uu}static get NAME(){return Ou}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||E.trigger(this._element,Ru,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ji().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(us);let n=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(hs),this._element.classList.remove(us),E.trigger(this._element,$u,{relatedTarget:t})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown||E.trigger(this._element,Hu).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(ds),this._backdrop.hide();let i=()=>{this._element.classList.remove(hs,ds),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ji().reset(),E.trigger(this._element,Gs)};this._queueCallback(i,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let t=()=>{if(this._config.backdrop==="static"){E.trigger(this._element,fs);return}this.hide()},i=Boolean(this._config.backdrop);return new Sn({className:Pu,isVisible:i,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:i?t:null})}_initializeFocusTrap(){return new Ln({trapElement:this._element})}_addEventListeners(){E.on(this._element,zu,t=>{if(t.key===ku){if(this._config.keyboard){this.hide();return}E.trigger(this._element,fs)}})}static jQueryInterface(t){return this.each(function(){let i=Qt.getOrCreateInstance(this,t);if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t](this)}})}};E.on(document,ju,Fu,function(e){let t=P.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),we(this))return;E.one(t,Gs,()=>{pi(this)&&this.focus()});let i=P.findOne(Vs);i&&i!==t&&Qt.getInstance(i).hide(),Qt.getOrCreateInstance(t).toggle(this)});E.on(window,Iu,()=>{for(let e of P.find(Vs))Qt.getOrCreateInstance(e).show()});E.on(window,Bu,()=>{for(let e of P.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(e).position!=="fixed"&&Qt.getOrCreateInstance(e).hide()});Dn(Qt);Wt(Qt);var Vu=/^aria-[\w-]*$/i,Ys={"*":["class","dir","id","lang","role",Vu],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Gu=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Yu=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Ku=(e,t)=>{let i=e.nodeName.toLowerCase();return t.includes(i)?Gu.has(i)?Boolean(Yu.test(e.nodeValue)):!0:t.filter(n=>n instanceof RegExp).some(n=>n.test(i))};function qu(e,t,i){if(!e.length)return e;if(i&&typeof i=="function")return i(e);let r=new window.DOMParser().parseFromString(e,"text/html"),o=[].concat(...r.body.querySelectorAll("*"));for(let s of o){let a=s.nodeName.toLowerCase();if(!Object.keys(t).includes(a)){s.remove();continue}let c=[].concat(...s.attributes),h=[].concat(t["*"]||[],t[a]||[]);for(let d of c)Ku(d,h)||s.removeAttribute(d.nodeName)}return r.body.innerHTML}var Xu="TemplateFactory",Qu={allowList:Ys,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Zu={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ju={entry:"(string|element|function|null)",selector:"(string|element)"},kr=class extends je{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Qu}static get DefaultType(){return Zu}static get NAME(){return Xu}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){let t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(let[r,o]of Object.entries(this._config.content))this._setContent(t,o,r);let i=t.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&i.classList.add(...n.split(" ")),i}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(let[i,n]of Object.entries(t))super._typeCheckConfig({selector:i,entry:n},Ju)}_setContent(t,i,n){let r=P.findOne(n,t);if(!!r){if(i=this._resolvePossibleFunction(i),!i){r.remove();return}if(ae(i)){this._putElementInTemplate(be(i),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(i);return}r.textContent=i}}_maybeSanitize(t){return this._config.sanitize?qu(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return Lt(t,[this])}_putElementInTemplate(t,i){if(this._config.html){i.innerHTML="",i.append(t);return}i.textContent=t.textContent}},td="tooltip",ed=new Set(["sanitize","allowList","sanitizeFn"]),xr="fade",id="modal",En="show",nd=".tooltip-inner",ps=`.${id}`,ms="hide.bs.modal",Bi="hover",Tr="focus",rd="click",od="manual",sd="hide",ad="hidden",ld="show",cd="shown",hd="inserted",ud="click",dd="focusin",fd="focusout",pd="mouseenter",md="mouseleave",gd={AUTO:"auto",TOP:"top",RIGHT:zt()?"left":"right",BOTTOM:"bottom",LEFT:zt()?"right":"left"},_d={allowList:Ys,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},vd={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"},ye=class extends Mt{constructor(t,i){if(typeof _n>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,i),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return _d}static get DefaultType(){return vd}static get NAME(){return td}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(!!this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),E.off(this._element.closest(ps),ms,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let t=E.trigger(this._element,this.constructor.eventName(ld)),n=(Ts(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!n)return;this._disposePopper();let r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));let{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(r),E.trigger(this._element,this.constructor.eventName(hd))),this._popper=this._createPopper(r),r.classList.add(En),"ontouchstart"in document.documentElement)for(let a of[].concat(...document.body.children))E.on(a,"mouseover",Nn);let s=()=>{E.trigger(this._element,this.constructor.eventName(cd)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(s,this.tip,this._isAnimated())}hide(){if(!this._isShown()||E.trigger(this._element,this.constructor.eventName(sd)).defaultPrevented)return;if(this._getTipElement().classList.remove(En),"ontouchstart"in document.documentElement)for(let r of[].concat(...document.body.children))E.off(r,"mouseover",Nn);this._activeTrigger[rd]=!1,this._activeTrigger[Tr]=!1,this._activeTrigger[Bi]=!1,this._isHovered=null;let n=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),E.trigger(this._element,this.constructor.eventName(ad)))};this._queueCallback(n,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){let i=this._getTemplateFactory(t).toHtml();if(!i)return null;i.classList.remove(xr,En),i.classList.add(`bs-${this.constructor.NAME}-auto`);let n=oc(this.constructor.NAME).toString();return i.setAttribute("id",n),this._isAnimated()&&i.classList.add(xr),i}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new kr({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[nd]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(xr)}_isShown(){return this.tip&&this.tip.classList.contains(En)}_createPopper(t){let i=Lt(this._config.placement,[this,t,this._element]),n=gd[i.toUpperCase()];return $i(this._element,t,this._getPopperConfig(n))}_getOffset(){let{offset:t}=this._config;return typeof t=="string"?t.split(",").map(i=>Number.parseInt(i,10)):typeof t=="function"?i=>t(i,this._element):t}_resolvePossibleFunction(t){return Lt(t,[this._element])}_getPopperConfig(t){let i={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:n=>{this._getTipElement().setAttribute("data-popper-placement",n.state.placement)}}]};return{...i,...Lt(this._config.popperConfig,[i])}}_setListeners(){let t=this._config.trigger.split(" ");for(let i of t)if(i==="click")E.on(this._element,this.constructor.eventName(ud),this._config.selector,n=>{this._initializeOnDelegatedTarget(n).toggle()});else if(i!==od){let n=i===Bi?this.constructor.eventName(pd):this.constructor.eventName(dd),r=i===Bi?this.constructor.eventName(md):this.constructor.eventName(fd);E.on(this._element,n,this._config.selector,o=>{let s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusin"?Tr:Bi]=!0,s._enter()}),E.on(this._element,r,this._config.selector,o=>{let s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusout"?Tr:Bi]=s._element.contains(o.relatedTarget),s._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},E.on(this._element.closest(ps),ms,this._hideModalHandler)}_fixTitle(){let t=this._element.getAttribute("title");!t||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,i){clearTimeout(this._timeout),this._timeout=setTimeout(t,i)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){let i=le.getDataAttributes(this._element);for(let n of Object.keys(i))ed.has(n)&&delete i[n];return t={...i,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:be(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){let t={};for(let[i,n]of Object.entries(this._config))this.constructor.Default[i]!==n&&(t[i]=n);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){let i=ye.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t]()}})}};Wt(ye);var bd="popover",wd=".popover-header",Ed=".popover-body",yd={...ye.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Ad={...ye.DefaultType,content:"(null|string|element|function)"},zi=class extends ye{static get Default(){return yd}static get DefaultType(){return Ad}static get NAME(){return bd}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[wd]:this._getTitle(),[Ed]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){let i=zi.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t]()}})}};Wt(zi);var xd="scrollspy",Td="bs.scrollspy",Hr=`.${Td}`,Nd=".data-api",Sd=`activate${Hr}`,gs=`click${Hr}`,Cd=`load${Hr}${Nd}`,Ld="dropdown-item",si="active",Dd='[data-bs-spy="scroll"]',Nr="[href]",Od=".nav, .list-group",_s=".nav-link",Md=".nav-item",Id=".list-group-item",kd=`${_s}, ${Md} > ${_s}, ${Id}`,Pd=".dropdown",Rd=".dropdown-toggle",$d={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Hd={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"},fi=class extends Mt{constructor(t,i){super(t,i),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return $d}static get DefaultType(){return Hd}static get NAME(){return xd}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(let t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=be(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(i=>Number.parseFloat(i))),t}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(E.off(this._config.target,gs),E.on(this._config.target,gs,Nr,t=>{let i=this._observableSections.get(t.target.hash);if(i){t.preventDefault();let n=this._rootElement||window,r=i.offsetTop-this._element.offsetTop;if(n.scrollTo){n.scrollTo({top:r,behavior:"smooth"});return}n.scrollTop=r}}))}_getNewObserver(){let t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(i=>this._observerCallback(i),t)}_observerCallback(t){let i=s=>this._targetLinks.get(`#${s.target.id}`),n=s=>{this._previousScrollData.visibleEntryTop=s.target.offsetTop,this._process(i(s))},r=(this._rootElement||document.documentElement).scrollTop,o=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(let s of t){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(i(s));continue}let a=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&a){if(n(s),!r)return;continue}!o&&!a&&n(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let t=P.find(Nr,this._config.target);for(let i of t){if(!i.hash||we(i))continue;let n=P.findOne(decodeURI(i.hash),this._element);pi(n)&&(this._targetLinks.set(decodeURI(i.hash),i),this._observableSections.set(i.hash,n))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(si),this._activateParents(t),E.trigger(this._element,Sd,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(Ld)){P.findOne(Rd,t.closest(Pd)).classList.add(si);return}for(let i of P.parents(t,Od))for(let n of P.prev(i,kd))n.classList.add(si)}_clearActiveClass(t){t.classList.remove(si);let i=P.find(`${Nr}.${si}`,t);for(let n of i)n.classList.remove(si)}static jQueryInterface(t){return this.each(function(){let i=fi.getOrCreateInstance(this,t);if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t]()}})}};E.on(window,Cd,()=>{for(let e of P.find(Dd))fi.getOrCreateInstance(e)});Wt(fi);var Bd="tab",jd="bs.tab",Ue=`.${jd}`,zd=`hide${Ue}`,Fd=`hidden${Ue}`,Wd=`show${Ue}`,Ud=`shown${Ue}`,Vd=`click${Ue}`,Gd=`keydown${Ue}`,Yd=`load${Ue}`,Kd="ArrowLeft",vs="ArrowRight",qd="ArrowUp",bs="ArrowDown",Sr="Home",ws="End",Be="active",Es="fade",Cr="show",Xd="dropdown",Ks=".dropdown-toggle",Qd=".dropdown-menu",Lr=`:not(${Ks})`,Zd='.list-group, .nav, [role="tablist"]',Jd=".nav-item, .list-group-item",tf=`.nav-link${Lr}, .list-group-item${Lr}, [role="tab"]${Lr}`,qs='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Dr=`${tf}, ${qs}`,ef=`.${Be}[data-bs-toggle="tab"], .${Be}[data-bs-toggle="pill"], .${Be}[data-bs-toggle="list"]`,Ae=class extends Mt{constructor(t){super(t),this._parent=this._element.closest(Zd),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),E.on(this._element,Gd,i=>this._keydown(i)))}static get NAME(){return Bd}show(){let t=this._element;if(this._elemIsActive(t))return;let i=this._getActiveElem(),n=i?E.trigger(i,zd,{relatedTarget:t}):null;E.trigger(t,Wd,{relatedTarget:i}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(i,t),this._activate(t,i))}_activate(t,i){if(!t)return;t.classList.add(Be),this._activate(P.getElementFromSelector(t));let n=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(Cr);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),E.trigger(t,Ud,{relatedTarget:i})};this._queueCallback(n,t,t.classList.contains(Es))}_deactivate(t,i){if(!t)return;t.classList.remove(Be),t.blur(),this._deactivate(P.getElementFromSelector(t));let n=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(Cr);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),E.trigger(t,Fd,{relatedTarget:i})};this._queueCallback(n,t,t.classList.contains(Es))}_keydown(t){if(![Kd,vs,qd,bs,Sr,ws].includes(t.key))return;t.stopPropagation(),t.preventDefault();let i=this._getChildren().filter(r=>!we(r)),n;if([Sr,ws].includes(t.key))n=i[t.key===Sr?0:i.length-1];else{let r=[vs,bs].includes(t.key);n=Pr(i,t.target,r,!0)}n&&(n.focus({preventScroll:!0}),Ae.getOrCreateInstance(n).show())}_getChildren(){return P.find(Dr,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,i){this._setAttributeIfNotExists(t,"role","tablist");for(let n of i)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);let i=this._elemIsActive(t),n=this._getOuterElement(t);t.setAttribute("aria-selected",i),n!==t&&this._setAttributeIfNotExists(n,"role","presentation"),i||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){let i=P.getElementFromSelector(t);!i||(this._setAttributeIfNotExists(i,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(i,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,i){let n=this._getOuterElement(t);if(!n.classList.contains(Xd))return;let r=(o,s)=>{let a=P.findOne(o,n);a&&a.classList.toggle(s,i)};r(Ks,Be),r(Qd,Cr),n.setAttribute("aria-expanded",i)}_setAttributeIfNotExists(t,i,n){t.hasAttribute(i)||t.setAttribute(i,n)}_elemIsActive(t){return t.classList.contains(Be)}_getInnerElement(t){return t.matches(Dr)?t:P.findOne(Dr,t)}_getOuterElement(t){return t.closest(Jd)||t}static jQueryInterface(t){return this.each(function(){let i=Ae.getOrCreateInstance(this);if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t]()}})}};E.on(document,Vd,qs,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),!we(this)&&Ae.getOrCreateInstance(this).show()});E.on(window,Yd,()=>{for(let e of P.find(ef))Ae.getOrCreateInstance(e)});Wt(Ae);var nf="toast",rf="bs.toast",Ne=`.${rf}`,of=`mouseover${Ne}`,sf=`mouseout${Ne}`,af=`focusin${Ne}`,lf=`focusout${Ne}`,cf=`hide${Ne}`,hf=`hidden${Ne}`,uf=`show${Ne}`,df=`shown${Ne}`,ff="fade",ys="hide",yn="show",An="showing",pf={animation:"boolean",autohide:"boolean",delay:"number"},mf={animation:!0,autohide:!0,delay:5e3},xe=class extends Mt{constructor(t,i){super(t,i),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return mf}static get DefaultType(){return pf}static get NAME(){return nf}show(){if(E.trigger(this._element,uf).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(ff);let i=()=>{this._element.classList.remove(An),E.trigger(this._element,df),this._maybeScheduleHide()};this._element.classList.remove(ys),Fi(this._element),this._element.classList.add(yn,An),this._queueCallback(i,this._element,this._config.animation)}hide(){if(!this.isShown()||E.trigger(this._element,cf).defaultPrevented)return;let i=()=>{this._element.classList.add(ys),this._element.classList.remove(An,yn),E.trigger(this._element,hf)};this._element.classList.add(An),this._queueCallback(i,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(yn),super.dispose()}isShown(){return this._element.classList.contains(yn)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(t,i){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=i;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=i;break}}if(i){this._clearTimeout();return}let n=t.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){E.on(this._element,of,t=>this._onInteraction(t,!0)),E.on(this._element,sf,t=>this._onInteraction(t,!1)),E.on(this._element,af,t=>this._onInteraction(t,!0)),E.on(this._element,lf,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){let i=xe.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t](this)}})}};Dn(xe);Wt(xe);var Xs=`<div class="container" style="margin-top: 100px">
  <div class="options-container"></div>
  <div class="row" style="display: none">
    <div class="col">
      <ul class="list-group">
        <!--Checkbox -->
        <li
          class="checkbox-template list-group-item p-4 d-flex justify-content-between align-items-center"
        >
          <div class="ms-2 me-5">
            <div class="fw-bold control-title">Subheading title</div>
            <small class="control-description disabled"
              >Content for list item ent for list item ent for list ent for list
              item ent for list ent for list item ent for list ent for list item
              ent for list</small
            >
          </div>
          <input
            class="control-input form-check-input me-1"
            type="checkbox"
            value=""
          />
        </li>

        <!--Select -->
        <li
          class="select-template list-group-item p-4 d-flex justify-content-between align-items-center"
        >
          <div class="ms-2 me-5">
            <div class="control-title fw-bold">Subheading title</div>
            <small class="control-description disabled"
              >Content for list item ent for for list ent for list item ent for
              list</small
            >
          </div>
          <select
            autocomplete="off"
            class="control-input form-select form-select-md"
            aria-label="choose an option"
            style="max-width: 200px"
          ></select>
        </li>

        <!--Range -->
        <li class="range-template list-group-item p-4">
          <div class="ms-2">
            <div class="control-title fw-bold">Subheading title</div>
            <small class="control-description disabled"
              >Content for list item ent for list item ent for list</small
            >
            <input type="range" class="control-input form-range" />
            Current value: <span></span>
          </div>
        </li>

        <!--Switch  -->
        <li
          class="switch-template list-group-item p-4 d-flex justify-content-between align-items-center"
        >
          <div class="ms-2 me-auto pe-2">
            <div class="control-title fw-bold">Subheading title</div>
            <small class="control-description disabled"
              >Content for list item ent for list item ent for list</small
            >
          </div>
          <div class="form-check form-switch">
            <input
              class="control-input form-check-input"
              type="checkbox"
              role="switch"
              checked="true"
            />
          </div>
        </li>

        <!--Radio -->
        <li
          class="radio-template list-group-item p-4 d-flex justify-content-between align-items-center"
        >
          <div class="ms-2 me-5">
            <div class="control-title fw-bold">Subheading title</div>
            <small class="control-description disabled"
              >Content for list item ent for list item ent for list ent for list
              item ent for list ent for list item ent for list ent for list item
              ent for list</small
            >
          </div>
          <div
            class="control-input btn-group"
            role="group"
            aria-label="Choose an option"
          ></div>
        </li>

        <!--TextArea -->
        <li class="textarea-template list-group-item p-4">
          <div class="ms-2">
            <div class="control-title fw-bold">Subheading title</div>
            <small class="control-description disabled"
              >Content for list item ent for list item ent for list</small
            >
            <textarea
              class="control-input form-control p-3 mt-2"
              rows="5"
            ></textarea>
          </div>
        </li>
      </ul>
    </div>
  </div>

  <div class="toast-container position-fixed bottom-0 end-0 p-1">
    <div
      id="liveToast"
      class="toast"
      role="alert"
      aria-live="assertive"
      aria-atomic="true"
    >
      <div class="toast-body">
        <img src="../assets/logo-24x24.png" class="rounded me-2" alt="Logo" />
        <span>Successfully updated settings</span>
      </div>
    </div>
  </div>
</div>
`;var Ui=class extends HTMLElement{constructor(i){super();this.template=new DOMParser().parseFromString(Xs,"text/html");this.logger=new Et(this);this.configItems=i,this.attachShadow({mode:"open"})}connectedCallback(){this.logger.debug("SettingsUI added to page."),this.fetchAndSetConfigValues(this.configItems).then(i=>{this.render(i)})}disconnectedCallback(){this.logger.debug("SettingsUI element removed from page.")}adoptedCallback(){this.logger.debug("SettingsUI element moved to new page.")}async fetchAndSetConfigValues(i){for(let n of i){let r=await st.get(n.id);r==null||r===void 0?n.value=n.default_value:n.value=r}return i}render(i){this.logger.debug("Rendering options: ",i);let n=document.createElement("link");n.rel="stylesheet",n.href=chrome.runtime.getURL("utils/settings/settings.css"),this.shadowRoot?.append(n);let r=document.createElement("ul");r.className="list-group",r.setAttribute("data-bs-theme","light"),i.filter(o=>!o.dev_only||o.dev_only&&IS_DEV_BUILD).forEach(o=>r.appendChild(this.cloneInput(o))),this.shadowRoot?.append(r)}async saveChange(i,n){this.logger.debug("saving: ",i.id,n),await st.put(i.id,n),this.showToast()}cloneInput(i){let n=this.template.getElementsByClassName(`${i.type}-template`)[0].cloneNode(!0);n.getElementsByClassName("control-title")[0].innerHTML=i.title,n.getElementsByClassName("control-description")[0].innerHTML=i.description;let r=n.getElementsByClassName("control-input")[0];return["checkbox","switch"].includes(i.type)?(r.checked=!!i.value,r.addEventListener("input",o=>this.saveChange(i,o.target.checked))):r.value=i.value,i.type==="range"&&(r.min=i.min??"0",r.max=i.max??"5",r.step=i.step??"1",r.nextElementSibling.innerHTML=r.value,r.addEventListener("input",o=>{this.saveChange(i,o.target.value),r.nextElementSibling.innerHTML=r.value})),i.type==="select"&&(i.options?.forEach(o=>{r.add(new Option(B(o.text),o.id,o.id===i.value))}),r.selectedIndex=i.options?.findIndex(o=>o.id===i.value)??-1,r.addEventListener("change",o=>this.saveChange(i,o.target.value))),i.type==="radio"&&(i.options?.forEach(o=>{let s=document.createElement("input");s.type="radio",s.name=i.id,s.value=o.id,s.id=`${i.id}-${o.id}`,s.autocomplete="off",s.className="btn-check",s.checked=o.id===i.value,r.appendChild(s);let a=document.createElement("label");a.className="btn btn-outline-primary",a.htmlFor=s.id,a.appendChild(document.createTextNode(o.text)),r.appendChild(a)}),r.addEventListener("input",o=>this.saveChange(i,o.target.value))),i.type==="textarea"&&r.addEventListener("input",o=>this.saveChange(i,o.target.value)),n}showToast(){let i=this.shadowRoot?.querySelector(".toast-container");i||(i=this.template.querySelector(".toast-container"),i.querySelector(".toast-body span").innerHTML=B("Successfully updated settings"),this.shadowRoot?.append(i));let n=new xe(i.querySelector("#liveToast"),{delay:1e3});this.logger.log("showing toast: ",n),n.show()}};customElements.define("settings-ui",Ui);var Br=[{id:"search-engine",type:"select",title:B("Search engine"),description:B("The search engine that would be used for inline search previews."),default_value:"google",options:[{id:"google",text:B("Google Search")},{id:"bing",text:B("Bing Search")},{id:"yahoo",text:B("Yahoo Search")},{id:"baidu",text:B("Baidu Search")},{id:"yandex",text:B("Yandex Search")}]},{id:"previewr-width",type:"range",title:B("Preview Width (%)"),description:B("The width of the preview panel relative to the page."),default_value:40,min:"20",max:"90"},{id:"previewr-height",type:"range",title:B("Preview Height (%)"),description:B("The height of the preview panel relative to the page."),default_value:70,min:"20",max:"95"},{id:"previewr-position",type:"select",title:B("Panel Position"),description:B("The side of the page in which to display the preview."),default_value:"right",options:[{id:"right",text:B("Right side")},{id:"left",text:B("Left side")}]},{id:"close-on-esc",type:"switch",title:B("Close on Escape Key"),description:B("Use the ESC (escape) key to close the preview panel."),default_value:!0},{id:"automatically-hide-previews",type:"switch",title:B("Automatically Hide Previews"),description:B("Hides the preview panel when you scroll away or interact with the main page."),default_value:!1},{id:"preview-in-side-panel",type:"switch",title:B("Preview in Side Panel"),description:B("Displays the view in Chrome Side Panel instead of a floating box."),default_value:!1,dev_only:!0},{id:"preview-on-hover",type:"switch",title:"Automatic Preview on Hover",description:"No need to click on tooltip button, auto show preview on hover.",default_value:!1},{id:"preview-on-hover-delay",type:"range",title:B("Preview-on-Hover Delay"),description:B("When automatic preview on hover is enabled, this is the delay before the preview is shown."),default_value:3,min:"1",max:"5"},{id:"blocked-sites",type:"textarea",title:"Disabled on Websites",description:"Extension will not run on these sites. Enter one site per line.",default_value:""},{id:"enable-anti-frame-busting",type:"switch",title:B("[Advanced] Force Preview"),description:B("For websites that **really** do not want to be previewed (e.g. stackoverflow.com) this forces a preview. Nerd alert: this is a frame-busting buster."),default_value:!1},{id:"disable-incognito-google",type:"switch",title:B("[Advanced] Disable Incognito Google"),description:B("By default, the version of Google search used is always signed-out for privacy and security reasons. Though this may result in always seeing sign-in prompts."),default_value:!1}],_f="betterpreviews.com/mainframe",cb=new URL(window.location.href).protocol;window.name===_f?Br["disable-on-this-site"]={id:"disable-on-this-site",type:"switch",title:B("Disable Previews on this site"),description:B("The detail information about the checkbox here."),value:!1}:Br["disabled-on-sites"]={id:"disabled-on-sites",type:"textarea",title:B("Disabled on Websites"),description:B("Extension will not run on these sites, you can disable a site by adding to this list."),value:`example.com
example.org`};document.addEventListener("DOMContentLoaded",async()=>{document.querySelector(".options-container")?.appendChild(new Ui(Br)),await ue.firePageViewEvent("Options Page","/options.html"),window.onerror=(e,t,i,n,r)=>{ue.fireErrorEvent(r,{event:e,source:t,lineno:i})},document.querySelector("#show-preview")?.addEventListener("click",()=>{window.postMessage({application:_t.__package_name__,action:"search",data:"hello world"},window.location.origin)}),ao(document)});})();
