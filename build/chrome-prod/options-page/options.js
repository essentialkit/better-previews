var IS_DEV_BUILD=false;
(()=>{var Du=Object.create;var wo=Object.defineProperty;var Lu=Object.getOwnPropertyDescriptor;var Ou=Object.getOwnPropertyNames;var Iu=Object.getPrototypeOf,Ru=Object.prototype.hasOwnProperty;var ur=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),fr=(e,t)=>{for(var n in t)wo(e,n,{get:t[n],enumerable:!0})},Mu=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Ou(t))!Ru.call(e,r)&&r!==n&&wo(e,r,{get:()=>t[r],enumerable:!(i=Lu(t,r))||i.enumerable});return e};var wa=(e,t,n)=>(n=e!=null?Du(Iu(e)):{},Mu(t||!e||!e.__esModule?wo(n,"default",{value:e,enumerable:!0}):n,e));var Dc=ur(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.sanitizeUrl=void 0;var Fd=/^([^\w]*)(javascript|data|vbscript)/im,jd=/&#(\w+)(^\w|;)?/g,Gd=/&(newline|tab);/gi,zd=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Wd=/^.+(:|&colon;)/gim,Yd=[".","/"];function Vd(e){return Yd.indexOf(e[0])>-1}function qd(e){return e.replace(jd,function(t,n){return String.fromCharCode(n)})}function Kd(e){var t=qd(e||"").replace(Gd,"").replace(zd,"").trim();if(!t)return"about:blank";if(Vd(t))return t;var n=t.match(Wd);if(!n)return t;var i=n[0];return Fd.test(i)?"about:blank":t}Gr.sanitizeUrl=Kd});var Oc=ur((Bw,ps)=>{function Lc(e,t){if(t&&t.documentElement)e=t,t=arguments[2];else if(!e||!e.documentElement)throw new Error("First argument to Readability constructor should be a document object.");if(t=t||{},this._doc=e,this._docJSDOMParser=this._doc.firstChild.__JSDOMParser__,this._articleTitle=null,this._articleByline=null,this._articleDir=null,this._articleSiteName=null,this._attempts=[],this._debug=!!t.debug,this._maxElemsToParse=t.maxElemsToParse||this.DEFAULT_MAX_ELEMS_TO_PARSE,this._nbTopCandidates=t.nbTopCandidates||this.DEFAULT_N_TOP_CANDIDATES,this._charThreshold=t.charThreshold||this.DEFAULT_CHAR_THRESHOLD,this._classesToPreserve=this.CLASSES_TO_PRESERVE.concat(t.classesToPreserve||[]),this._keepClasses=!!t.keepClasses,this._serializer=t.serializer||function(n){return n.innerHTML},this._disableJSONLD=!!t.disableJSONLD,this._flags=this.FLAG_STRIP_UNLIKELYS|this.FLAG_WEIGHT_CLASSES|this.FLAG_CLEAN_CONDITIONALLY,this._debug){let n=function(i){if(i.nodeType==i.TEXT_NODE)return`${i.nodeName} ("${i.textContent}")`;let r=Array.from(i.attributes||[],function(o){return`${o.name}="${o.value}"`}).join(" ");return`<${i.localName} ${r}>`};this.log=function(){if(typeof dump<"u"){var i=Array.prototype.map.call(arguments,function(r){return r&&r.nodeName?n(r):r}).join(" ");dump("Reader: (Readability) "+i+`
`)}else if(typeof console<"u"){let r=Array.from(arguments,o=>o&&o.nodeType==this.ELEMENT_NODE?n(o):o);r.unshift("Reader: (Readability)"),console.log.apply(console,r)}}}else this.log=function(){}}Lc.prototype={FLAG_STRIP_UNLIKELYS:1,FLAG_WEIGHT_CLASSES:2,FLAG_CLEAN_CONDITIONALLY:4,ELEMENT_NODE:1,TEXT_NODE:3,DEFAULT_MAX_ELEMS_TO_PARSE:0,DEFAULT_N_TOP_CANDIDATES:5,DEFAULT_TAGS_TO_SCORE:"section,h2,h3,h4,h5,h6,p,td,pre".toUpperCase().split(","),DEFAULT_CHAR_THRESHOLD:500,REGEXPS:{unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i,positive:/article|body|content|entry|hentry|h-entry|main|page|pagination|post|text|blog|story/i,negative:/-ad-|hidden|^hid$| hid$| hid |^hid |banner|combx|comment|com-|contact|foot|footer|footnote|gdpr|masthead|media|meta|outbrain|promo|related|scroll|share|shoutbox|sidebar|skyscraper|sponsor|shopping|tags|tool|widget/i,extraneous:/print|archive|comment|discuss|e[\-]?mail|share|reply|all|login|sign|single|utility/i,byline:/byline|author|dateline|writtenby|p-author/i,replaceFonts:/<(\/?)font[^>]*>/gi,normalize:/\s{2,}/g,videos:/\/\/(www\.)?((dailymotion|youtube|youtube-nocookie|player\.vimeo|v\.qq)\.com|(archive|upload\.wikimedia)\.org|player\.twitch\.tv)/i,shareElements:/(\b|_)(share|sharedaddy)(\b|_)/i,nextLink:/(next|weiter|continue|>([^\|]|$)|»([^\|]|$))/i,prevLink:/(prev|earl|old|new|<|«)/i,tokenize:/\W+/g,whitespace:/^\s*$/,hasContent:/\S$/,hashUrl:/^#.+/,srcsetUrl:/(\S+)(\s+[\d.]+[xw])?(\s*(?:,|$))/g,b64DataUrl:/^data:\s*([^\s;,]+)\s*;\s*base64\s*,/i,jsonLdArticleTypes:/^Article|AdvertiserContentArticle|NewsArticle|AnalysisNewsArticle|AskPublicNewsArticle|BackgroundNewsArticle|OpinionNewsArticle|ReportageNewsArticle|ReviewNewsArticle|Report|SatiricalArticle|ScholarlyArticle|MedicalScholarlyArticle|SocialMediaPosting|BlogPosting|LiveBlogPosting|DiscussionForumPosting|TechArticle|APIReference$/},UNLIKELY_ROLES:["menu","menubar","complementary","navigation","alert","alertdialog","dialog"],DIV_TO_P_ELEMS:new Set(["BLOCKQUOTE","DL","DIV","IMG","OL","P","PRE","TABLE","UL"]),ALTER_TO_DIV_EXCEPTIONS:["DIV","ARTICLE","SECTION","P"],PRESENTATIONAL_ATTRIBUTES:["align","background","bgcolor","border","cellpadding","cellspacing","frame","hspace","rules","style","valign","vspace"],DEPRECATED_SIZE_ATTRIBUTE_ELEMS:["TABLE","TH","TD","HR","PRE"],PHRASING_ELEMS:["ABBR","AUDIO","B","BDO","BR","BUTTON","CITE","CODE","DATA","DATALIST","DFN","EM","EMBED","I","IMG","INPUT","KBD","LABEL","MARK","MATH","METER","NOSCRIPT","OBJECT","OUTPUT","PROGRESS","Q","RUBY","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRONG","SUB","SUP","TEXTAREA","TIME","VAR","WBR"],CLASSES_TO_PRESERVE:["page"],HTML_ESCAPE_MAP:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},_postProcessContent:function(e){this._fixRelativeUris(e),this._simplifyNestedElements(e),this._keepClasses||this._cleanClasses(e)},_removeNodes:function(e,t){if(this._docJSDOMParser&&e._isLiveNodeList)throw new Error("Do not pass live node lists to _removeNodes");for(var n=e.length-1;n>=0;n--){var i=e[n],r=i.parentNode;r&&(!t||t.call(this,i,n,e))&&r.removeChild(i)}},_replaceNodeTags:function(e,t){if(this._docJSDOMParser&&e._isLiveNodeList)throw new Error("Do not pass live node lists to _replaceNodeTags");for(let n of e)this._setNodeTag(n,t)},_forEachNode:function(e,t){Array.prototype.forEach.call(e,t,this)},_findNode:function(e,t){return Array.prototype.find.call(e,t,this)},_someNode:function(e,t){return Array.prototype.some.call(e,t,this)},_everyNode:function(e,t){return Array.prototype.every.call(e,t,this)},_concatNodeLists:function(){var e=Array.prototype.slice,t=e.call(arguments),n=t.map(function(i){return e.call(i)});return Array.prototype.concat.apply([],n)},_getAllNodesWithTag:function(e,t){return e.querySelectorAll?e.querySelectorAll(t.join(",")):[].concat.apply([],t.map(function(n){var i=e.getElementsByTagName(n);return Array.isArray(i)?i:Array.from(i)}))},_cleanClasses:function(e){var t=this._classesToPreserve,n=(e.getAttribute("class")||"").split(/\s+/).filter(function(i){return t.indexOf(i)!=-1}).join(" ");for(n?e.setAttribute("class",n):e.removeAttribute("class"),e=e.firstElementChild;e;e=e.nextElementSibling)this._cleanClasses(e)},_fixRelativeUris:function(e){var t=this._doc.baseURI,n=this._doc.documentURI;function i(s){if(t==n&&s.charAt(0)=="#")return s;try{return new URL(s,t).href}catch{}return s}var r=this._getAllNodesWithTag(e,["a"]);this._forEachNode(r,function(s){var a=s.getAttribute("href");if(a)if(a.indexOf("javascript:")===0)if(s.childNodes.length===1&&s.childNodes[0].nodeType===this.TEXT_NODE){var c=this._doc.createTextNode(s.textContent);s.parentNode.replaceChild(c,s)}else{for(var l=this._doc.createElement("span");s.firstChild;)l.appendChild(s.firstChild);s.parentNode.replaceChild(l,s)}else s.setAttribute("href",i(a))});var o=this._getAllNodesWithTag(e,["img","picture","figure","video","audio","source"]);this._forEachNode(o,function(s){var a=s.getAttribute("src"),c=s.getAttribute("poster"),l=s.getAttribute("srcset");if(a&&s.setAttribute("src",i(a)),c&&s.setAttribute("poster",i(c)),l){var f=l.replace(this.REGEXPS.srcsetUrl,function(d,g,E,x){return i(g)+(E||"")+x});s.setAttribute("srcset",f)}})},_simplifyNestedElements:function(e){for(var t=e;t;){if(t.parentNode&&["DIV","SECTION"].includes(t.tagName)&&!(t.id&&t.id.startsWith("readability"))){if(this._isElementWithoutContent(t)){t=this._removeAndGetNext(t);continue}else if(this._hasSingleTagInsideElement(t,"DIV")||this._hasSingleTagInsideElement(t,"SECTION")){for(var n=t.children[0],i=0;i<t.attributes.length;i++)n.setAttribute(t.attributes[i].name,t.attributes[i].value);t.parentNode.replaceChild(n,t),t=n;continue}}t=this._getNextNode(t)}},_getArticleTitle:function(){var e=this._doc,t="",n="";try{t=n=e.title.trim(),typeof t!="string"&&(t=n=this._getInnerText(e.getElementsByTagName("title")[0]))}catch{}var i=!1;function r(f){return f.split(/\s+/).length}if(/ [\|\-\\\/>»] /.test(t))i=/ [\\\/>»] /.test(t),t=n.replace(/(.*)[\|\-\\\/>»] .*/gi,"$1"),r(t)<3&&(t=n.replace(/[^\|\-\\\/>»]*[\|\-\\\/>»](.*)/gi,"$1"));else if(t.indexOf(": ")!==-1){var o=this._concatNodeLists(e.getElementsByTagName("h1"),e.getElementsByTagName("h2")),s=t.trim(),a=this._someNode(o,function(f){return f.textContent.trim()===s});a||(t=n.substring(n.lastIndexOf(":")+1),r(t)<3?t=n.substring(n.indexOf(":")+1):r(n.substr(0,n.indexOf(":")))>5&&(t=n))}else if(t.length>150||t.length<15){var c=e.getElementsByTagName("h1");c.length===1&&(t=this._getInnerText(c[0]))}t=t.trim().replace(this.REGEXPS.normalize," ");var l=r(t);return l<=4&&(!i||l!=r(n.replace(/[\|\-\\\/>»]+/g,""))-1)&&(t=n),t},_prepDocument:function(){var e=this._doc;this._removeNodes(this._getAllNodesWithTag(e,["style"])),e.body&&this._replaceBrs(e.body),this._replaceNodeTags(this._getAllNodesWithTag(e,["font"]),"SPAN")},_nextNode:function(e){for(var t=e;t&&t.nodeType!=this.ELEMENT_NODE&&this.REGEXPS.whitespace.test(t.textContent);)t=t.nextSibling;return t},_replaceBrs:function(e){this._forEachNode(this._getAllNodesWithTag(e,["br"]),function(t){for(var n=t.nextSibling,i=!1;(n=this._nextNode(n))&&n.tagName=="BR";){i=!0;var r=n.nextSibling;n.parentNode.removeChild(n),n=r}if(i){var o=this._doc.createElement("p");for(t.parentNode.replaceChild(o,t),n=o.nextSibling;n;){if(n.tagName=="BR"){var s=this._nextNode(n.nextSibling);if(s&&s.tagName=="BR")break}if(!this._isPhrasingContent(n))break;var a=n.nextSibling;o.appendChild(n),n=a}for(;o.lastChild&&this._isWhitespace(o.lastChild);)o.removeChild(o.lastChild);o.parentNode.tagName==="P"&&this._setNodeTag(o.parentNode,"DIV")}})},_setNodeTag:function(e,t){if(this.log("_setNodeTag",e,t),this._docJSDOMParser)return e.localName=t.toLowerCase(),e.tagName=t.toUpperCase(),e;for(var n=e.ownerDocument.createElement(t);e.firstChild;)n.appendChild(e.firstChild);e.parentNode.replaceChild(n,e),e.readability&&(n.readability=e.readability);for(var i=0;i<e.attributes.length;i++)try{n.setAttribute(e.attributes[i].name,e.attributes[i].value)}catch{}return n},_prepArticle:function(e){this._cleanStyles(e),this._markDataTables(e),this._fixLazyImages(e),this._cleanConditionally(e,"form"),this._cleanConditionally(e,"fieldset"),this._clean(e,"object"),this._clean(e,"embed"),this._clean(e,"footer"),this._clean(e,"link"),this._clean(e,"aside");var t=this.DEFAULT_CHAR_THRESHOLD;this._forEachNode(e.children,function(n){this._cleanMatchedNodes(n,function(i,r){return this.REGEXPS.shareElements.test(r)&&i.textContent.length<t})}),this._clean(e,"iframe"),this._clean(e,"input"),this._clean(e,"textarea"),this._clean(e,"select"),this._clean(e,"button"),this._cleanHeaders(e),this._cleanConditionally(e,"table"),this._cleanConditionally(e,"ul"),this._cleanConditionally(e,"div"),this._replaceNodeTags(this._getAllNodesWithTag(e,["h1"]),"h2"),this._removeNodes(this._getAllNodesWithTag(e,["p"]),function(n){var i=n.getElementsByTagName("img").length,r=n.getElementsByTagName("embed").length,o=n.getElementsByTagName("object").length,s=n.getElementsByTagName("iframe").length,a=i+r+o+s;return a===0&&!this._getInnerText(n,!1)}),this._forEachNode(this._getAllNodesWithTag(e,["br"]),function(n){var i=this._nextNode(n.nextSibling);i&&i.tagName=="P"&&n.parentNode.removeChild(n)}),this._forEachNode(this._getAllNodesWithTag(e,["table"]),function(n){var i=this._hasSingleTagInsideElement(n,"TBODY")?n.firstElementChild:n;if(this._hasSingleTagInsideElement(i,"TR")){var r=i.firstElementChild;if(this._hasSingleTagInsideElement(r,"TD")){var o=r.firstElementChild;o=this._setNodeTag(o,this._everyNode(o.childNodes,this._isPhrasingContent)?"P":"DIV"),n.parentNode.replaceChild(o,n)}}})},_initializeNode:function(e){switch(e.readability={contentScore:0},e.tagName){case"DIV":e.readability.contentScore+=5;break;case"PRE":case"TD":case"BLOCKQUOTE":e.readability.contentScore+=3;break;case"ADDRESS":case"OL":case"UL":case"DL":case"DD":case"DT":case"LI":case"FORM":e.readability.contentScore-=3;break;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"TH":e.readability.contentScore-=5;break}e.readability.contentScore+=this._getClassWeight(e)},_removeAndGetNext:function(e){var t=this._getNextNode(e,!0);return e.parentNode.removeChild(e),t},_getNextNode:function(e,t){if(!t&&e.firstElementChild)return e.firstElementChild;if(e.nextElementSibling)return e.nextElementSibling;do e=e.parentNode;while(e&&!e.nextElementSibling);return e&&e.nextElementSibling},_textSimilarity:function(e,t){var n=e.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean),i=t.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean);if(!n.length||!i.length)return 0;var r=i.filter(s=>!n.includes(s)),o=r.join(" ").length/i.join(" ").length;return 1-o},_checkByline:function(e,t){if(this._articleByline)return!1;if(e.getAttribute!==void 0)var n=e.getAttribute("rel"),i=e.getAttribute("itemprop");return(n==="author"||i&&i.indexOf("author")!==-1||this.REGEXPS.byline.test(t))&&this._isValidByline(e.textContent)?(this._articleByline=e.textContent.trim(),!0):!1},_getNodeAncestors:function(e,t){t=t||0;for(var n=0,i=[];e.parentNode&&(i.push(e.parentNode),!(t&&++n===t));)e=e.parentNode;return i},_grabArticle:function(e){this.log("**** grabArticle ****");var t=this._doc,n=e!==null;if(e=e||this._doc.body,!e)return this.log("No body found in document. Abort."),null;for(var i=e.innerHTML;;){this.log("Starting grabArticle loop");var r=this._flagIsActive(this.FLAG_STRIP_UNLIKELYS),o=[],s=this._doc.documentElement;let Rt=!0;for(;s;){s.tagName==="HTML"&&(this._articleLang=s.getAttribute("lang"));var a=s.className+" "+s.id;if(!this._isProbablyVisible(s)){this.log("Removing hidden node - "+a),s=this._removeAndGetNext(s);continue}if(this._checkByline(s,a)){s=this._removeAndGetNext(s);continue}if(Rt&&this._headerDuplicatesTitle(s)){this.log("Removing header: ",s.textContent.trim(),this._articleTitle.trim()),Rt=!1,s=this._removeAndGetNext(s);continue}if(r){if(this.REGEXPS.unlikelyCandidates.test(a)&&!this.REGEXPS.okMaybeItsACandidate.test(a)&&!this._hasAncestorTag(s,"table")&&!this._hasAncestorTag(s,"code")&&s.tagName!=="BODY"&&s.tagName!=="A"){this.log("Removing unlikely candidate - "+a),s=this._removeAndGetNext(s);continue}if(this.UNLIKELY_ROLES.includes(s.getAttribute("role"))){this.log("Removing content with role "+s.getAttribute("role")+" - "+a),s=this._removeAndGetNext(s);continue}}if((s.tagName==="DIV"||s.tagName==="SECTION"||s.tagName==="HEADER"||s.tagName==="H1"||s.tagName==="H2"||s.tagName==="H3"||s.tagName==="H4"||s.tagName==="H5"||s.tagName==="H6")&&this._isElementWithoutContent(s)){s=this._removeAndGetNext(s);continue}if(this.DEFAULT_TAGS_TO_SCORE.indexOf(s.tagName)!==-1&&o.push(s),s.tagName==="DIV"){for(var c=null,l=s.firstChild;l;){var f=l.nextSibling;if(this._isPhrasingContent(l))c!==null?c.appendChild(l):this._isWhitespace(l)||(c=t.createElement("p"),s.replaceChild(c,l),c.appendChild(l));else if(c!==null){for(;c.lastChild&&this._isWhitespace(c.lastChild);)c.removeChild(c.lastChild);c=null}l=f}if(this._hasSingleTagInsideElement(s,"P")&&this._getLinkDensity(s)<.25){var d=s.children[0];s.parentNode.replaceChild(d,s),s=d,o.push(s)}else this._hasChildBlockElement(s)||(s=this._setNodeTag(s,"P"),o.push(s))}s=this._getNextNode(s)}var g=[];this._forEachNode(o,function(X){if(!(!X.parentNode||typeof X.parentNode.tagName>"u")){var J=this._getInnerText(X);if(!(J.length<25)){var Et=this._getNodeAncestors(X,5);if(Et.length!==0){var Ct=0;Ct+=1,Ct+=J.split(",").length,Ct+=Math.min(Math.floor(J.length/100),3),this._forEachNode(Et,function(Tt,Z){if(!(!Tt.tagName||!Tt.parentNode||typeof Tt.parentNode.tagName>"u")){if(typeof Tt.readability>"u"&&(this._initializeNode(Tt),g.push(Tt)),Z===0)var Gt=1;else Z===1?Gt=2:Gt=Z*3;Tt.readability.contentScore+=Ct/Gt}})}}}});for(var E=[],x=0,T=g.length;x<T;x+=1){var w=g[x],C=w.readability.contentScore*(1-this._getLinkDensity(w));w.readability.contentScore=C,this.log("Candidate:",w,"with score "+C);for(var N=0;N<this._nbTopCandidates;N++){var A=E[N];if(!A||C>A.readability.contentScore){E.splice(N,0,w),E.length>this._nbTopCandidates&&E.pop();break}}}var y=E[0]||null,O=!1,L;if(y===null||y.tagName==="BODY"){for(y=t.createElement("DIV"),O=!0;e.firstChild;)this.log("Moving child out:",e.firstChild),y.appendChild(e.firstChild);e.appendChild(y),this._initializeNode(y)}else if(y){for(var R=[],$=1;$<E.length;$++)E[$].readability.contentScore/y.readability.contentScore>=.75&&R.push(this._getNodeAncestors(E[$]));var B=3;if(R.length>=B)for(L=y.parentNode;L.tagName!=="BODY";){for(var M=0,F=0;F<R.length&&M<B;F++)M+=Number(R[F].includes(L));if(M>=B){y=L;break}L=L.parentNode}y.readability||this._initializeNode(y),L=y.parentNode;for(var W=y.readability.contentScore,q=W/3;L.tagName!=="BODY";){if(!L.readability){L=L.parentNode;continue}var it=L.readability.contentScore;if(it<q)break;if(it>W){y=L;break}W=L.readability.contentScore,L=L.parentNode}for(L=y.parentNode;L.tagName!="BODY"&&L.children.length==1;)y=L,L=y.parentNode;y.readability||this._initializeNode(y)}var H=t.createElement("DIV");n&&(H.id="readability-content");var V=Math.max(10,y.readability.contentScore*.2);L=y.parentNode;for(var Q=L.children,at=0,rt=Q.length;at<rt;at++){var z=Q[at],G=!1;if(this.log("Looking at sibling node:",z,z.readability?"with score "+z.readability.contentScore:""),this.log("Sibling has score",z.readability?z.readability.contentScore:"Unknown"),z===y)G=!0;else{var bt=0;if(z.className===y.className&&y.className!==""&&(bt+=y.readability.contentScore*.2),z.readability&&z.readability.contentScore+bt>=V)G=!0;else if(z.nodeName==="P"){var It=this._getLinkDensity(z),xt=this._getInnerText(z),ft=xt.length;(ft>80&&It<.25||ft<80&&ft>0&&It===0&&xt.search(/\.( |$)/)!==-1)&&(G=!0)}}G&&(this.log("Appending node:",z),this.ALTER_TO_DIV_EXCEPTIONS.indexOf(z.nodeName)===-1&&(this.log("Altering sibling:",z,"to div."),z=this._setNodeTag(z,"DIV")),H.appendChild(z),Q=L.children,at-=1,rt-=1)}if(this._debug&&this.log("Article content pre-prep: "+H.innerHTML),this._prepArticle(H),this._debug&&this.log("Article content post-prep: "+H.innerHTML),O)y.id="readability-page-1",y.className="page";else{var ht=t.createElement("DIV");for(ht.id="readability-page-1",ht.className="page";H.firstChild;)ht.appendChild(H.firstChild);H.appendChild(ht)}this._debug&&this.log("Article content after paging: "+H.innerHTML);var $t=!0,_t=this._getInnerText(H,!0).length;if(_t<this._charThreshold)if($t=!1,e.innerHTML=i,this._flagIsActive(this.FLAG_STRIP_UNLIKELYS))this._removeFlag(this.FLAG_STRIP_UNLIKELYS),this._attempts.push({articleContent:H,textLength:_t});else if(this._flagIsActive(this.FLAG_WEIGHT_CLASSES))this._removeFlag(this.FLAG_WEIGHT_CLASSES),this._attempts.push({articleContent:H,textLength:_t});else if(this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY))this._removeFlag(this.FLAG_CLEAN_CONDITIONALLY),this._attempts.push({articleContent:H,textLength:_t});else{if(this._attempts.push({articleContent:H,textLength:_t}),this._attempts.sort(function(X,J){return J.textLength-X.textLength}),!this._attempts[0].textLength)return null;H=this._attempts[0].articleContent,$t=!0}if($t){var jt=[L,y].concat(this._getNodeAncestors(L));return this._someNode(jt,function(X){if(!X.tagName)return!1;var J=X.getAttribute("dir");return J?(this._articleDir=J,!0):!1}),H}}},_isValidByline:function(e){return typeof e=="string"||e instanceof String?(e=e.trim(),e.length>0&&e.length<100):!1},_unescapeHtmlEntities:function(e){if(!e)return e;var t=this.HTML_ESCAPE_MAP;return e.replace(/&(quot|amp|apos|lt|gt);/g,function(n,i){return t[i]}).replace(/&#(?:x([0-9a-z]{1,4})|([0-9]{1,4}));/gi,function(n,i,r){var o=parseInt(i||r,i?16:10);return String.fromCharCode(o)})},_getJSONLD:function(e){var t=this._getAllNodesWithTag(e,["script"]),n;return this._forEachNode(t,function(i){if(!n&&i.getAttribute("type")==="application/ld+json")try{var r=i.textContent.replace(/^\s*<!\[CDATA\[|\]\]>\s*$/g,""),o=JSON.parse(r);if(!o["@context"]||!o["@context"].match(/^https?\:\/\/schema\.org$/)||(!o["@type"]&&Array.isArray(o["@graph"])&&(o=o["@graph"].find(function(l){return(l["@type"]||"").match(this.REGEXPS.jsonLdArticleTypes)})),!o||!o["@type"]||!o["@type"].match(this.REGEXPS.jsonLdArticleTypes)))return;if(n={},typeof o.name=="string"&&typeof o.headline=="string"&&o.name!==o.headline){var s=this._getArticleTitle(),a=this._textSimilarity(o.name,s)>.75,c=this._textSimilarity(o.headline,s)>.75;c&&!a?n.title=o.headline:n.title=o.name}else typeof o.name=="string"?n.title=o.name.trim():typeof o.headline=="string"&&(n.title=o.headline.trim());o.author&&(typeof o.author.name=="string"?n.byline=o.author.name.trim():Array.isArray(o.author)&&o.author[0]&&typeof o.author[0].name=="string"&&(n.byline=o.author.filter(function(l){return l&&typeof l.name=="string"}).map(function(l){return l.name.trim()}).join(", "))),typeof o.description=="string"&&(n.excerpt=o.description.trim()),o.publisher&&typeof o.publisher.name=="string"&&(n.siteName=o.publisher.name.trim());return}catch(l){this.log(l.message)}}),n||{}},_getArticleMetadata:function(e){var t={},n={},i=this._doc.getElementsByTagName("meta"),r=/\s*(dc|dcterm|og|twitter)\s*:\s*(author|creator|description|title|site_name)\s*/gi,o=/^\s*(?:(dc|dcterm|og|twitter|weibo:(article|webpage))\s*[\.:]\s*)?(author|creator|description|title|site_name)\s*$/i;return this._forEachNode(i,function(s){var a=s.getAttribute("name"),c=s.getAttribute("property"),l=s.getAttribute("content");if(!!l){var f=null,d=null;c&&(f=c.match(r),f&&(d=f[0].toLowerCase().replace(/\s/g,""),n[d]=l.trim())),!f&&a&&o.test(a)&&(d=a,l&&(d=d.toLowerCase().replace(/\s/g,"").replace(/\./g,":"),n[d]=l.trim()))}}),t.title=e.title||n["dc:title"]||n["dcterm:title"]||n["og:title"]||n["weibo:article:title"]||n["weibo:webpage:title"]||n.title||n["twitter:title"],t.title||(t.title=this._getArticleTitle()),t.byline=e.byline||n["dc:creator"]||n["dcterm:creator"]||n.author,t.excerpt=e.excerpt||n["dc:description"]||n["dcterm:description"]||n["og:description"]||n["weibo:article:description"]||n["weibo:webpage:description"]||n.description||n["twitter:description"],t.siteName=e.siteName||n["og:site_name"],t.title=this._unescapeHtmlEntities(t.title),t.byline=this._unescapeHtmlEntities(t.byline),t.excerpt=this._unescapeHtmlEntities(t.excerpt),t.siteName=this._unescapeHtmlEntities(t.siteName),t},_isSingleImage:function(e){return e.tagName==="IMG"?!0:e.children.length!==1||e.textContent.trim()!==""?!1:this._isSingleImage(e.children[0])},_unwrapNoscriptImages:function(e){var t=Array.from(e.getElementsByTagName("img"));this._forEachNode(t,function(i){for(var r=0;r<i.attributes.length;r++){var o=i.attributes[r];switch(o.name){case"src":case"srcset":case"data-src":case"data-srcset":return}if(/\.(jpg|jpeg|png|webp)/i.test(o.value))return}i.parentNode.removeChild(i)});var n=Array.from(e.getElementsByTagName("noscript"));this._forEachNode(n,function(i){var r=e.createElement("div");if(r.innerHTML=i.innerHTML,!!this._isSingleImage(r)){var o=i.previousElementSibling;if(o&&this._isSingleImage(o)){var s=o;s.tagName!=="IMG"&&(s=o.getElementsByTagName("img")[0]);for(var a=r.getElementsByTagName("img")[0],c=0;c<s.attributes.length;c++){var l=s.attributes[c];if(l.value!==""&&(l.name==="src"||l.name==="srcset"||/\.(jpg|jpeg|png|webp)/i.test(l.value))){if(a.getAttribute(l.name)===l.value)continue;var f=l.name;a.hasAttribute(f)&&(f="data-old-"+f),a.setAttribute(f,l.value)}}i.parentNode.replaceChild(r.firstElementChild,o)}}})},_removeScripts:function(e){this._removeNodes(this._getAllNodesWithTag(e,["script"]),function(t){return t.nodeValue="",t.removeAttribute("src"),!0}),this._removeNodes(this._getAllNodesWithTag(e,["noscript"]))},_hasSingleTagInsideElement:function(e,t){return e.children.length!=1||e.children[0].tagName!==t?!1:!this._someNode(e.childNodes,function(n){return n.nodeType===this.TEXT_NODE&&this.REGEXPS.hasContent.test(n.textContent)})},_isElementWithoutContent:function(e){return e.nodeType===this.ELEMENT_NODE&&e.textContent.trim().length==0&&(e.children.length==0||e.children.length==e.getElementsByTagName("br").length+e.getElementsByTagName("hr").length)},_hasChildBlockElement:function(e){return this._someNode(e.childNodes,function(t){return this.DIV_TO_P_ELEMS.has(t.tagName)||this._hasChildBlockElement(t)})},_isPhrasingContent:function(e){return e.nodeType===this.TEXT_NODE||this.PHRASING_ELEMS.indexOf(e.tagName)!==-1||(e.tagName==="A"||e.tagName==="DEL"||e.tagName==="INS")&&this._everyNode(e.childNodes,this._isPhrasingContent)},_isWhitespace:function(e){return e.nodeType===this.TEXT_NODE&&e.textContent.trim().length===0||e.nodeType===this.ELEMENT_NODE&&e.tagName==="BR"},_getInnerText:function(e,t){t=typeof t>"u"?!0:t;var n=e.textContent.trim();return t?n.replace(this.REGEXPS.normalize," "):n},_getCharCount:function(e,t){return t=t||",",this._getInnerText(e).split(t).length-1},_cleanStyles:function(e){if(!(!e||e.tagName.toLowerCase()==="svg")){for(var t=0;t<this.PRESENTATIONAL_ATTRIBUTES.length;t++)e.removeAttribute(this.PRESENTATIONAL_ATTRIBUTES[t]);this.DEPRECATED_SIZE_ATTRIBUTE_ELEMS.indexOf(e.tagName)!==-1&&(e.removeAttribute("width"),e.removeAttribute("height"));for(var n=e.firstElementChild;n!==null;)this._cleanStyles(n),n=n.nextElementSibling}},_getLinkDensity:function(e){var t=this._getInnerText(e).length;if(t===0)return 0;var n=0;return this._forEachNode(e.getElementsByTagName("a"),function(i){var r=i.getAttribute("href"),o=r&&this.REGEXPS.hashUrl.test(r)?.3:1;n+=this._getInnerText(i).length*o}),n/t},_getClassWeight:function(e){if(!this._flagIsActive(this.FLAG_WEIGHT_CLASSES))return 0;var t=0;return typeof e.className=="string"&&e.className!==""&&(this.REGEXPS.negative.test(e.className)&&(t-=25),this.REGEXPS.positive.test(e.className)&&(t+=25)),typeof e.id=="string"&&e.id!==""&&(this.REGEXPS.negative.test(e.id)&&(t-=25),this.REGEXPS.positive.test(e.id)&&(t+=25)),t},_clean:function(e,t){var n=["object","embed","iframe"].indexOf(t)!==-1;this._removeNodes(this._getAllNodesWithTag(e,[t]),function(i){if(n){for(var r=0;r<i.attributes.length;r++)if(this.REGEXPS.videos.test(i.attributes[r].value))return!1;if(i.tagName==="object"&&this.REGEXPS.videos.test(i.innerHTML))return!1}return!0})},_hasAncestorTag:function(e,t,n,i){n=n||3,t=t.toUpperCase();for(var r=0;e.parentNode;){if(n>0&&r>n)return!1;if(e.parentNode.tagName===t&&(!i||i(e.parentNode)))return!0;e=e.parentNode,r++}return!1},_getRowAndColumnCount:function(e){for(var t=0,n=0,i=e.getElementsByTagName("tr"),r=0;r<i.length;r++){var o=i[r].getAttribute("rowspan")||0;o&&(o=parseInt(o,10)),t+=o||1;for(var s=0,a=i[r].getElementsByTagName("td"),c=0;c<a.length;c++){var l=a[c].getAttribute("colspan")||0;l&&(l=parseInt(l,10)),s+=l||1}n=Math.max(n,s)}return{rows:t,columns:n}},_markDataTables:function(e){for(var t=e.getElementsByTagName("table"),n=0;n<t.length;n++){var i=t[n],r=i.getAttribute("role");if(r=="presentation"){i._readabilityDataTable=!1;continue}var o=i.getAttribute("datatable");if(o=="0"){i._readabilityDataTable=!1;continue}var s=i.getAttribute("summary");if(s){i._readabilityDataTable=!0;continue}var a=i.getElementsByTagName("caption")[0];if(a&&a.childNodes.length>0){i._readabilityDataTable=!0;continue}var c=["col","colgroup","tfoot","thead","th"],l=function(d){return!!i.getElementsByTagName(d)[0]};if(c.some(l)){this.log("Data table because found data-y descendant"),i._readabilityDataTable=!0;continue}if(i.getElementsByTagName("table")[0]){i._readabilityDataTable=!1;continue}var f=this._getRowAndColumnCount(i);if(f.rows>=10||f.columns>4){i._readabilityDataTable=!0;continue}i._readabilityDataTable=f.rows*f.columns>10}},_fixLazyImages:function(e){this._forEachNode(this._getAllNodesWithTag(e,["img","picture","figure"]),function(t){if(t.src&&this.REGEXPS.b64DataUrl.test(t.src)){var n=this.REGEXPS.b64DataUrl.exec(t.src);if(n[1]==="image/svg+xml")return;for(var i=!1,r=0;r<t.attributes.length;r++){var o=t.attributes[r];if(o.name!=="src"&&/\.(jpg|jpeg|png|webp)/i.test(o.value)){i=!0;break}}if(i){var s=t.src.search(/base64\s*/i)+7,a=t.src.length-s;a<133&&t.removeAttribute("src")}}if(!((t.src||t.srcset&&t.srcset!="null")&&t.className.toLowerCase().indexOf("lazy")===-1)){for(var c=0;c<t.attributes.length;c++)if(o=t.attributes[c],!(o.name==="src"||o.name==="srcset"||o.name==="alt")){var l=null;if(/\.(jpg|jpeg|png|webp)\s+\d/.test(o.value)?l="srcset":/^\s*\S+\.(jpg|jpeg|png|webp)\S*\s*$/.test(o.value)&&(l="src"),l){if(t.tagName==="IMG"||t.tagName==="PICTURE")t.setAttribute(l,o.value);else if(t.tagName==="FIGURE"&&!this._getAllNodesWithTag(t,["img","picture"]).length){var f=this._doc.createElement("img");f.setAttribute(l,o.value),t.appendChild(f)}}}}})},_getTextDensity:function(e,t){var n=this._getInnerText(e,!0).length;if(n===0)return 0;var i=0,r=this._getAllNodesWithTag(e,t);return this._forEachNode(r,o=>i+=this._getInnerText(o,!0).length),i/n},_cleanConditionally:function(e,t){!this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY)||this._removeNodes(this._getAllNodesWithTag(e,[t]),function(n){var i=function(O){return O._readabilityDataTable},r=t==="ul"||t==="ol";if(!r){var o=0,s=this._getAllNodesWithTag(n,["ul","ol"]);this._forEachNode(s,O=>o+=this._getInnerText(O).length),r=o/this._getInnerText(n).length>.9}if(t==="table"&&i(n)||this._hasAncestorTag(n,"table",-1,i)||this._hasAncestorTag(n,"code"))return!1;var a=this._getClassWeight(n);this.log("Cleaning Conditionally",n);var c=0;if(a+c<0)return!0;if(this._getCharCount(n,",")<10){for(var l=n.getElementsByTagName("p").length,f=n.getElementsByTagName("img").length,d=n.getElementsByTagName("li").length-100,g=n.getElementsByTagName("input").length,E=this._getTextDensity(n,["h1","h2","h3","h4","h5","h6"]),x=0,T=this._getAllNodesWithTag(n,["object","embed","iframe"]),w=0;w<T.length;w++){for(var C=0;C<T[w].attributes.length;C++)if(this.REGEXPS.videos.test(T[w].attributes[C].value))return!1;if(T[w].tagName==="object"&&this.REGEXPS.videos.test(T[w].innerHTML))return!1;x++}var N=this._getLinkDensity(n),A=this._getInnerText(n).length,y=f>1&&l/f<.5&&!this._hasAncestorTag(n,"figure")||!r&&d>l||g>Math.floor(l/3)||!r&&E<.9&&A<25&&(f===0||f>2)&&!this._hasAncestorTag(n,"figure")||!r&&a<25&&N>.2||a>=25&&N>.5||x===1&&A<75||x>1;return y}return!1})},_cleanMatchedNodes:function(e,t){for(var n=this._getNextNode(e,!0),i=this._getNextNode(e);i&&i!=n;)t.call(this,i,i.className+" "+i.id)?i=this._removeAndGetNext(i):i=this._getNextNode(i)},_cleanHeaders:function(e){let t=this._getAllNodesWithTag(e,["h1","h2"]);this._removeNodes(t,function(n){let i=this._getClassWeight(n)<0;return i&&this.log("Removing header with low class weight:",n),i})},_headerDuplicatesTitle:function(e){if(e.tagName!="H1"&&e.tagName!="H2")return!1;var t=this._getInnerText(e,!1);return this.log("Evaluating similarity of header:",t,this._articleTitle),this._textSimilarity(this._articleTitle,t)>.75},_flagIsActive:function(e){return(this._flags&e)>0},_removeFlag:function(e){this._flags=this._flags&~e},_isProbablyVisible:function(e){return(!e.style||e.style.display!="none")&&!e.hasAttribute("hidden")&&(!e.hasAttribute("aria-hidden")||e.getAttribute("aria-hidden")!="true"||e.className&&e.className.indexOf&&e.className.indexOf("fallback-image")!==-1)},parse:function(){if(this._maxElemsToParse>0){var e=this._doc.getElementsByTagName("*").length;if(e>this._maxElemsToParse)throw new Error("Aborting parsing document; "+e+" elements found")}this._unwrapNoscriptImages(this._doc);var t=this._disableJSONLD?{}:this._getJSONLD(this._doc);this._removeScripts(this._doc),this._prepDocument();var n=this._getArticleMetadata(t);this._articleTitle=n.title;var i=this._grabArticle();if(!i)return null;if(this.log("Grabbed: "+i.innerHTML),this._postProcessContent(i),!n.excerpt){var r=i.getElementsByTagName("p");r.length>0&&(n.excerpt=r[0].textContent.trim())}var o=i.textContent;return{title:this._articleTitle,byline:n.byline||this._articleByline,dir:this._articleDir,lang:this._articleLang,content:this._serializer(i),textContent:o,length:o.length,excerpt:n.excerpt,siteName:n.siteName||this._articleSiteName}}};typeof ps=="object"&&(ps.exports=Lc)});var Rc=ur((Hw,ms)=>{var Ic={unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i};function Xd(e){return(!e.style||e.style.display!="none")&&!e.hasAttribute("hidden")&&(!e.hasAttribute("aria-hidden")||e.getAttribute("aria-hidden")!="true"||e.className&&e.className.indexOf&&e.className.indexOf("fallback-image")!==-1)}function Jd(e,t={}){typeof t=="function"&&(t={visibilityChecker:t});var n={minScore:20,minContentLength:140,visibilityChecker:Xd};t=Object.assign(n,t);var i=e.querySelectorAll("p, pre, article"),r=e.querySelectorAll("div > br");if(r.length){var o=new Set(i);[].forEach.call(r,function(a){o.add(a.parentNode)}),i=Array.from(o)}var s=0;return[].some.call(i,function(a){if(!t.visibilityChecker(a))return!1;var c=a.className+" "+a.id;if(Ic.unlikelyCandidates.test(c)&&!Ic.okMaybeItsACandidate.test(c)||a.matches("li p"))return!1;var l=a.textContent.trim().length;return l<t.minContentLength?!1:(s+=Math.sqrt(l-t.minContentLength),s>t.minScore)})}typeof ms=="object"&&(ms.exports=Jd)});var kc=ur((Uw,Mc)=>{var Qd=Oc(),Zd=Rc();Mc.exports={Readability:Qd,isProbablyReaderable:Zd}});var xa=Object.prototype.toString;function vi(e){switch(xa.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Wt(e,Error)}}function $n(e,t){return xa.call(e)===`[object ${t}]`}function yi(e){return $n(e,"ErrorEvent")}function dr(e){return $n(e,"DOMError")}function xo(e){return $n(e,"DOMException")}function zt(e){return $n(e,"String")}function Bn(e){return e===null||typeof e!="object"&&typeof e!="function"}function ie(e){return $n(e,"Object")}function Hn(e){return typeof Event<"u"&&Wt(e,Event)}function To(e){return typeof Element<"u"&&Wt(e,Element)}function So(e){return $n(e,"RegExp")}function hn(e){return Boolean(e&&e.then&&typeof e.then=="function")}function Ao(e){return ie(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function No(e){return typeof e=="number"&&e!==e}function Wt(e,t){try{return e instanceof t}catch{return!1}}function hr(e){return e&&e.Math==Math?e:void 0}var St=typeof globalThis=="object"&&hr(globalThis)||typeof window=="object"&&hr(window)||typeof self=="object"&&hr(self)||typeof global=="object"&&hr(global)||function(){return this}()||{};function Te(){return St}function pn(e,t,n){let i=n||St,r=i.__SENTRY__=i.__SENTRY__||{};return r[e]||(r[e]=t())}var ku=Te(),Pu=80;function Un(e,t={}){try{let n=e,i=5,r=[],o=0,s=0,a=" > ",c=a.length,l,f=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||Pu;for(;n&&o++<i&&(l=$u(n,f),!(l==="html"||o>1&&s+r.length*c+l.length>=d));)r.push(l),s+=l.length,n=n.parentNode;return r.reverse().join(a)}catch{return"<unknown>"}}function $u(e,t){let n=e,i=[],r,o,s,a,c;if(!n||!n.tagName)return"";i.push(n.tagName.toLowerCase());let l=t&&t.length?t.filter(d=>n.getAttribute(d)).map(d=>[d,n.getAttribute(d)]):null;if(l&&l.length)l.forEach(d=>{i.push(`[${d[0]}="${d[1]}"]`)});else if(n.id&&i.push(`#${n.id}`),r=n.className,r&&zt(r))for(o=r.split(/\s+/),c=0;c<o.length;c++)i.push(`.${o[c]}`);let f=["type","name","title","alt"];for(c=0;c<f.length;c++)s=f[c],a=n.getAttribute(s),a&&i.push(`[${s}="${a}"]`);return i.join("")}function Co(){try{return ku.document.location.href}catch{return""}}var ot=class extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}};var Bu=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Hu(e){return e==="http"||e==="https"}function ze(e,t=!1){let{host:n,path:i,pass:r,port:o,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&r?`:${r}`:""}@${n}${o?`:${o}`:""}/${i&&`${i}/`}${s}`}function Ta(e){let t=Bu.exec(e);if(!t)throw new ot(`Invalid Sentry Dsn: ${e}`);let[n,i,r="",o,s="",a]=t.slice(1),c="",l=a,f=l.split("/");if(f.length>1&&(c=f.slice(0,-1).join("/"),l=f.pop()),l){let d=l.match(/^\d+/);d&&(l=d[0])}return Sa({host:o,pass:r,path:c,projectId:l,port:s,protocol:n,publicKey:i})}function Sa(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Uu(e){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return;let{port:t,projectId:n,protocol:i}=e;if(["protocol","publicKey","host","projectId"].forEach(o=>{if(!e[o])throw new ot(`Invalid Sentry Dsn: ${o} missing`)}),!n.match(/^\d+$/))throw new ot(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!Hu(i))throw new ot(`Invalid Sentry Dsn: Invalid protocol ${i}`);if(t&&isNaN(parseInt(t,10)))throw new ot(`Invalid Sentry Dsn: Invalid port ${t}`);return!0}function pr(e){let t=typeof e=="string"?Ta(e):Sa(e);return Uu(t),t}var Fu="Sentry Logger ",Fn=["debug","info","warn","error","log","assert","trace"];function mr(e){if(!("console"in St))return e();let t=St.console,n={};Fn.forEach(i=>{let r=t[i]&&t[i].__sentry_original__;i in t&&r&&(n[i]=t[i],t[i]=r)});try{return e()}finally{Object.keys(n).forEach(i=>{t[i]=n[i]})}}function Aa(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?Fn.forEach(n=>{t[n]=(...i)=>{e&&mr(()=>{St.console[n](`${Fu}[${n}]:`,...i)})}}):Fn.forEach(n=>{t[n]=()=>{}}),t}var k;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?k=pn("logger",Aa):k=Aa();function We(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.substr(0,t)}...`}function gr(e,t){if(!Array.isArray(e))return"";let n=[];for(let i=0;i<e.length;i++){let r=e[i];try{n.push(String(r))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Na(e,t,n=!1){return zt(e)?So(t)?t.test(e):zt(t)?n?e===t:e.includes(t):!1:!1}function bi(e,t=[],n=!1){return t.some(i=>Na(e,i,n))}function pt(e,t,n){if(!(t in e))return;let i=e[t],r=n(i);if(typeof r=="function")try{_r(r,i)}catch{}e[t]=r}function jn(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function _r(e,t){let n=t.prototype||{};e.prototype=t.prototype=n,jn(e,"__sentry_original__",t)}function mn(e){return e.__sentry_original__}function Lo(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function Er(e){if(vi(e))return{message:e.message,name:e.name,stack:e.stack,...Da(e)};if(Hn(e)){let t={type:e.type,target:Ca(e.target),currentTarget:Ca(e.currentTarget),...Da(e)};return typeof CustomEvent<"u"&&Wt(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Ca(e){try{return To(e)?Un(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Da(e){if(typeof e=="object"&&e!==null){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Oo(e,t=40){let n=Object.keys(Er(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return We(n[0],t);for(let i=n.length;i>0;i--){let r=n.slice(0,i).join(", ");if(!(r.length>t))return i===n.length?r:We(r,t)}return""}function Gn(e){return Do(e,new Map)}function Do(e,t){if(ie(e)){let n=t.get(e);if(n!==void 0)return n;let i={};t.set(e,i);for(let r of Object.keys(e))typeof e[r]<"u"&&(i[r]=Do(e[r],t));return i}if(Array.isArray(e)){let n=t.get(e);if(n!==void 0)return n;let i=[];return t.set(e,i),e.forEach(r=>{i.push(Do(r,t))}),i}return e}function Io(e){let t,n=e[0],i=1;for(;i<e.length;){let r=e[i],o=e[i+1];if(i+=2,(r==="optionalAccess"||r==="optionalCall")&&n==null)return;r==="access"||r==="optionalAccess"?(t=n,n=o(n)):(r==="call"||r==="optionalCall")&&(n=o((...s)=>n.call(t,...s)),t=void 0)}return n}var ju=50;function vr(...e){let t=e.sort((n,i)=>n[0]-i[0]).map(n=>n[1]);return(n,i=0)=>{let r=[];for(let o of n.split(`
`).slice(i)){if(o.length>1024)continue;let s=o.replace(/\(error: (.*)\)/,"$1");for(let a of t){let c=a(s);if(c){r.push(c);break}}}return La(r)}}function Mo(e){return Array.isArray(e)?vr(...e):e}function La(e){if(!e.length)return[];let t=e,n=t[0].function||"",i=t[t.length-1].function||"";return(n.indexOf("captureMessage")!==-1||n.indexOf("captureException")!==-1)&&(t=t.slice(1)),i.indexOf("sentryWrapped")!==-1&&(t=t.slice(0,-1)),t.slice(0,ju).map(r=>({...r,filename:r.filename||t[0].filename,function:r.function||"?"})).reverse()}var Ro="<anonymous>";function Yt(e){try{return!e||typeof e!="function"?Ro:e.name||Ro}catch{return Ro}}var gn=Te();function yr(){if(!("fetch"in gn))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function wi(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function ko(){if(!yr())return!1;if(wi(gn.fetch))return!0;let e=!1,t=gn.document;if(t&&typeof t.createElement=="function")try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=wi(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function Po(){let e=gn.chrome,t=e&&e.app&&e.app.runtime,n="history"in gn&&!!gn.history.pushState&&!!gn.history.replaceState;return!t&&n}var et=Te(),xi={},Oa={};function Gu(e){if(!Oa[e])switch(Oa[e]=!0,e){case"console":zu();break;case"dom":Zu();break;case"xhr":qu();break;case"fetch":Wu();break;case"history":Ku();break;case"error":tf();break;case"unhandledrejection":ef();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn("unknown instrumentation type:",e);return}}function Vt(e,t){xi[e]=xi[e]||[],xi[e].push(t),Gu(e)}function re(e,t){if(!(!e||!xi[e]))for(let n of xi[e]||[])try{n(t)}catch(i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Yt(n)}
Error:`,i)}}function zu(){"console"in et&&Fn.forEach(function(e){e in et.console&&pt(et.console,e,function(t){return function(...n){re("console",{args:n,level:e}),t&&t.apply(et.console,n)}})})}function Wu(){!ko()||pt(et,"fetch",function(e){return function(...t){let n={args:t,fetchData:{method:Yu(t),url:Vu(t)},startTimestamp:Date.now()};return re("fetch",{...n}),e.apply(et,t).then(i=>(re("fetch",{...n,endTimestamp:Date.now(),response:i}),i),i=>{throw re("fetch",{...n,endTimestamp:Date.now(),error:i}),i})}})}function Yu(e=[]){return"Request"in et&&Wt(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function Vu(e=[]){return typeof e[0]=="string"?e[0]:"Request"in et&&Wt(e[0],Request)?e[0].url:String(e[0])}function qu(){if(!("XMLHttpRequest"in et))return;let e=XMLHttpRequest.prototype;pt(e,"open",function(t){return function(...n){let i=this,r=n[1],o=i.__sentry_xhr__={method:zt(n[0])?n[0].toUpperCase():n[0],url:n[1]};zt(r)&&o.method==="POST"&&r.match(/sentry_key/)&&(i.__sentry_own_request__=!0);let s=function(){if(i.readyState===4){try{o.status_code=i.status}catch{}re("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:i})}};return"onreadystatechange"in i&&typeof i.onreadystatechange=="function"?pt(i,"onreadystatechange",function(a){return function(...c){return s(),a.apply(i,c)}}):i.addEventListener("readystatechange",s),t.apply(i,n)}}),pt(e,"send",function(t){return function(...n){return this.__sentry_xhr__&&n[0]!==void 0&&(this.__sentry_xhr__.body=n[0]),re("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),t.apply(this,n)}})}var br;function Ku(){if(!Po())return;let e=et.onpopstate;et.onpopstate=function(...n){let i=et.location.href,r=br;if(br=i,re("history",{from:r,to:i}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...i){let r=i.length>2?i[2]:void 0;if(r){let o=br,s=String(r);br=s,re("history",{from:o,to:s})}return n.apply(this,i)}}pt(et.history,"pushState",t),pt(et.history,"replaceState",t)}var Xu=1e3,wr,xr;function Ju(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch{}return!1}function Qu(e){if(e.type!=="keypress")return!1;try{let t=e.target;if(!t||!t.tagName)return!0;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)return!1}catch{}return!0}function Ia(e,t=!1){return n=>{if(!n||xr===n||Qu(n))return;let i=n.type==="keypress"?"input":n.type;wr===void 0?(e({event:n,name:i,global:t}),xr=n):Ju(xr,n)&&(e({event:n,name:i,global:t}),xr=n),clearTimeout(wr),wr=et.setTimeout(()=>{wr=void 0},Xu)}}function Zu(){if(!("document"in et))return;let e=re.bind(null,"dom"),t=Ia(e,!0);et.document.addEventListener("click",t,!1),et.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{let i=et[n]&&et[n].prototype;!i||!i.hasOwnProperty||!i.hasOwnProperty("addEventListener")||(pt(i,"addEventListener",function(r){return function(o,s,a){if(o==="click"||o=="keypress")try{let c=this,l=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},f=l[o]=l[o]||{refCount:0};if(!f.handler){let d=Ia(e);f.handler=d,r.call(this,o,d,a)}f.refCount++}catch{}return r.call(this,o,s,a)}}),pt(i,"removeEventListener",function(r){return function(o,s,a){if(o==="click"||o=="keypress")try{let c=this,l=c.__sentry_instrumentation_handlers__||{},f=l[o];f&&(f.refCount--,f.refCount<=0&&(r.call(this,o,f.handler,a),f.handler=void 0,delete l[o]),Object.keys(l).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return r.call(this,o,s,a)}}))})}var $o=null;function tf(){$o=et.onerror,et.onerror=function(e,t,n,i,r){return re("error",{column:i,error:r,line:n,msg:e,url:t}),$o?$o.apply(this,arguments):!1}}var Bo=null;function ef(){Bo=et.onunhandledrejection,et.onunhandledrejection=function(e){return re("unhandledrejection",e),Bo?Bo.apply(this,arguments):!0}}function Ra(){let e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(r){if(e)return t.has(r)?!0:(t.add(r),!1);for(let o=0;o<t.length;o++)if(t[o]===r)return!0;return t.push(r),!1}function i(r){if(e)t.delete(r);else for(let o=0;o<t.length;o++)if(t[o]===r){t.splice(o,1);break}}return[n,i]}function pe(){let e=St,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");let n=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,i=>(i^(n()&15)>>i/4).toString(16))}function Ma(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function me(e){let{message:t,event_id:n}=e;if(t)return t;let i=Ma(e);return i?i.type&&i.value?`${i.type}: ${i.value}`:i.type||i.value||n||"<unknown>":n||"<unknown>"}function zn(e,t,n){let i=e.exception=e.exception||{},r=i.values=i.values||[],o=r[0]=r[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function Se(e,t){let n=Ma(e);if(!n)return;let i={type:"generic",handled:!0},r=n.mechanism;if(n.mechanism={...i,...r,...t},t&&"data"in t){let o={...r&&r.data,...t.data};n.mechanism.data=o}}function Tr(e){if(e&&e.__sentry_captured__)return!0;try{jn(e,"__sentry_captured__",!0)}catch{}return!1}function Ti(e){return Array.isArray(e)?e:[e]}function ka(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Si(){return!ka()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Ho(e,t){return e.require(t)}function oe(e,t=1/0,n=1/0){try{return Sr("",e,t,n)}catch(i){return{ERROR:`**non-serializable** (${i})`}}}function Ar(e,t=3,n=100*1024){let i=oe(e,t);return of(i)>n?Ar(e,t-1,n):i}function Sr(e,t,n=1/0,i=1/0,r=Ra()){let[o,s]=r;if(t===null||["number","boolean","string"].includes(typeof t)&&!No(t))return t;let a=nf(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;if(n===0)return a.replace("object ","");if(o(t))return"[Circular ~]";let c=t;if(c&&typeof c.toJSON=="function")try{let g=c.toJSON();return Sr("",g,n-1,i,r)}catch{}let l=Array.isArray(t)?[]:{},f=0,d=Er(t);for(let g in d){if(!Object.prototype.hasOwnProperty.call(d,g))continue;if(f>=i){l[g]="[MaxProperties ~]";break}let E=d[g];l[g]=Sr(g,E,n-1,i,r),f++}return s(t),l}function nf(e,t){try{return e==="domain"&&t&&typeof t=="object"&&t._events?"[Domain]":e==="domainEmitter"?"[DomainEmitter]":typeof global<"u"&&t===global?"[Global]":typeof window<"u"&&t===window?"[Window]":typeof document<"u"&&t===document?"[Document]":Ao(t)?"[SyntheticEvent]":typeof t=="number"&&t!==t?"[NaN]":t===void 0?"[undefined]":typeof t=="function"?`[Function: ${Yt(t)}]`:typeof t=="symbol"?`[${String(t)}]`:typeof t=="bigint"?`[BigInt: ${String(t)}]`:`[object ${Object.getPrototypeOf(t).constructor.name}]`}catch(n){return`**non-serializable** (${n})`}}function rf(e){return~-encodeURI(e).split(/%..|./).length}function of(e){return rf(JSON.stringify(e))}var Ae;(function(e){e[e.PENDING=0]="PENDING";let n=1;e[e.RESOLVED=n]="RESOLVED";let i=2;e[e.REJECTED=i]="REJECTED"})(Ae||(Ae={}));function Mt(e){return new ct(t=>{t(e)})}function Ye(e){return new ct((t,n)=>{n(e)})}var ct=class{__init(){this._state=Ae.PENDING}__init2(){this._handlers=[]}constructor(t){ct.prototype.__init.call(this),ct.prototype.__init2.call(this),ct.prototype.__init3.call(this),ct.prototype.__init4.call(this),ct.prototype.__init5.call(this),ct.prototype.__init6.call(this);try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new ct((i,r)=>{this._handlers.push([!1,o=>{if(!t)i(o);else try{i(t(o))}catch(s){r(s)}},o=>{if(!n)r(o);else try{i(n(o))}catch(s){r(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new ct((n,i)=>{let r,o;return this.then(s=>{o=!1,r=s,t&&t()},s=>{o=!0,r=s,t&&t()}).then(()=>{if(o){i(r);return}n(r)})})}__init3(){this._resolve=t=>{this._setResult(Ae.RESOLVED,t)}}__init4(){this._reject=t=>{this._setResult(Ae.REJECTED,t)}}__init5(){this._setResult=(t,n)=>{if(this._state===Ae.PENDING){if(hn(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state===Ae.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Ae.RESOLVED&&n[1](this._value),this._state===Ae.REJECTED&&n[2](this._value),n[0]=!0)})}}};function Uo(e){let t=[];function n(){return e===void 0||t.length<e}function i(s){return t.splice(t.indexOf(s),1)[0]}function r(s){if(!n())return Ye(new ot("Not adding Promise because buffer limit was reached."));let a=s();return t.indexOf(a)===-1&&t.push(a),a.then(()=>i(a)).then(null,()=>i(a).then(null,()=>{})),a}function o(s){return new ct((a,c)=>{let l=t.length;if(!l)return a(!0);let f=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(d=>{Mt(d).then(()=>{--l||(clearTimeout(f),a(!0))},c)})})}return{$:t,add:r,drain:o}}function Ai(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",i=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+i}}var Pa=["fatal","error","warning","log","info","debug"];function Fo(e){return e==="warn"?"warning":Pa.includes(e)?e:"log"}var Ba=Te(),Go={nowSeconds:()=>Date.now()/1e3};function sf(){let{performance:e}=Ba;if(!e||!e.now)return;let t=Date.now()-e.now();return{now:()=>e.now(),timeOrigin:t}}function af(){try{return Ho(module,"perf_hooks").performance}catch{return}}var jo=Si()?af():sf(),$a=jo===void 0?Go:{nowSeconds:()=>(jo.timeOrigin+jo.now())/1e3},Ne=Go.nowSeconds.bind(Go),Nr=$a.nowSeconds.bind($a);var Ni,cf=(()=>{let{performance:e}=Ba;if(!e||!e.now){Ni="none";return}let t=3600*1e3,n=e.now(),i=Date.now(),r=e.timeOrigin?Math.abs(e.timeOrigin+n-i):t,o=r<t,s=e.timing&&e.timing.navigationStart,c=typeof s=="number"?Math.abs(s+n-i):t,l=c<t;return o||l?r<=c?(Ni="timeOrigin",e.timeOrigin):(Ni="navigationStart",s):(Ni="dateNow",i)})();function Ve(e,t=[]){return[e,t]}function Wo(e,t){let[n,i]=e;return[n,[...i,t]]}function Cr(e,t){e[1].forEach(i=>{let r=i[0].type;t(i,r)})}function zo(e,t){return(t||new TextEncoder).encode(e)}function Ci(e,t){let[n,i]=e,r=JSON.stringify(n);function o(s){typeof r=="string"?r=typeof s=="string"?r+s:[zo(r,t),s]:r.push(typeof s=="string"?zo(s,t):s)}for(let s of i){let[a,c]=s;if(o(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)o(c);else{let l;try{l=JSON.stringify(c)}catch{l=JSON.stringify(oe(c))}o(l)}}return typeof r=="string"?r:lf(r)}function lf(e){let t=e.reduce((r,o)=>r+o.length,0),n=new Uint8Array(t),i=0;for(let r of e)n.set(r,i),i+=r.length;return n}function Yo(e,t){let n=typeof e.data=="string"?zo(e.data,t):e.data;return[Gn({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}var uf={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay_event",replay_recording:"replay_recording"};function Dr(e){return uf[e]}function Lr(e){if(!e||!e.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function Vo(e,t,n,i){let r=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&{dsn:ze(i)},...e.type==="transaction"&&r&&{trace:Gn({...r})}}}function qo(e,t,n){let i=[{type:"client_report"},{timestamp:n||Ne(),discarded_events:e}];return Ve(t?{dsn:t}:{},[i])}function Ha(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;let i=Date.parse(`${e}`);return isNaN(i)?6e4:i-t}function Ua(e,t){return e[t]||e.all||0}function Ko(e,t,n=Date.now()){return Ua(e,t)>n}function Xo(e,{statusCode:t,headers:n},i=Date.now()){let r={...e},o=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(o)for(let a of o.trim().split(",")){let[c,l]=a.split(":",2),f=parseInt(c,10),d=(isNaN(f)?60:f)*1e3;if(!l)r.all=i+d;else for(let g of l.split(";"))r[g]=i+d}else s?r.all=i+Ha(s,i):t===429&&(r.all=i+60*1e3);return r}function Fa(e){let t=Nr(),n={sid:pe(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>ff(n)};return e&&Ce(n,e),n}function Ce(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Nr(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:pe()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function ja(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),Ce(e,n)}function ff(e){return Gn({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}var df=100,kt=class{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(t){let n=new kt;return t&&(n._breadcrumbs=[...t._breadcrumbs],n._tags={...t._tags},n._extra={...t._extra},n._contexts={...t._contexts},n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=[...t._eventProcessors],n._requestSession=t._requestSession,n._attachments=[...t._attachments],n._sdkProcessingMetadata={...t._sdkProcessingMetadata}),n}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&Ce(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if(typeof t=="function"){let n=t(this);return n instanceof kt?n:this}return t instanceof kt?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):ie(t)&&(t=t,this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(t,n){let i=typeof n=="number"?n:df;if(i<=0)return this;let r={timestamp:Ne(),...t};return this._breadcrumbs=[...this._breadcrumbs,r].slice(-i),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,n={}){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};let i=this._span.transaction&&this._span.transaction.name;i&&(t.tags={transaction:i,...t.tags})}return this._applyFingerprint(t),t.breadcrumbs=[...t.breadcrumbs||[],...this._breadcrumbs],t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...Ga(),...this._eventProcessors],t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}_notifyEventProcessors(t,n,i,r=0){return new ct((o,s)=>{let a=t[r];if(n===null||typeof a!="function")o(n);else{let c=a({...n},i);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&a.id&&c===null&&k.log(`Event processor "${a.id}" dropped event`),hn(c)?c.then(l=>this._notifyEventProcessors(t,l,i,r+1).then(o)).then(null,s):this._notifyEventProcessors(t,c,i,r+1).then(o).then(null,s)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?Ti(t.fingerprint):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}};function Ga(){return pn("globalEventProcessors",()=>[])}function qe(e){Ga().push(e)}var Jo=4,hf=100,De=class{__init(){this._stack=[{}]}constructor(t,n=new kt,i=Jo){this._version=i,De.prototype.__init.call(this),this.getStackTop().scope=n,t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){let n=this.getStackTop();n.client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){let t=kt.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){let n=this.pushScope();try{t(n)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){let i=this._lastEventId=n&&n.event_id?n.event_id:pe(),r=new Error("Sentry syntheticException");return this._withClient((o,s)=>{o.captureException(t,{originalException:t,syntheticException:r,...n,event_id:i},s)}),i}captureMessage(t,n,i){let r=this._lastEventId=i&&i.event_id?i.event_id:pe(),o=new Error(t);return this._withClient((s,a)=>{s.captureMessage(t,n,{originalException:t,syntheticException:o,...i,event_id:r},a)}),r}captureEvent(t,n){let i=n&&n.event_id?n.event_id:pe();return t.type||(this._lastEventId=i),this._withClient((r,o)=>{r.captureEvent(t,{...n,event_id:i},o)}),i}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){let{scope:i,client:r}=this.getStackTop();if(!i||!r)return;let{beforeBreadcrumb:o=null,maxBreadcrumbs:s=hf}=r.getOptions&&r.getOptions()||{};if(s<=0)return;let c={timestamp:Ne(),...t},l=o?mr(()=>o(c,n)):c;l!==null&&i.addBreadcrumb(l,s)}setUser(t){let n=this.getScope();n&&n.setUser(t)}setTags(t){let n=this.getScope();n&&n.setTags(t)}setExtras(t){let n=this.getScope();n&&n.setExtras(t)}setTag(t,n){let i=this.getScope();i&&i.setTag(t,n)}setExtra(t,n){let i=this.getScope();i&&i.setExtra(t,n)}setContext(t,n){let i=this.getScope();i&&i.setContext(t,n)}configureScope(t){let{scope:n,client:i}=this.getStackTop();n&&i&&t(n)}run(t){let n=Or(this);try{t(this)}finally{Or(n)}}getIntegration(t){let n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){return this._callExtensionMethod("startTransaction",t,n)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){let t=this.getStackTop(),n=t&&t.scope,i=n&&n.getSession();i&&ja(i),this._sendSessionUpdate(),n&&n.setSession()}startSession(t){let{scope:n,client:i}=this.getStackTop(),{release:r,environment:o}=i&&i.getOptions()||{},{userAgent:s}=St.navigator||{},a=Fa({release:r,environment:o,...n&&{user:n.getUser()},...s&&{userAgent:s},...t});if(n){let c=n.getSession&&n.getSession();c&&c.status==="ok"&&Ce(c,{status:"exited"}),this.endSession(),n.setSession(a)}return a}shouldSendDefaultPii(){let t=this.getClient(),n=t&&t.getOptions();return Boolean(n&&n.sendDefaultPii)}_sendSessionUpdate(){let{scope:t,client:n}=this.getStackTop();if(!t)return;let i=t.getSession();i&&n&&n.captureSession&&n.captureSession(i)}_withClient(t){let{scope:n,client:i}=this.getStackTop();i&&t(i,n)}_callExtensionMethod(t,...n){let r=Di().__SENTRY__;if(r&&r.extensions&&typeof r.extensions[t]=="function")return r.extensions[t].apply(this,n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn(`Extension method ${t} couldn't be found, doing nothing.`)}};function Di(){return St.__SENTRY__=St.__SENTRY__||{extensions:{},hub:void 0},St}function Or(e){let t=Di(),n=ge(t);return Ir(t,e),n}function Y(){let e=Di();return(!za(e)||ge(e).isOlderThan(Jo))&&Ir(e,new De),Si()?pf(e):ge(e)}function pf(e){try{let t=Di().__SENTRY__,n=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!n)return ge(e);if(!za(n)||ge(n).isOlderThan(Jo)){let i=ge(e).getStackTop();Ir(n,new De(i.client,kt.clone(i.scope)))}return ge(n)}catch{return ge(e)}}function za(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function ge(e){return pn("hub",()=>new De,e)}function Ir(e,t){if(!e)return!1;let n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function Wn(e,t){return Y().captureException(e,{captureContext:t})}function Rr(e,t){let n=typeof t=="string"?t:void 0,i=typeof t!="string"?{captureContext:t}:void 0;return Y().captureMessage(e,n,i)}function Mr(e){Y().withScope(e)}var mf="7";function gf(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function _f(e){return`${gf(e)}${e.projectId}/envelope/`}function Ef(e,t){return Lo({sentry_key:e.publicKey,sentry_version:mf,...t&&{sentry_client:`${t.name}/${t.version}`}})}function Li(e,t={}){let n=typeof t=="string"?t:t.tunnel,i=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${_f(e)}?${Ef(e,i)}`}function vf(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Wa(e,t,n,i){let r=Lr(n),o={sent_at:new Date().toISOString(),...r&&{sdk:r},...!!i&&{dsn:ze(t)}},s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e];return Ve(o,[s])}function Ya(e,t,n,i){let r=Lr(n),o=e.type&&e.type!=="replay_event"?e.type:"event";vf(e,n&&n.sdk);let s=Vo(e,r,i,t);return delete e.sdkProcessingMetadata,Ve(s,[[{type:o},e]])}var Va=[];function yf(e){let t={};return e.forEach(n=>{let{name:i}=n,r=t[i];r&&!r.isDefaultInstance&&n.isDefaultInstance||(t[i]=n)}),Object.values(t)}function Qo(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let i;Array.isArray(n)?i=[...t,...n]:typeof n=="function"?i=Ti(n(t)):i=t;let r=yf(i),o=r.findIndex(s=>s.name==="Debug");if(o!==-1){let[s]=r.splice(o,1);r.push(s)}return r}function qa(e){let t={};return e.forEach(n=>{Zo(n,t)}),t}function Zo(e,t){t[e.name]=e,Va.indexOf(e.name)===-1&&(e.setupOnce(qe,Y),Va.push(e.name),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.log(`Integration installed: ${e.name}`))}function Ka(e,t,n,i){let{normalizeDepth:r=3,normalizeMaxBreadth:o=1e3}=e,s={...t,event_id:t.event_id||n.event_id||pe(),timestamp:t.timestamp||Ne()};bf(s,e),wf(s,e.integrations.map(l=>l.name));let a=i;n.captureContext&&(a=kt.clone(a).update(n.captureContext));let c=Mt(s);if(a){if(a.getAttachments){let l=[...n.attachments||[],...a.getAttachments()];l.length&&(n.attachments=l)}c=a.applyToEvent(s,n)}return c.then(l=>typeof r=="number"&&r>0?xf(l,r,o):l)}function bf(e,t){let{environment:n,release:i,dist:r,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?n:"production"),e.release===void 0&&i!==void 0&&(e.release=i),e.dist===void 0&&r!==void 0&&(e.dist=r),e.message&&(e.message=We(e.message,o));let s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=We(s.value,o));let a=e.request;a&&a.url&&(a.url=We(a.url,o))}function wf(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function xf(e,t,n){if(!e)return null;let i={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(r=>({...r,...r.data&&{data:oe(r.data,t,n)}}))},...e.user&&{user:oe(e.user,t,n)},...e.contexts&&{contexts:oe(e.contexts,t,n)},...e.extra&&{extra:oe(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&i.contexts&&(i.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(i.contexts.trace.data=oe(e.contexts.trace.data,t,n))),e.spans&&(i.spans=e.spans.map(r=>(r.data&&(r.data=oe(r.data,t,n)),r))),i}var Xa="Not capturing exception because it's already been captured.",_e=class{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(t){if(_e.prototype.__init.call(this),_e.prototype.__init2.call(this),_e.prototype.__init3.call(this),_e.prototype.__init4.call(this),this._options=t,t.dsn){this._dsn=pr(t.dsn);let n=Li(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn("No DSN provided, client will not do anything.")}captureException(t,n,i){if(Tr(t)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.log(Xa);return}let r=n&&n.event_id;return this._process(this.eventFromException(t,n).then(o=>this._captureEvent(o,n,i)).then(o=>{r=o})),r}captureMessage(t,n,i,r){let o=i&&i.event_id,s=Bn(t)?this.eventFromMessage(String(t),n,i):this.eventFromException(t,i);return this._process(s.then(a=>this._captureEvent(a,i,r)).then(a=>{o=a})),o}captureEvent(t,n,i){if(n&&n.originalException&&Tr(n.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.log(Xa);return}let r=n&&n.event_id;return this._process(this._captureEvent(t,n,i).then(o=>{r=o})),r}captureSession(t){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn("SDK not enabled, will not capture session.");return}typeof t.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Ce(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let n=this._transport;return n?this._isClientDoneProcessing(t).then(i=>n.flush(t).then(r=>i&&r)):Mt(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,n))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=qa(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){Zo(t,this._integrations)}sendEvent(t,n={}){if(this._dsn){let i=Ya(t,this._dsn,this._options._metadata,this._options.tunnel);for(let r of n.attachments||[])i=Wo(i,Yo(r,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(i)}}sendSession(t){if(this._dsn){let n=Wa(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}}recordDroppedEvent(t,n,i){if(this._options.sendClientReports){let r=`${t}:${n}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.log(`Adding outcome: "${r}"`),this._outcomes[r]=this._outcomes[r]+1||1}}_updateSessionFromEvent(t,n){let i=!1,r=!1,o=n.exception&&n.exception.values;if(o){r=!0;for(let c of o){let l=c.mechanism;if(l&&l.handled===!1){i=!0;break}}}let s=t.status==="ok";(s&&t.errors===0||s&&i)&&(Ce(t,{...i&&{status:"crashed"},errors:t.errors||Number(r||i)}),this.captureSession(t))}_isClientDoneProcessing(t){return new ct(n=>{let i=0,r=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(i+=r,t&&i>=t&&(clearInterval(o),n(!1)))},r)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(t,n,i){let r=this.getOptions();return Ka(r,t,n,i)}_captureEvent(t,n={},i){return this._processEvent(t,n,i).then(r=>r.event_id,r=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){let o=r;o.logLevel==="log"?k.log(o.message):k.warn(o)}})}_processEvent(t,n,i){let r=this.getOptions(),{sampleRate:o}=r;if(!this._isEnabled())return Ye(new ot("SDK not enabled, will not capture event.","log"));let s=Qa(t),a=Ja(t),c=t.type||"error",l=`before send for type \`${c}\``;return a&&typeof o=="number"&&Math.random()>o?(this.recordDroppedEvent("sample_rate","error",t),Ye(new ot(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"))):this._prepareEvent(t,n,i).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",c,t),new ot("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return f;let g=Sf(r,f,n);return Tf(g,l)}).then(f=>{if(f===null)throw this.recordDroppedEvent("before_send",t.type||"error",t),new ot(`${l} returned \`null\`, will not send event.`,"log");let d=i&&i.getSession();!s&&d&&this._updateSessionFromEvent(d,f);let g=f.transaction_info;if(s&&g&&f.transaction!==t.transaction){let E="custom";f.transaction_info={...g,source:E,changes:[...g.changes,{source:E,timestamp:f.timestamp,propagations:g.propagations}]}}return this.sendEvent(f,n),f}).then(null,f=>{throw f instanceof ot?f:(this.captureException(f,{data:{__sentry__:!0},originalException:f}),new ot(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(t){this._transport&&this._dsn?this._transport.send(t).then(null,n=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.error("Error while sending event:",n)}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.error("Transport disabled")}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{let[i,r]=n.split(":");return{reason:i,category:r,quantity:t[n]}})}};function Tf(e,t){let n=`${t} must return \`null\` or a valid event.`;if(hn(e))return e.then(i=>{if(!ie(i)&&i!==null)throw new ot(n);return i},i=>{throw new ot(`${t} rejected with ${i}`)});if(!ie(e)&&e!==null)throw new ot(n);return e}function Sf(e,t,n){let{beforeSend:i,beforeSendTransaction:r}=e;return Ja(t)&&i?i(t,n):Qa(t)&&r?r(t,n):t}function Ja(e){return e.type===void 0}function Qa(e){return e.type==="transaction"}function ts(e,t){t.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?k.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));let n=Y(),i=n.getScope();i&&i.update(t.initialScope);let r=new e(t);n.bindClient(r)}var Af=30;function Yn(e,t,n=Uo(e.bufferSize||Af)){let i={},r=s=>n.drain(s);function o(s){let a=[];if(Cr(s,(d,g)=>{let E=Dr(g);if(Ko(i,E)){let x=Za(d,g);e.recordDroppedEvent("ratelimit_backoff",E,x)}else a.push(d)}),a.length===0)return Mt();let c=Ve(s[0],a),l=d=>{Cr(c,(g,E)=>{let x=Za(g,E);e.recordDroppedEvent(d,Dr(E),x)})},f=()=>t({body:Ci(c,e.textEncoder)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),i=Xo(i,d),d),d=>{throw l("network_error"),d});return n.add(f).then(d=>d,d=>{if(d instanceof ot)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.error("Skipped sending event because buffer is full."),l("queue_overflow"),Mt();throw d})}return{send:o,flush:r}}function Za(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}var Oi="7.30.0";var _n={};fr(_n,{FunctionToString:()=>Le,InboundFilters:()=>Ee});var tc,Le=class{constructor(){Le.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=Le.id}setupOnce(){tc=Function.prototype.toString,Function.prototype.toString=function(...t){let n=mn(this)||this;return tc.apply(n,t)}}};Le.__initStatic();var Nf=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Ee=class{static __initStatic(){this.id="InboundFilters"}__init(){this.name=Ee.id}constructor(t={}){this._options=t,Ee.prototype.__init.call(this)}setupOnce(t,n){let i=r=>{let o=n();if(o){let s=o.getIntegration(Ee);if(s){let a=o.getClient(),c=a?a.getOptions():{},l=Cf(s._options,c);return Df(r,l)?null:r}}return r};i.id=this.name,t(i)}};Ee.__initStatic();function Cf(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...Nf],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function Df(e,t){return t.ignoreInternal&&Mf(e)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn(`Event dropped due to being internal Sentry Error.
Event: ${me(e)}`),!0):Lf(e,t.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${me(e)}`),!0):Of(e,t.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${me(e)}.
Url: ${kr(e)}`),!0):If(e,t.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${me(e)}.
Url: ${kr(e)}`),!0)}function Lf(e,t){return!t||!t.length?!1:Rf(e).some(n=>bi(n,t))}function Of(e,t){if(!t||!t.length)return!1;let n=kr(e);return n?bi(n,t):!1}function If(e,t){if(!t||!t.length)return!0;let n=kr(e);return n?bi(n,t):!0}function Rf(e){if(e.message)return[e.message];if(e.exception)try{let{type:t="",value:n=""}=e.exception.values&&e.exception.values[0]||{};return[`${n}`,`${t}: ${n}`]}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.error(`Cannot extract message for event ${me(e)}`),[]}return[]}function Mf(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function kf(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function kr(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?kf(t):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.error(`Cannot extract url for event ${me(e)}`),null}}var U=St,es=0;function ns(){return es>0}function Vf(){es++,setTimeout(()=>{es--})}function Ke(e,t={},n){if(typeof e!="function")return e;try{let r=e.__sentry_wrapped__;if(r)return r;if(mn(e))return e}catch{return e}let i=function(){let r=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);let o=r.map(s=>Ke(s,t));return e.apply(this,o)}catch(o){throw Vf(),Mr(s=>{s.addEventProcessor(a=>(t.mechanism&&(zn(a,void 0,void 0),Se(a,t.mechanism)),a.extra={...a.extra,arguments:r},a)),Wn(o)}),o}};try{for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}catch{}_r(i,e),jn(e,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get(){return e.name}})}catch{}return i}function os(e,t){let n=ss(e,t),i={type:t&&t.name,value:Jf(t)};return n.length&&(i.stacktrace={frames:n}),i.type===void 0&&i.value===""&&(i.value="Unrecoverable error caught"),i}function qf(e,t,n,i){let o=Y().getClient(),s=o&&o.getOptions().normalizeDepth,a={exception:{values:[{type:Hn(t)?t.constructor.name:i?"UnhandledRejection":"Error",value:`Non-Error ${i?"promise rejection":"exception"} captured with keys: ${Oo(t)}`}]},extra:{__serialized__:Ar(t,s)}};if(n){let c=ss(e,n);c.length&&(a.exception.values[0].stacktrace={frames:c})}return a}function is(e,t){return{exception:{values:[os(e,t)]}}}function ss(e,t){let n=t.stacktrace||t.stack||"",i=Xf(t);try{return e(n,i)}catch{}return[]}var Kf=/Minified React error #\d+;/i;function Xf(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(Kf.test(e.message))return 1}return 0}function Jf(e){let t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function ec(e,t,n,i){let r=n&&n.syntheticException||void 0,o=Pr(e,t,r,i);return Se(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),Mt(o)}function nc(e,t,n="info",i,r){let o=i&&i.syntheticException||void 0,s=rs(e,t,o,r);return s.level=n,i&&i.event_id&&(s.event_id=i.event_id),Mt(s)}function Pr(e,t,n,i,r){let o;if(yi(t)&&t.error)return is(e,t.error);if(dr(t)||xo(t)){let s=t;if("stack"in t)o=is(e,t);else{let a=s.name||(dr(s)?"DOMError":"DOMException"),c=s.message?`${a}: ${s.message}`:a;o=rs(e,c,n,i),zn(o,c)}return"code"in s&&(o.tags={...o.tags,"DOMException.code":`${s.code}`}),o}return vi(t)?is(e,t):ie(t)||Hn(t)?(o=qf(e,t,n,r),Se(o,{synthetic:!0}),o):(o=rs(e,t,n,i),zn(o,`${t}`,void 0),Se(o,{synthetic:!0}),o)}function rs(e,t,n,i){let r={message:t};if(i&&n){let o=ss(e,n);o.length&&(r.exception={values:[{value:t,stacktrace:{frames:o}}]})}return r}var $r=1024,as="Breadcrumbs",ve=class{static __initStatic(){this.id=as}__init(){this.name=ve.id}constructor(t){ve.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t}}setupOnce(){this.options.console&&Vt("console",Zf),this.options.dom&&Vt("dom",Qf(this.options.dom)),this.options.xhr&&Vt("xhr",td),this.options.fetch&&Vt("fetch",ed),this.options.history&&Vt("history",nd)}addSentryBreadcrumb(t){this.options.sentry&&Y().addBreadcrumb({category:`sentry.${t.type==="transaction"?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:me(t)},{event:t})}};ve.__initStatic();function Qf(e){function t(n){let i,r=typeof e=="object"?e.serializeAttribute:void 0,o=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;o&&o>$r&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn(`\`dom.maxStringLength\` cannot exceed ${$r}, but a value of ${o} was configured. Sentry will use ${$r} instead.`),o=$r),typeof r=="string"&&(r=[r]);try{i=n.event.target?Un(n.event.target,{keyAttrs:r,maxStringLength:o}):Un(n.event,{keyAttrs:r,maxStringLength:o})}catch{i="<unknown>"}i.length!==0&&Y().addBreadcrumb({category:`ui.${n.name}`,message:i},{event:n.event,name:n.name,global:n.global})}return t}function Zf(e){for(let n=0;n<e.args.length;n++)if(e.args[n]==="ref=Ref<"){e.args[n+1]="viewRef";break}let t={category:"console",data:{arguments:e.args,logger:"console"},level:Fo(e.level),message:gr(e.args," ")};if(e.level==="assert")if(e.args[0]===!1)t.message=`Assertion failed: ${gr(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1);else return;Y().addBreadcrumb(t,{input:e.args,level:e.level})}function td(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;let{method:t,url:n,status_code:i,body:r}=e.xhr.__sentry_xhr__||{};Y().addBreadcrumb({category:"xhr",data:{method:t,url:n,status_code:i},type:"http"},{xhr:e.xhr,input:r});return}}function ed(e){!e.endTimestamp||e.fetchData.url.match(/sentry_key/)&&e.fetchData.method==="POST"||(e.error?Y().addBreadcrumb({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args}):Y().addBreadcrumb({category:"fetch",data:{...e.fetchData,status_code:e.response.status},type:"http"},{input:e.args,response:e.response}))}function nd(e){let t=e.from,n=e.to,i=Ai(U.location.href),r=Ai(t),o=Ai(n);r.path||(r=i),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),i.protocol===r.protocol&&i.host===r.host&&(t=r.relative),Y().addBreadcrumb({category:"navigation",data:{from:t,to:n}})}var Br=class extends _e{constructor(t){t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:Oi}],version:Oi},super(t),t.sendClientReports&&U.document&&U.document.addEventListener("visibilitychange",()=>{U.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return ec(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",i){return nc(this._options.stackParser,t,n,i,this._options.attachStacktrace)}sendEvent(t,n){let i=this.getIntegrationById(as);Io([i,"optionalAccess",r=>r.addSentryBreadcrumb,"optionalCall",r=>r(t)]),super.sendEvent(t,n)}_prepareEvent(t,n,i){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,i)}_flushOutcomes(){let t=this._clearOutcomes();if(t.length===0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.log("Sending outcomes:",t);let n=Li(this._dsn,this._options),i=qo(t,this._options.tunnel&&ze(this._dsn));try{Object.prototype.toString.call(U&&U.navigator)==="[object Navigator]"&&typeof U.navigator.sendBeacon=="function"&&!this._options.transportOptions?U.navigator.sendBeacon.bind(U.navigator)(n,Ci(i)):this._sendEnvelope(i)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.error(r)}}};var Ii;function ic(){if(Ii)return Ii;if(wi(U.fetch))return Ii=U.fetch.bind(U);let e=U.document,t=U.fetch;if(e&&typeof e.createElement=="function")try{let n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);let i=n.contentWindow;i&&i.fetch&&(t=i.fetch),e.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return Ii=t.bind(U)}function rc(){Ii=void 0}function oc(e,t=ic()){function n(i){let r={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:i.body.length<=65536,...e.fetchOptions};try{return t(e.url,r).then(o=>({statusCode:o.status,headers:{"x-sentry-rate-limits":o.headers.get("X-Sentry-Rate-Limits"),"retry-after":o.headers.get("Retry-After")}}))}catch(o){return rc(),Ye(o)}}return Yn(e,n)}var id=4;function sc(e){function t(n){return new ct((i,r)=>{let o=new XMLHttpRequest;o.onerror=r,o.onreadystatechange=()=>{o.readyState===id&&i({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",e.url);for(let s in e.headers)Object.prototype.hasOwnProperty.call(e.headers,s)&&o.setRequestHeader(s,e.headers[s]);o.send(n.body)})}return Yn(e,t)}var Hr="?";var rd=30,od=40,sd=50;function cs(e,t,n,i){let r={filename:e,function:t,in_app:!0};return n!==void 0&&(r.lineno=n),i!==void 0&&(r.colno=i),r}var ad=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,cd=/\((\S*)(?::(\d+))(?::(\d+))\)/,ld=e=>{let t=ad.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){let o=cd.exec(t[2]);o&&(t[2]=o[1],t[3]=o[2],t[4]=o[3])}let[i,r]=cc(t[1]||Hr,t[2]);return cs(r,i,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},ud=[rd,ld],fd=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,dd=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,hd=e=>{let t=fd.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let o=dd.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let i=t[3],r=t[1]||Hr;return[r,i]=cc(r,i),cs(i,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},pd=[sd,hd],md=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,gd=e=>{let t=md.exec(e);return t?cs(t[2],t[1]||Hr,+t[3],t[4]?+t[4]:void 0):void 0},_d=[od,gd];var Ed=[ud,pd,_d],ac=vr(...Ed),cc=(e,t)=>{let n=e.indexOf("safari-extension")!==-1,i=e.indexOf("safari-web-extension")!==-1;return n||i?[e.indexOf("@")!==-1?e.split("@")[0]:Hr,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};var ls={};fr(ls,{Breadcrumbs:()=>ve,Dedupe:()=>ce,GlobalHandlers:()=>Bt,HttpContext:()=>ae,LinkedErrors:()=>se,TryCatch:()=>ye});var Bt=class{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=Bt.id}__init2(){this._installFunc={onerror:vd,onunhandledrejection:yd}}constructor(t){Bt.prototype.__init.call(this),Bt.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...t}}setupOnce(){Error.stackTraceLimit=50;let t=this._options;for(let n in t){let i=this._installFunc[n];i&&t[n]&&(xd(n),i(),this._installFunc[n]=void 0)}}};Bt.__initStatic();function vd(){Vt("error",e=>{let[t,n,i]=fc();if(!t.getIntegration(Bt))return;let{msg:r,url:o,line:s,column:a,error:c}=e;if(ns()||c&&c.__sentry_own_request__)return;let l=c===void 0&&zt(r)?wd(r,o,s,a):lc(Pr(n,c||r,void 0,i,!1),o,s,a);l.level="error",uc(t,c,l,"onerror")})}function yd(){Vt("unhandledrejection",e=>{let[t,n,i]=fc();if(!t.getIntegration(Bt))return;let r=e;try{"reason"in e?r=e.reason:"detail"in e&&"reason"in e.detail&&(r=e.detail.reason)}catch{}if(ns()||r&&r.__sentry_own_request__)return!0;let o=Bn(r)?bd(r):Pr(n,r,void 0,i,!0);o.level="error",uc(t,r,o,"onunhandledrejection")})}function bd(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function wd(e,t,n,i){let r=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,o=yi(e)?e.message:e,s="Error",a=o.match(r);return a&&(s=a[1],o=a[2]),lc({exception:{values:[{type:s,value:o}]}},t,n,i)}function lc(e,t,n,i){let r=e.exception=e.exception||{},o=r.values=r.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],l=isNaN(parseInt(i,10))?void 0:i,f=isNaN(parseInt(n,10))?void 0:n,d=zt(t)&&t.length>0?t:Co();return c.length===0&&c.push({colno:l,filename:d,function:"?",in_app:!0,lineno:f}),e}function xd(e){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.log(`Global Handler attached: ${e}`)}function uc(e,t,n,i){Se(n,{handled:!1,type:i}),e.captureEvent(n,{originalException:t})}function fc(){let e=Y(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}var Td=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],ye=class{static __initStatic(){this.id="TryCatch"}__init(){this.name=ye.id}constructor(t){ye.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t}}setupOnce(){this._options.setTimeout&&pt(U,"setTimeout",dc),this._options.setInterval&&pt(U,"setInterval",dc),this._options.requestAnimationFrame&&pt(U,"requestAnimationFrame",Sd),this._options.XMLHttpRequest&&"XMLHttpRequest"in U&&pt(XMLHttpRequest.prototype,"send",Ad);let t=this._options.eventTarget;t&&(Array.isArray(t)?t:Td).forEach(Nd)}};ye.__initStatic();function dc(e){return function(...t){let n=t[0];return t[0]=Ke(n,{mechanism:{data:{function:Yt(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function Sd(e){return function(t){return e.apply(this,[Ke(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Yt(e)},handled:!0,type:"instrument"}})])}}function Ad(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&pt(n,r,function(o){let s={mechanism:{data:{function:r,handler:Yt(o)},handled:!0,type:"instrument"}},a=mn(o);return a&&(s.mechanism.data.handler=Yt(a)),Ke(o,s)})}),e.apply(this,t)}}function Nd(e){let t=U,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(pt(n,"addEventListener",function(i){return function(r,o,s){try{typeof o.handleEvent=="function"&&(o.handleEvent=Ke(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Yt(o),target:e},handled:!0,type:"instrument"}}))}catch{}return i.apply(this,[r,Ke(o,{mechanism:{data:{function:"addEventListener",handler:Yt(o),target:e},handled:!0,type:"instrument"}}),s])}}),pt(n,"removeEventListener",function(i){return function(r,o,s){let a=o;try{let c=a&&a.__sentry_wrapped__;c&&i.call(this,r,c,s)}catch{}return i.call(this,r,a,s)}}))}var Cd="cause",Dd=5,se=class{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=se.id}constructor(t={}){se.prototype.__init.call(this),this._key=t.key||Cd,this._limit=t.limit||Dd}setupOnce(){let t=Y().getClient();!t||qe((n,i)=>{let r=Y().getIntegration(se);return r?Ld(t.getOptions().stackParser,r._key,r._limit,n,i):n})}};se.__initStatic();function Ld(e,t,n,i,r){if(!i.exception||!i.exception.values||!r||!Wt(r.originalException,Error))return i;let o=hc(e,n,r.originalException,t);return i.exception.values=[...o,...i.exception.values],i}function hc(e,t,n,i,r=[]){if(!Wt(n[i],Error)||r.length+1>=t)return r;let o=os(e,n[i]);return hc(e,t,n[i],i,[o,...r])}var ae=class{constructor(){ae.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=ae.id}setupOnce(){qe(t=>{if(Y().getIntegration(ae)){if(!U.navigator&&!U.location&&!U.document)return t;let n=t.request&&t.request.url||U.location&&U.location.href,{referrer:i}=U.document||{},{userAgent:r}=U.navigator||{},o={...t.request&&t.request.headers,...i&&{Referer:i},...r&&{"User-Agent":r}},s={...t.request,...n&&{url:n},headers:o};return{...t,request:s}}return t})}};ae.__initStatic();var ce=class{constructor(){ce.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=ce.id}setupOnce(t,n){let i=r=>{let o=n().getIntegration(ce);if(o){try{if(Od(r,o._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return o._previousEvent=r}return o._previousEvent=r}return r};i.id=this.name,t(i)}};ce.__initStatic();function Od(e,t){return t?!!(Id(e,t)||Rd(e,t)):!1}function Id(e,t){let n=e.message,i=t.message;return!(!n&&!i||n&&!i||!n&&i||n!==i||!_c(e,t)||!gc(e,t))}function Rd(e,t){let n=pc(t),i=pc(e);return!(!n||!i||n.type!==i.type||n.value!==i.value||!_c(e,t)||!gc(e,t))}function gc(e,t){let n=mc(e),i=mc(t);if(!n&&!i)return!0;if(n&&!i||!n&&i||(n=n,i=i,i.length!==n.length))return!1;for(let r=0;r<i.length;r++){let o=i[r],s=n[r];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0}function _c(e,t){let n=e.fingerprint,i=t.fingerprint;if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;n=n,i=i;try{return n.join("")===i.join("")}catch{return!1}}function pc(e){return e.exception&&e.exception.values&&e.exception.values[0]}function mc(e){let t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}var vc=[new _n.InboundFilters,new _n.FunctionToString,new ye,new ve,new Bt,new se,new ce,new ae];function us(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=vc),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),U.SENTRY_RELEASE&&U.SENTRY_RELEASE.id&&(e.release=U.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);let t={...e,stackParser:Mo(e.stackParser||ac),integrations:Qo(e),transport:e.transport||(yr()?oc:sc)};ts(Br,t),e.autoSessionTracking&&Md()}function Ec(e){e.startSession({ignoreDuration:!0}),e.captureSession()}function Md(){if(typeof U.document>"u"){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&k.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}let e=Y();!e.captureSession||(Ec(e),Vt("history",({from:t,to:n})=>{t===void 0||t===n||Ec(Y())}))}var yc={};U.Sentry&&U.Sentry.Integrations&&(yc=U.Sentry.Integrations);var Tw={...yc,..._n,...ls};var mt={name:"__MSG_appName__",description:"__MSG_appDesc__",short_name:"__MSG_appShortName_",homepage_url:"https://betterpreviews.com/",__package_name__:"search-preview","__comment:version__":"Firefox does not support leading zeros in versions",version:"23.12.28",__sentry_dsn__:"https://bf0a1e40a1784502aad701a201efdf08@o526305.ingest.sentry.io/4504743520436224",__measurement_id__:"G-XN737SN9S2",__ga_api_secret__:"zigXBV_3TjyIjkXuSPjo8w",manifest_version:3,default_locale:"en",author:"Justice Ogbonna",permissions:["storage","declarativeNetRequest","contextMenus","cookies","activeTab"],declarative_net_request:{rule_resources:[{id:"ruleset_1",enabled:!0,path:"assets/rules.json"}]},host_permissions:["*://*/*"],action:{default_icon:{"16":"assets/logo-16x16.png","24":"assets/logo-24x24.png","32":"assets/logo-32x32.png"},default_title:"Search Preview"},icons:{"16":"assets/logo-16x16.png","32":"assets/logo-32x32.png","48":"assets/logo-48x48.png","128":"assets/logo-128x128.png"},content_scripts:[{matches:["http://*/*","https://*/*"],all_frames:!0,js:["content-script/content-script.js"],css:["content-script/content-script.css"]}],background:{__chrome__service_worker:"background-script/service-worker.js",__firefox__scripts:["background-script/service-worker.js"]},options_page:"options-page/options.html",web_accessible_resources:[{resources:["assets/logo-24x24.png"],matches:["<all_urls>"]},{resources:["options-page/options.html"],matches:["<all_urls>"]},{resources:["welcome/my-element.js"],matches:["<all_urls>"]},{resources:["content-script/floatie/tooltip.js"],matches:["<all_urls>"]}],__firefox__key:"",__firefox__browser_specific_settings:{gecko:{id:"search-preview@essentialkit.org"}}};var bc=mt.__package_name__,At=class{constructor(t){this.tag="";this.debug=(...t)=>this.internalLog(3,...t);this.log=(...t)=>this.internalLog(2,...t);this.warn=(...t)=>this.internalLog(1,...t);this.error=(...t)=>this.internalLog(0,...t);this.tag=bc+"."+(typeof t=="string"?t:t.constructor.name),IS_DEV_BUILD||this.initSentry(),this.listenForBgLogs()}initSentry(){us({dsn:mt.__sentry_dsn__,tracesSampleRate:.1,release:bc+"@"+mt.version,environment:"PROD"})}listenForBgLogs(){chrome?.runtime.onMessage.addListener((t,n)=>{n.id!==chrome.runtime.id||t.action!="log"||this.internalLogTagOverride(t.data.level,t.data.tag,...t.data.messages)})}internalLog(t,...n){this.internalLogTagOverride(t,this.tag,...n)}internalLogTagOverride(t,n,...i){let r=new Date(Date.now()),o=["%c%s %s","color: blue",`[${r.getHours()}:${r.getMinutes()}:${r.getSeconds()}]`,n,...i];if(IS_DEV_BUILD)switch(t){case 3:console.debug(...o);break;case 1:console.warn(...o);break;case 2:console.log(...o);break;case 0:console.error(...o);break}else{switch(t){case 1:Rr(o.join(" "));break;case 0:Wn(o.join(" "));break}return}}};var wc=document.createElement("div");wc.innerHTML='<div class=wb-header><div class=wb-control><span title="Minimize" class=wb-min></span><span title="Maximize" class=wb-max></span><span title="Fullscreen" class=wb-full></span><span title="Close" class=wb-close></span></div><div class=wb-drag><div class=wb-icon></div><div class=wb-title></div></div></div><div class=wb-body></div><div class=wb-footer><feedback-form size="inline"></feedback-form></div><div class=wb-n></div><div class=wb-s></div><div class=wb-w></div><div class=wb-e></div><div class=wb-nw></div><div class=wb-ne></div><div class=wb-se></div><div class=wb-sw></div>';function xc(e){return(e||wc).cloneNode(!0)}var Tc=`
  .winbox {
    position: fixed;
    left: 0;
    top: 0;
    background: #0050ff;
    box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
    /* using transform make contents blur when applied and requires more gpu memory */
    transition: width 0.3s, height 0.3s, left 0.3s, top 0.3s;
    transition-timing-function: cubic-bezier(0.3, 1, 0.3, 1);
    /* contain "strict" does not make overflow contents selectable */
    contain: layout size;
    /* explicitly set text align to left fixes an issue with iframes alignment when centered */
    text-align: left;
    /* workaround for using passive listeners */
    touch-action: none;
  }
  .wb-header {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 35px;
    line-height: 35px;
    color: #fff;
    overflow: hidden;
    z-index: 1;
  }
  .wb-body {
    position: absolute;
    top: 35px;
    left: 0;
    right: 0;
    bottom: 0;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
    overflow-scrolling: touch;
    will-change: contents;
    background: #fff;
    /* when no border is set there is some thin line visible */
    /* always hide top border visually */
    margin-top: 0 !important;
    contain: strict;
    z-index: 0;
  }
  .wb-footer {
    position: absolute;
    bottom: 0;
    width: 100%;
    display: none;
  }
  .winbox.show-footer .wb-body {
    bottom: 35px; /* height of footer */
  }
  .winbox.show-footer .wb-footer {
    display: block;
  }
  body > .wb-body {
    position: relative;
    display: inline-block;
    visibility: hidden;
    contain: none;
  }
  .wb-drag {
    height: 100%;
    padding-left: 10px;
    cursor: move;
  }
  .wb-title {
    font-family: Arial, sans-serif;
    font-size: 14px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .wb-icon {
    display: none;
    width: 20px;
    height: 100%;
    margin: -1px 8px 0 -3px;
    float: left;
    background-repeat: no-repeat;
    background-size: 100%;
    background-position: center;
  }
  .wb-n {
    position: absolute;
    top: -5px;
    left: 0;
    right: 0;
    height: 10px;
    cursor: n-resize;
    z-index: 2;
  }
  .wb-e {
    position: absolute;
    top: 0;
    right: -5px;
    bottom: 0;
    width: 10px;
    cursor: w-resize;
    z-index: 2;
  }
  .wb-s {
    position: absolute;
    bottom: -5px;
    left: 0;
    right: 0;
    height: 10px;
    cursor: n-resize;
    z-index: 2;
  }
  .wb-w {
    position: absolute;
    top: 0;
    left: -5px;
    bottom: 0;
    width: 10px;
    cursor: w-resize;
    z-index: 2;
  }
  .wb-nw {
    position: absolute;
    top: -5px;
    left: -5px;
    width: 15px;
    height: 15px;
    cursor: nw-resize;
    z-index: 2;
  }
  .wb-ne {
    position: absolute;
    top: -5px;
    right: -5px;
    width: 15px;
    height: 15px;
    cursor: ne-resize;
    z-index: 2;
  }
  .wb-sw {
    position: absolute;
    bottom: -5px;
    left: -5px;
    width: 15px;
    height: 15px;
    cursor: ne-resize;
    z-index: 2;
  }
  .wb-se {
    position: absolute;
    bottom: -5px;
    right: -5px;
    width: 15px;
    height: 15px;
    cursor: nw-resize;
    z-index: 2;
  }
  .wb-control {
    float: right;
    height: 100%;
    max-width: 100%;
    text-align: center;
  }
  .wb-control * {
    display: inline-block;
    width: 30px;
    height: 100%;
    max-width: 100%;
    background-position: center;
    background-repeat: no-repeat;
    cursor: pointer;
  }
  .wb-min {
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAyIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNOCAwaDdhMSAxIDAgMCAxIDAgMkgxYTEgMSAwIDAgMSAwLTJoN3oiLz48L3N2Zz4=);
    background-size: 14px auto;
    background-position: center calc(50% + 6px);
  }
  .wb-max {
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IiNmZmYiIHZpZXdCb3g9IjAgMCA5NiA5NiI+PHBhdGggZD0iTTIwIDcxLjMxMUMxNS4zNCA2OS42NyAxMiA2NS4yMyAxMiA2MFYyMGMwLTYuNjMgNS4zNy0xMiAxMi0xMmg0MGM1LjIzIDAgOS42NyAzLjM0IDExLjMxMSA4SDI0Yy0yLjIxIDAtNCAxLjc5LTQgNHY1MS4zMTF6Ii8+PHBhdGggZD0iTTkyIDc2VjM2YzAtNi42My01LjM3LTEyLTEyLTEySDQwYy02LjYzIDAtMTIgNS4zNy0xMiAxMnY0MGMwIDYuNjMgNS4zNyAxMiAxMiAxMmg0MGM2LjYzIDAgMTItNS4zNyAxMi0xMnptLTUyIDRjLTIuMjEgMC00LTEuNzktNC00VjM2YzAtMi4yMSAxLjc5LTQgNC00aDQwYzIuMjEgMCA0IDEuNzkgNCA0djQwYzAgMi4yMS0xLjc5IDQtNCA0SDQweiIvPjwvc3ZnPg==);
    background-size: 17px auto;
  }
  .wb-close {
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xIC0xIDE4IDE4Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMS42MTMuMjEuMDk0LjA4M0w4IDYuNTg1IDE0LjI5My4yOTNsLjA5NC0uMDgzYTEgMSAwIDAgMSAxLjQwMyAxLjQwM2wtLjA4My4wOTRMOS40MTUgOGw2LjI5MiA2LjI5M2ExIDEgMCAwIDEtMS4zMiAxLjQ5N2wtLjA5NC0uMDgzTDggOS40MTVsLTYuMjkzIDYuMjkyLS4wOTQuMDgzQTEgMSAwIDAgMSAuMjEgMTQuMzg3bC4wODMtLjA5NEw2LjU4NSA4IC4yOTMgMS43MDdBMSAxIDAgMCAxIDEuNjEzLjIxeiIvPjwvc3ZnPg==);
    background-size: 15px auto;
    background-position: 5px center;
  }
  .wb-full {
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjIuNSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOCAzSDVhMiAyIDAgMCAwLTIgMnYzbTE4IDBWNWEyIDIgMCAwIDAtMi0yaC0zbTAgMThoM2EyIDIgMCAwIDAgMi0ydi0zTTMgMTZ2M2EyIDIgMCAwIDAgMiAyaDMiLz48L3N2Zz4=);
    background-size: 16px auto;
  }
  .wb-nav-away {
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgLTk2MCA5NjAgOTYwIiB3aWR0aD0iMjQiPjxwYXRoIGQ9Ik0yMTIuMzA5LTE0MC4wMDFxLTMwLjMwOCAwLTUxLjMwOC0yMXQtMjEtNTEuMzA4di01MzUuMzgycTAtMzAuMzA4IDIxLTUxLjMwOHQ1MS4zMDgtMjFoMjUyLjMwNVYtNzYwSDIxMi4zMDlxLTQuNjE2IDAtOC40NjMgMy44NDYtMy44NDYgMy44NDctMy44NDYgOC40NjN2NTM1LjM4MnEwIDQuNjE2IDMuODQ2IDguNDYzIDMuODQ3IDMuODQ2IDguNDYzIDMuODQ2aDUzNS4zODJxNC42MTYgMCA4LjQ2My0zLjg0NiAzLjg0Ni0zLjg0NyAzLjg0Ni04LjQ2M3YtMjUyLjMwNWg1OS45OTl2MjUyLjMwNXEwIDMwLjMwOC0yMSA1MS4zMDh0LTUxLjMwOCAyMUgyMTIuMzA5Wm0xNzYuNDYtMjA2LjYxNS00Mi4xNTMtNDIuMTUzTDcxNy44NDctNzYwSDU2MHYtNTkuOTk5aDI1OS45OTlWLTU2MEg3NjB2LTE1Ny44NDdMMzg4Ljc2OS0zNDYuNjE2WiIvPjwvc3ZnPg==);
    
    background-size: 20px auto;
    filter: invert(1);
  }
  /*
  .winbox:not(.max) .wb-max {
    background-image: url(@restore);
    background-size: 20px auto;
    background-position: center bottom 5px;
  }
  */
  /*
  .winbox:fullscreen{
    transition: none !important;
  }
  .winbox:fullscreen .wb-full{
    background-image: url(@minimize);
  }
  .winbox:fullscreen > div,
  .winbox:fullscreen .wb-title,
  */
  .winbox.modal .wb-body ~ div,
  .winbox.modal .wb-drag,
  .winbox.min .wb-body ~ div,
  .winbox.max .wb-body ~ div {
    pointer-events: none;
  }
  .winbox.max .wb-drag {
    cursor: default;
  }
  .winbox.min .wb-full,
  .winbox.min .wb-min {
    display: none;
  }
  .winbox.min .wb-drag {
    cursor: default;
  }
  .winbox.min .wb-body > * {
    display: none;
  }
  .winbox.hide {
    display: none;
  }
  .winbox.max {
    box-shadow: none;
  }
  .winbox.max .wb-body {
    margin: 0 !important;
  }
  .winbox iframe {
    position: absolute;
    width: 100%;
    height: 100%;
    border: 0;
  }
  body.wb-lock .winbox {
    will-change: left, top, width, height;
    transition: none;
  }
  body.wb-lock iframe {
    pointer-events: none;
  }
  .winbox.modal:before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: inherit;
    border-radius: inherit;
  }
  .winbox.modal:after {
    content: '';
    position: absolute;
    top: -50vh;
    left: -50vw;
    right: -50vw;
    bottom: -50vh;
    background: #0d1117;
    animation: wb-fade-in 0.2s ease-out forwards;
    z-index: -1;
  }
  .winbox.modal .wb-min,
  .winbox.modal .wb-max,
  .winbox.modal .wb-full {
    display: none;
  }
  @keyframes wb-fade-in {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 0.85;
    }
  }
  .no-animation {
    transition: none;
  }
  .no-shadow {
    box-shadow: none;
  }
  .no-header .wb-header {
    display: none;
  }
  .no-header .wb-body {
    top: 0;
  }
  .no-min .wb-min {
    display: none;
  }
  .no-max .wb-max {
    display: none;
  }
  .no-full .wb-full {
    display: none;
  }
  .no-close .wb-close {
    display: none;
  }
  .no-resize .wb-body ~ div {
    display: none;
  }
  .no-move:not(.min) .wb-title {
    pointer-events: none;
  }
  .wb-body .wb-hide {
    display: none;
  }
  .wb-show {
    display: none;
  }
  .wb-body .wb-show {
    display: revert;
  }
`;function Ht(e,t,n,i){e&&e.addEventListener(t,n,i||!1)}function Ri(e,t,n,i){e&&e.removeEventListener(t,n,i||!1)}function Vn(e,t){e.stopPropagation(),e.cancelable&&e.preventDefault()}function qt(e,t){return e.getElementsByClassName(t)[0]}function fs(e,t){e.classList.add(t)}function Sc(e,t){return e.classList.contains(t)}function ds(e,t){e.classList.remove(t)}function Dt(e,t,n){n=""+n,e["_s_"+t]!==n&&(e.style.setProperty(t,n),e["_s_"+t]=n)}function Ac(e,t){let n=e.firstChild;n?n.nodeValue=t:e.textContent=t}var Ur=!1,Kn=[],Mi={capture:!0,passive:!0},le,$d=0,ki=10,qn,Xe,Ie,Cc,Re,Me,ke=class{constructor(t,n){if(!(this instanceof ke))return new ke(t);le||Bd();let i,r,o,s,a,c,l,f,d,g,E,x,T,w,C,N,A,y,O,L,R,$,B,M,F,W,q,it,H,V,Q,at,rt,z,G,bt,It,xt,ft,ht,$t,_t,jt,Rt,X,J,Et;if(t&&(n&&(a=t,t=n),typeof t=="string"?a=t:(i=t.id,r=t.index,o=t.root,s=t.template,a=a||t.title,c=t.icon,l=t.mount,f=t.html,d=t.url,g=t.shadowel,x=t.framename,T=t.cssurl,w=t.width,C=t.height,N=t.minwidth,A=t.minheight,y=t.maxwidth,O=t.maxheight,L=t.autosize,q=t.min,it=t.max,H=t.hidden,V=t.modal,R=t.x||(V?"center":0),$=t.y||(V?"center":0),B=t.top,M=t.left,F=t.bottom,W=t.right,Q=t.background,at=t.border,rt=t.header,z=t.class,bt=t.onclose,It=t.onfocus,xt=t.onblur,ft=t.onmove,ht=t.onresize,$t=t.onfullscreen,_t=t.onmaximize,jt=t.onminimize,Rt=t.onrestore,X=t.onhide,J=t.onshow,Et=t.onload)),this.dom=xc(s),this.dom.id=this.id=i||"winbox-"+ ++$d,this.dom.className="winbox"+(z?" "+(typeof z=="string"?z:z.join(" ")):"")+(V?" modal":""),this.dom.winbox=this,this.window=this.dom,this.body=qt(this.dom,"wb-body"),this.header=rt||35,(r||r===0)&&(ki=r),Q&&this.setBackground(Q),at?Dt(this.body,"margin",at+(isNaN(at)?"":"px")):at=0,rt){let Z=qt(this.dom,"wb-header");Dt(Z,"height",rt+"px"),Dt(Z,"line-height",rt+"px"),Dt(this.body,"top",rt+"px")}a&&this.setTitle(a),c&&this.setIcon(c),l?this.mount(l):f?this.body.innerHTML=f:d&&this.setUrl(d,Et),B=B?Nt(B,Me):0,F=F?Nt(F,Me):0,M=M?Nt(M,Re):0,W=W?Nt(W,Re):0;let Ct=Re-M-W,Tt=Me-B-F;if(y=y?Nt(y,Ct):Ct,O=O?Nt(O,Tt):Tt,N=N?Nt(N,y):150,A=A?Nt(A,O):this.header,L?((o||le).appendChild(this.body),w=Math.max(Math.min(this.body.clientWidth+at*2+1,y),N),C=Math.max(Math.min(this.body.clientHeight+this.header+at+1,O),A),this.dom.appendChild(this.body)):(w=w?Nt(w,y):Math.max(y/2,N)|0,C=C?Nt(C,O):Math.max(O/2,A)|0),R=R?Nt(R,Ct,w):M,$=$?Nt($,Tt,C):B,this.x=R,this.y=$,this.width=w,this.height=C,this.minwidth=N,this.minheight=A,this.maxwidth=y,this.maxheight=O,this.top=B,this.right=W,this.bottom=F,this.left=M,this.index=r,this.min=!1,this.max=!1,this.full=!1,this.hidden=!1,this.focused=!1,this.onclose=bt,this.onfocus=It,this.onblur=xt,this.onmove=ft,this.onresize=ht,this.onfullscreen=$t,this.onmaximize=_t,this.onminimize=jt,this.onrestore=Rt,this.onhide=X,this.onshow=J,it?this.maximize():q?this.minimize():this.resize().move(),H?this.hide():(this.focus(),(r||r===0)&&(this.index=r,r>ki&&(ki=r))),Dt(this.shadowdom?this.shadowdom:this.dom,"z-index",r),Hd(this),g){let Z=document.createElement(g);Z.style.position="absolute";let Gt=document.createElement("style");if(Gt.textContent=Tc,Z.appendChild(Gt),T){let de=document.createElement("link");de.rel="stylesheet",de.type="text/css",de.href=T,de.itemprop="url",Z.appendChild(de)}Z.appendChild(this.dom),Z.attachShadow({mode:"open"}).innerHTML="<slot></slot>",this.shadowdom=Z,(o||le).appendChild(Z)}else(o||le).appendChild(this.dom);(G=t.oncreate)&&G.call(this,t)}static new(t){return new ke(t)}mount(t){return this.unmount(),t._backstore||(t._backstore=t.parentNode),this.body.textContent="",this.body.appendChild(t),this}unmount(t){let n=this.body.firstChild;if(n){let i=t||n._backstore;i&&i.appendChild(n),n._backstore=t}return this}setTitle(t){let n=qt(this.dom,"wb-title");return Ac(n,this.title=t),this}setIcon(t){let n=qt(this.dom,"wb-icon");return Dt(n,"background-image","url("+t+")"),Dt(n,"display","inline-block"),this}setBackground(t){return Dt(this.dom,"background",t),this}setUrl(t,n){let i=this.body.firstChild;if(i&&i.tagName.toLowerCase()==="iframe")i.src=t;else{let r=this.framename??"";this.body.innerHTML=`<iframe name="${r}" src="${t}"></iframe>`,n&&(this.body.firstChild.onload=n)}return this}focus(t){return t===!1?this.blur():(Xe!==this&&this.dom&&(Xe&&Xe.blur(),Dt(this.shadowdom?this.shadowdom:this.dom,"z-index",++ki),this.index=ki,this.addClass("focus"),Xe=this,this.focused=!0,this.onfocus&&this.onfocus()),this)}blur(t){return t===!1?this.focus():(Xe===this&&(this.removeClass("focus"),this.focused=!1,this.onblur&&this.onblur(),Xe=null),this)}hide(t){if(t===!1)return this.show();if(!this.hidden)return this.onhide&&this.onhide(),this.hidden=!0,this.addClass("hide")}show(t){if(t===!1)return this.hide();if(this.hidden)return this.onshow&&this.onshow(),this.hidden=!1,this.removeClass("hide")}minimize(t){return t===!1?this.restore():(qn&&jr(),this.max&&(this.removeClass("max"),this.max=!1),this.min||(Kn.push(this),hs(),this.dom.title=this.title,this.addClass("min"),this.min=!0,this.onminimize&&this.onminimize()),this)}restore(){return qn&&jr(),this.min&&(Fr(this),this.resize().move(),this.onrestore&&this.onrestore()),this.max&&(this.max=!1,this.removeClass("max").resize().move(),this.onrestore&&this.onrestore()),this}maximize(t){return t===!1?this.restore():(qn&&jr(),this.min&&Fr(this),this.max||(this.addClass("max").resize(Re-this.left-this.right,Me-this.top-this.bottom,!0).move(this.left,this.top,!0),this.max=!0,this.onmaximize&&this.onmaximize()),this)}fullscreen(t){if(this.min&&(Fr(this),this.resize().move()),!qn||!jr())this.body[Ie](),qn=this,this.full=!0,this.onfullscreen&&this.onfullscreen();else if(t===!1)return this.restore();return this}close(t){if(this.onclose&&this.onclose(t))return!0;this.min&&Fr(this),this.unmount(),this.dom.remove(),this.dom.textContent="",this.dom.winbox=null,this.body=null,this.dom=null,Xe===this&&(Xe=null)}move(t,n,i){return!t&&t!==0?(t=this.x,n=this.y):i||(this.x=t?t=Nt(t,Re-this.left-this.right,this.width):0,this.y=n?n=Nt(n,Me-this.top-this.bottom,this.height):0),Dt(this.dom,"left",t+"px"),Dt(this.dom,"top",n+"px"),this.onmove&&this.onmove(t,n),this}resize(t,n,i){return!t&&t!==0?(t=this.width,n=this.height):i||(this.width=t?t=Nt(t,this.maxwidth):0,this.height=n?n=Nt(n,this.maxheight):0,t=Math.max(t,this.minwidth),n=Math.max(n,this.minheight)),Dt(this.dom,"width",t+"px"),Dt(this.dom,"height",n+"px"),this.onresize&&this.onresize(t,n),this}addControl(t){let n=t.class,i=t.image,r=t.click,o=t.index,s=t.title,a=document.createElement("span"),c=qt(this.dom,"wb-control"),l=this;return n&&(a.className=n),i&&Dt(a,"background-image","url("+i+")"),r&&(a.onclick=function(f){r.call(this,f,l)}),s&&(a.title=s),c.insertBefore(a,c.childNodes[o||0]),this}removeControl(t){return t=qt(this.dom,t),t&&t.remove(),this}addClass(t){return fs(this.dom,t),this}removeClass(t){return ds(this.dom,t),this}hasClass(t){return Sc(this.dom,t)}toggleClass(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}};function Nt(e,t,n){if(typeof e=="string")if(e==="center")e=(t-n)/2|0;else if(e==="right"||e==="bottom")e=t-n;else{let i=parseFloat(e);(""+i!==e&&e.substring((""+i).length))==="%"?e=t/100*i|0:e=i}return e}function Bd(){le=document.body,le[Ie="requestFullscreen"]||le[Ie="msRequestFullscreen"]||le[Ie="webkitRequestFullscreen"]||le[Ie="mozRequestFullscreen"]||(Ie=""),Cc=Ie&&Ie.replace("request","exit").replace("mozRequest","mozCancel").replace("Request","Exit"),Ht(window,"resize",function(){Nc(),hs()}),Nc()}function Hd(e){Oe(e,"drag"),Oe(e,"n"),Oe(e,"s"),Oe(e,"w"),Oe(e,"e"),Oe(e,"nw"),Oe(e,"ne"),Oe(e,"se"),Oe(e,"sw"),Ht(qt(e.dom,"wb-min"),"click",function(t){Vn(t),e.min?e.focus().restore():e.blur().minimize()}),Ht(qt(e.dom,"wb-max"),"click",function(t){e.max?e.restore():e.maximize()}),Ie?Ht(qt(e.dom,"wb-full"),"click",function(t){e.fullscreen()}):e.addClass("no-full"),Ht(qt(e.dom,"wb-close"),"click",function(t){Vn(t),e.close()||(e=null)}),Ht(e.dom,"click",function(t){e.focus()})}function Fr(e){Kn.splice(Kn.indexOf(e),1),hs(),e.removeClass("min"),e.min=!1,e.dom.title=""}function hs(){let e=Kn.length,t={},n={};for(let i=0,r,o;i<e;i++)r=Kn[i],o=(r.left||r.right)+":"+(r.top||r.bottom),n[o]?n[o]++:(t[o]=0,n[o]=1);for(let i=0,r,o,s;i<e;i++)r=Kn[i],o=(r.left||r.right)+":"+(r.top||r.bottom),s=Math.min((Re-r.left-r.right)/n[o],250),r.resize(s+1|0,r.header,!0).move(r.left+t[o]*s|0,Me-r.bottom-r.header,!0),t[o]++}function Oe(e,t){let n=qt(e.dom,"wb-"+t);if(!n)return;let i,r,o,s,a,c,l=0;Ht(n,"mousedown",d),Ht(n,"touchstart",d,Mi);function f(){s=requestAnimationFrame(f),c&&(e.resize(),c=!1),a&&(e.move(),a=!1)}function d(x){if(Vn(x),e.focus(),t==="drag"){if(e.min){e.restore();return}let T=Date.now(),w=T-l;if(l=T,w<300&&!e.dom.classList.contains("no-max")){e.max?e.restore():e.maximize();return}}!e.max&&!e.min&&(fs(le,"wb-lock"),Ur&&f(),(i=x.touches)&&(i=i[0])?(x=i,Ht(window,"touchmove",g,Mi),Ht(window,"touchend",E,Mi)):(Ht(window,"mousemove",g),Ht(window,"mouseup",E)),r=x.pageX,o=x.pageY)}function g(x){Vn(x),i&&(x=x.touches[0]);let T=x.pageX,w=x.pageY,C=T-r,N=w-o,A=e.width,y=e.height,O=e.x,L=e.y,R,$,B,M;t==="drag"?(e.x+=C,e.y+=N,B=M=1):(t==="e"||t==="se"||t==="ne"?(e.width+=C,R=1):(t==="w"||t==="sw"||t==="nw")&&(e.x+=C,e.width-=C,R=1,B=1),t==="s"||t==="se"||t==="sw"?(e.height+=N,$=1):(t==="n"||t==="ne"||t==="nw")&&(e.y+=N,e.height-=N,$=1,M=1)),R&&(e.width=Math.max(Math.min(e.width,e.maxwidth,Re-e.x-e.right),e.minwidth),R=e.width!==A),$&&(e.height=Math.max(Math.min(e.height,e.maxheight,Me-e.y-e.bottom),e.minheight),$=e.height!==y),(R||$)&&(Ur?c=!0:e.resize()),B&&(e.x=Math.max(Math.min(e.x,Re-e.width-e.right),e.left),B=e.x!==O),M&&(e.y=Math.max(Math.min(e.y,Me-e.height-e.bottom),e.top),M=e.y!==L),(B||M)&&(Ur?a=!0:e.move()),(R||B)&&(r=T),($||M)&&(o=w)}function E(x){Vn(x),ds(le,"wb-lock"),Ur&&cancelAnimationFrame(s),i?(Ri(window,"touchmove",g,Mi),Ri(window,"touchend",E,Mi)):(Ri(window,"mousemove",g),Ri(window,"mouseup",E))}}function Nc(){let e=document.documentElement;Re=e.clientWidth,Me=e.clientHeight}function Ud(){return document.fullscreen||document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement}function jr(){if(qn.full=!1,Ud())return document[Cc](),!0}var Hc=wa(Dc()),Uc=wa(kc());(function(){"use strict";var e=window.Document.prototype.createElement,t=window.Document.prototype.createElementNS,n=window.Document.prototype.importNode,i=window.Document.prototype.prepend,r=window.Document.prototype.append,o=window.DocumentFragment.prototype.prepend,s=window.DocumentFragment.prototype.append,a=window.Node.prototype.cloneNode,c=window.Node.prototype.appendChild,l=window.Node.prototype.insertBefore,f=window.Node.prototype.removeChild,d=window.Node.prototype.replaceChild,g=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),E=window.Element.prototype.attachShadow,x=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),T=window.Element.prototype.getAttribute,w=window.Element.prototype.setAttribute,C=window.Element.prototype.removeAttribute,N=window.Element.prototype.toggleAttribute,A=window.Element.prototype.getAttributeNS,y=window.Element.prototype.setAttributeNS,O=window.Element.prototype.removeAttributeNS,L=window.Element.prototype.insertAdjacentElement,R=window.Element.prototype.insertAdjacentHTML,$=window.Element.prototype.prepend,B=window.Element.prototype.append,M=window.Element.prototype.before,F=window.Element.prototype.after,W=window.Element.prototype.replaceWith,q=window.Element.prototype.remove,it=window.HTMLElement,H=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),V=window.HTMLElement.prototype.insertAdjacentElement,Q=window.HTMLElement.prototype.insertAdjacentHTML,at=new Set;"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach(function(u){return at.add(u)});function rt(u){var h=at.has(u);return u=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/.test(u),!h&&u}var z=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function G(u){var h=u.isConnected;if(h!==void 0)return h;if(z(u))return!0;for(;u&&!(u.__CE_isImportDocument||u instanceof Document);)u=u.parentNode||(window.ShadowRoot&&u instanceof ShadowRoot?u.host:void 0);return!(!u||!(u.__CE_isImportDocument||u instanceof Document))}function bt(u){var h=u.children;if(h)return Array.prototype.slice.call(h);for(h=[],u=u.firstChild;u;u=u.nextSibling)u.nodeType===Node.ELEMENT_NODE&&h.push(u);return h}function It(u,h){for(;h&&h!==u&&!h.nextSibling;)h=h.parentNode;return h&&h!==u?h.nextSibling:null}function xt(u,h,m){for(var v=u;v;){if(v.nodeType===Node.ELEMENT_NODE){var p=v;h(p);var _=p.localName;if(_==="link"&&p.getAttribute("rel")==="import"){if(v=p.import,m===void 0&&(m=new Set),v instanceof Node&&!m.has(v))for(m.add(v),v=v.firstChild;v;v=v.nextSibling)xt(v,h,m);v=It(u,p);continue}else if(_==="template"){v=It(u,p);continue}if(p=p.__CE_shadowRoot)for(p=p.firstChild;p;p=p.nextSibling)xt(p,h,m)}v=v.firstChild?v.firstChild:It(u,v)}}function ft(){var u=!(he==null||!he.noDocumentConstructionObserver),h=!(he==null||!he.shadyDomFastWalk);this.m=[],this.g=[],this.j=!1,this.shadyDomFastWalk=h,this.I=!u}function ht(u,h,m,v){var p=window.ShadyDOM;if(u.shadyDomFastWalk&&p&&p.inUse){if(h.nodeType===Node.ELEMENT_NODE&&m(h),h.querySelectorAll)for(u=p.nativeMethods.querySelectorAll.call(h,"*"),h=0;h<u.length;h++)m(u[h])}else xt(h,m,v)}function $t(u,h){u.j=!0,u.m.push(h)}function _t(u,h){u.j=!0,u.g.push(h)}function jt(u,h){u.j&&ht(u,h,function(m){return Rt(u,m)})}function Rt(u,h){if(u.j&&!h.__CE_patched){h.__CE_patched=!0;for(var m=0;m<u.m.length;m++)u.m[m](h);for(m=0;m<u.g.length;m++)u.g[m](h)}}function X(u,h){var m=[];for(ht(u,h,function(p){return m.push(p)}),h=0;h<m.length;h++){var v=m[h];v.__CE_state===1?u.connectedCallback(v):Ct(u,v)}}function J(u,h){var m=[];for(ht(u,h,function(p){return m.push(p)}),h=0;h<m.length;h++){var v=m[h];v.__CE_state===1&&u.disconnectedCallback(v)}}function Et(u,h,m){m=m===void 0?{}:m;var v=m.J,p=m.upgrade||function(S){return Ct(u,S)},_=[];for(ht(u,h,function(S){if(u.j&&Rt(u,S),S.localName==="link"&&S.getAttribute("rel")==="import"){var D=S.import;D instanceof Node&&(D.__CE_isImportDocument=!0,D.__CE_registry=document.__CE_registry),D&&D.readyState==="complete"?D.__CE_documentLoadHandled=!0:S.addEventListener("load",function(){var I=S.import;if(!I.__CE_documentLoadHandled){I.__CE_documentLoadHandled=!0;var j=new Set;v&&(v.forEach(function(tt){return j.add(tt)}),j.delete(I)),Et(u,I,{J:j,upgrade:p})}})}else _.push(S)},v),h=0;h<_.length;h++)p(_[h])}function Ct(u,h){try{var m=h.ownerDocument,v=m.__CE_registry,p=v&&(m.defaultView||m.__CE_isImportDocument)?Ge(v,h.localName):void 0;if(p&&h.__CE_state===void 0){p.constructionStack.push(h);try{try{if(new p.constructorFunction!==h)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{p.constructionStack.pop()}}catch(I){throw h.__CE_state=2,I}if(h.__CE_state=1,h.__CE_definition=p,p.attributeChangedCallback&&h.hasAttributes()){var _=p.observedAttributes;for(p=0;p<_.length;p++){var S=_[p],D=h.getAttribute(S);D!==null&&u.attributeChangedCallback(h,S,null,D,null)}}G(h)&&u.connectedCallback(h)}}catch(I){Z(I)}}ft.prototype.connectedCallback=function(u){var h=u.__CE_definition;if(h.connectedCallback)try{h.connectedCallback.call(u)}catch(m){Z(m)}},ft.prototype.disconnectedCallback=function(u){var h=u.__CE_definition;if(h.disconnectedCallback)try{h.disconnectedCallback.call(u)}catch(m){Z(m)}},ft.prototype.attributeChangedCallback=function(u,h,m,v,p){var _=u.__CE_definition;if(_.attributeChangedCallback&&-1<_.observedAttributes.indexOf(h))try{_.attributeChangedCallback.call(u,h,m,v,p)}catch(S){Z(S)}};function Tt(u,h,m,v){var p=h.__CE_registry;if(p&&(v===null||v==="http://www.w3.org/1999/xhtml")&&(p=Ge(p,m)))try{var _=new p.constructorFunction;if(_.__CE_state===void 0||_.__CE_definition===void 0)throw Error("Failed to construct '"+m+"': The returned value was not constructed with the HTMLElement constructor.");if(_.namespaceURI!=="http://www.w3.org/1999/xhtml")throw Error("Failed to construct '"+m+"': The constructed element's namespace must be the HTML namespace.");if(_.hasAttributes())throw Error("Failed to construct '"+m+"': The constructed element must not have any attributes.");if(_.firstChild!==null)throw Error("Failed to construct '"+m+"': The constructed element must not have any children.");if(_.parentNode!==null)throw Error("Failed to construct '"+m+"': The constructed element must not have a parent node.");if(_.ownerDocument!==h)throw Error("Failed to construct '"+m+"': The constructed element's owner document is incorrect.");if(_.localName!==m)throw Error("Failed to construct '"+m+"': The constructed element's local name is incorrect.");return _}catch(S){return Z(S),h=v===null?e.call(h,m):t.call(h,v,m),Object.setPrototypeOf(h,HTMLUnknownElement.prototype),h.__CE_state=2,h.__CE_definition=void 0,Rt(u,h),h}return h=v===null?e.call(h,m):t.call(h,v,m),Rt(u,h),h}function Z(u){var h="",m="",v=0,p=0;u instanceof Error?(h=u.message,m=u.sourceURL||u.fileName||"",v=u.line||u.lineNumber||0,p=u.column||u.columnNumber||0):h="Uncaught "+String(u);var _=void 0;ErrorEvent.prototype.initErrorEvent===void 0?_=new ErrorEvent("error",{cancelable:!0,message:h,filename:m,lineno:v,colno:p,error:u}):(_=document.createEvent("ErrorEvent"),_.initErrorEvent("error",!1,!0,h,m,v),_.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})}),_.error===void 0&&Object.defineProperty(_,"error",{configurable:!0,enumerable:!0,get:function(){return u}}),window.dispatchEvent(_),_.defaultPrevented||console.error(u)}function Gt(){var u=this;this.g=void 0,this.F=new Promise(function(h){u.l=h})}Gt.prototype.resolve=function(u){if(this.g)throw Error("Already resolved.");this.g=u,this.l(u)};function de(u){var h=document;this.l=void 0,this.h=u,this.g=h,Et(this.h,this.g),this.g.readyState==="loading"&&(this.l=new MutationObserver(this.G.bind(this)),this.l.observe(this.g,{childList:!0,subtree:!0}))}function sr(u){u.l&&u.l.disconnect()}de.prototype.G=function(u){var h=this.g.readyState;for(h!=="interactive"&&h!=="complete"||sr(this),h=0;h<u.length;h++)for(var m=u[h].addedNodes,v=0;v<m.length;v++)Et(this.h,m[v])};function K(u){this.s=new Map,this.u=new Map,this.C=new Map,this.A=!1,this.B=new Map,this.o=function(h){return h()},this.i=!1,this.v=[],this.h=u,this.D=u.I?new de(u):void 0}K.prototype.H=function(u,h){var m=this;if(!(h instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");dn(this,u),this.s.set(u,h),this.v.push(u),this.i||(this.i=!0,this.o(function(){return Ei(m)}))},K.prototype.define=function(u,h){var m=this;if(!(h instanceof Function))throw new TypeError("Custom element constructors must be functions.");dn(this,u),_i(this,u,h),this.v.push(u),this.i||(this.i=!0,this.o(function(){return Ei(m)}))};function dn(u,h){if(!rt(h))throw new SyntaxError("The element name '"+h+"' is not valid.");if(Ge(u,h))throw Error("A custom element with name '"+(h+"' has already been defined."));if(u.A)throw Error("A custom element is already being defined.")}function _i(u,h,m){u.A=!0;var v;try{var p=m.prototype;if(!(p instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var _=function(tt){var Pn=p[tt];if(Pn!==void 0&&!(Pn instanceof Function))throw Error("The '"+tt+"' callback must be a function.");return Pn},S=_("connectedCallback"),D=_("disconnectedCallback"),I=_("adoptedCallback"),j=(v=_("attributeChangedCallback"))&&m.observedAttributes||[]}catch(tt){throw tt}finally{u.A=!1}return m={localName:h,constructorFunction:m,connectedCallback:S,disconnectedCallback:D,adoptedCallback:I,attributeChangedCallback:v,observedAttributes:j,constructionStack:[]},u.u.set(h,m),u.C.set(m.constructorFunction,m),m}K.prototype.upgrade=function(u){Et(this.h,u)};function Ei(u){if(u.i!==!1){u.i=!1;for(var h=[],m=u.v,v=new Map,p=0;p<m.length;p++)v.set(m[p],[]);for(Et(u.h,document,{upgrade:function(I){if(I.__CE_state===void 0){var j=I.localName,tt=v.get(j);tt?tt.push(I):u.u.has(j)&&h.push(I)}}}),p=0;p<h.length;p++)Ct(u.h,h[p]);for(p=0;p<m.length;p++){for(var _=m[p],S=v.get(_),D=0;D<S.length;D++)Ct(u.h,S[D]);(_=u.B.get(_))&&_.resolve(void 0)}m.length=0}}K.prototype.get=function(u){if(u=Ge(this,u))return u.constructorFunction},K.prototype.whenDefined=function(u){if(!rt(u))return Promise.reject(new SyntaxError("'"+u+"' is not a valid custom element name."));var h=this.B.get(u);if(h)return h.F;h=new Gt,this.B.set(u,h);var m=this.u.has(u)||this.s.has(u);return u=this.v.indexOf(u)===-1,m&&u&&h.resolve(void 0),h.F},K.prototype.polyfillWrapFlushCallback=function(u){this.D&&sr(this.D);var h=this.o;this.o=function(m){return u(function(){return h(m)})}};function Ge(u,h){var m=u.u.get(h);if(m)return m;if(m=u.s.get(h)){u.s.delete(h);try{return _i(u,h,m())}catch(v){Z(v)}}}K.prototype.define=K.prototype.define,K.prototype.upgrade=K.prototype.upgrade,K.prototype.get=K.prototype.get,K.prototype.whenDefined=K.prototype.whenDefined,K.prototype.polyfillDefineLazy=K.prototype.H,K.prototype.polyfillWrapFlushCallback=K.prototype.polyfillWrapFlushCallback;function kn(u,h,m){function v(p){return function(_){for(var S=[],D=0;D<arguments.length;++D)S[D]=arguments[D];D=[];for(var I=[],j=0;j<S.length;j++){var tt=S[j];if(tt instanceof Element&&G(tt)&&I.push(tt),tt instanceof DocumentFragment)for(tt=tt.firstChild;tt;tt=tt.nextSibling)D.push(tt);else D.push(tt)}for(p.apply(this,S),S=0;S<I.length;S++)J(u,I[S]);if(G(this))for(S=0;S<D.length;S++)I=D[S],I instanceof Element&&X(u,I)}}m.prepend!==void 0&&(h.prepend=v(m.prepend)),m.append!==void 0&&(h.append=v(m.append))}function ar(u){Document.prototype.createElement=function(h){return Tt(u,this,h,null)},Document.prototype.importNode=function(h,m){return h=n.call(this,h,!!m),this.__CE_registry?Et(u,h):jt(u,h),h},Document.prototype.createElementNS=function(h,m){return Tt(u,this,m,h)},kn(u,Document.prototype,{prepend:i,append:r})}function cr(u){function h(v){return function(p){for(var _=[],S=0;S<arguments.length;++S)_[S]=arguments[S];S=[];for(var D=[],I=0;I<_.length;I++){var j=_[I];if(j instanceof Element&&G(j)&&D.push(j),j instanceof DocumentFragment)for(j=j.firstChild;j;j=j.nextSibling)S.push(j);else S.push(j)}for(v.apply(this,_),_=0;_<D.length;_++)J(u,D[_]);if(G(this))for(_=0;_<S.length;_++)D=S[_],D instanceof Element&&X(u,D)}}var m=Element.prototype;M!==void 0&&(m.before=h(M)),F!==void 0&&(m.after=h(F)),W!==void 0&&(m.replaceWith=function(v){for(var p=[],_=0;_<arguments.length;++_)p[_]=arguments[_];_=[];for(var S=[],D=0;D<p.length;D++){var I=p[D];if(I instanceof Element&&G(I)&&S.push(I),I instanceof DocumentFragment)for(I=I.firstChild;I;I=I.nextSibling)_.push(I);else _.push(I)}for(D=G(this),W.apply(this,p),p=0;p<S.length;p++)J(u,S[p]);if(D)for(J(u,this),p=0;p<_.length;p++)S=_[p],S instanceof Element&&X(u,S)}),q!==void 0&&(m.remove=function(){var v=G(this);q.call(this),v&&J(u,this)})}function lr(u){function h(p,_){Object.defineProperty(p,"innerHTML",{enumerable:_.enumerable,configurable:!0,get:_.get,set:function(S){var D=this,I=void 0;if(G(this)&&(I=[],ht(u,this,function(Pn){Pn!==D&&I.push(Pn)})),_.set.call(this,S),I)for(var j=0;j<I.length;j++){var tt=I[j];tt.__CE_state===1&&u.disconnectedCallback(tt)}return this.ownerDocument.__CE_registry?Et(u,this):jt(u,this),S}})}function m(p,_){p.insertAdjacentElement=function(S,D){var I=G(D);return S=_.call(this,S,D),I&&J(u,D),G(S)&&X(u,D),S}}function v(p,_){function S(D,I){for(var j=[];D!==I;D=D.nextSibling)j.push(D);for(I=0;I<j.length;I++)Et(u,j[I])}p.insertAdjacentHTML=function(D,I){if(D=D.toLowerCase(),D==="beforebegin"){var j=this.previousSibling;_.call(this,D,I),S(j||this.parentNode.firstChild,this)}else if(D==="afterbegin")j=this.firstChild,_.call(this,D,I),S(this.firstChild,j);else if(D==="beforeend")j=this.lastChild,_.call(this,D,I),S(j||this.firstChild,null);else if(D==="afterend")j=this.nextSibling,_.call(this,D,I),S(this.nextSibling,j);else throw new SyntaxError("The value provided ("+String(D)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.")}}E&&(Element.prototype.attachShadow=function(p){if(p=E.call(this,p),u.j&&!p.__CE_patched){p.__CE_patched=!0;for(var _=0;_<u.m.length;_++)u.m[_](p)}return this.__CE_shadowRoot=p}),x&&x.get?h(Element.prototype,x):H&&H.get?h(HTMLElement.prototype,H):_t(u,function(p){h(p,{enumerable:!0,configurable:!0,get:function(){return a.call(this,!0).innerHTML},set:function(_){var S=this.localName==="template",D=S?this.content:this,I=t.call(document,this.namespaceURI,this.localName);for(I.innerHTML=_;0<D.childNodes.length;)f.call(D,D.childNodes[0]);for(_=S?I.content:I;0<_.childNodes.length;)c.call(D,_.childNodes[0])}})}),Element.prototype.setAttribute=function(p,_){if(this.__CE_state!==1)return w.call(this,p,_);var S=T.call(this,p);w.call(this,p,_),_=T.call(this,p),u.attributeChangedCallback(this,p,S,_,null)},Element.prototype.setAttributeNS=function(p,_,S){if(this.__CE_state!==1)return y.call(this,p,_,S);var D=A.call(this,p,_);y.call(this,p,_,S),S=A.call(this,p,_),u.attributeChangedCallback(this,_,D,S,p)},Element.prototype.removeAttribute=function(p){if(this.__CE_state!==1)return C.call(this,p);var _=T.call(this,p);C.call(this,p),_!==null&&u.attributeChangedCallback(this,p,_,null,null)},N&&(Element.prototype.toggleAttribute=function(p,_){if(this.__CE_state!==1)return N.call(this,p,_);var S=T.call(this,p),D=S!==null;return _=N.call(this,p,_),D!==_&&u.attributeChangedCallback(this,p,S,_?"":null,null),_}),Element.prototype.removeAttributeNS=function(p,_){if(this.__CE_state!==1)return O.call(this,p,_);var S=A.call(this,p,_);O.call(this,p,_);var D=A.call(this,p,_);S!==D&&u.attributeChangedCallback(this,_,S,D,p)},V?m(HTMLElement.prototype,V):L&&m(Element.prototype,L),Q?v(HTMLElement.prototype,Q):R&&v(Element.prototype,R),kn(u,Element.prototype,{prepend:$,append:B}),cr(u)}var ya={};function Nu(u){function h(){var m=this.constructor,v=document.__CE_registry.C.get(m);if(!v)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var p=v.constructionStack;if(p.length===0)return p=e.call(document,v.localName),Object.setPrototypeOf(p,m.prototype),p.__CE_state=1,p.__CE_definition=v,Rt(u,p),p;var _=p.length-1,S=p[_];if(S===ya)throw Error("Failed to construct '"+v.localName+"': This element was already constructed.");return p[_]=ya,Object.setPrototypeOf(S,m.prototype),Rt(u,S),S}h.prototype=it.prototype,Object.defineProperty(HTMLElement.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:h}),window.HTMLElement=h}function Cu(u){function h(m,v){Object.defineProperty(m,"textContent",{enumerable:v.enumerable,configurable:!0,get:v.get,set:function(p){if(this.nodeType===Node.TEXT_NODE)v.set.call(this,p);else{var _=void 0;if(this.firstChild){var S=this.childNodes,D=S.length;if(0<D&&G(this)){_=Array(D);for(var I=0;I<D;I++)_[I]=S[I]}}if(v.set.call(this,p),_)for(p=0;p<_.length;p++)J(u,_[p])}}})}Node.prototype.insertBefore=function(m,v){if(m instanceof DocumentFragment){var p=bt(m);if(m=l.call(this,m,v),G(this))for(v=0;v<p.length;v++)X(u,p[v]);return m}return p=m instanceof Element&&G(m),v=l.call(this,m,v),p&&J(u,m),G(this)&&X(u,m),v},Node.prototype.appendChild=function(m){if(m instanceof DocumentFragment){var v=bt(m);if(m=c.call(this,m),G(this))for(var p=0;p<v.length;p++)X(u,v[p]);return m}return v=m instanceof Element&&G(m),p=c.call(this,m),v&&J(u,m),G(this)&&X(u,m),p},Node.prototype.cloneNode=function(m){return m=a.call(this,!!m),this.ownerDocument.__CE_registry?Et(u,m):jt(u,m),m},Node.prototype.removeChild=function(m){var v=m instanceof Element&&G(m),p=f.call(this,m);return v&&J(u,m),p},Node.prototype.replaceChild=function(m,v){if(m instanceof DocumentFragment){var p=bt(m);if(m=d.call(this,m,v),G(this))for(J(u,v),v=0;v<p.length;v++)X(u,p[v]);return m}p=m instanceof Element&&G(m);var _=d.call(this,m,v),S=G(this);return S&&J(u,v),p&&J(u,m),S&&X(u,m),_},g&&g.get?h(Node.prototype,g):$t(u,function(m){h(m,{enumerable:!0,configurable:!0,get:function(){for(var v=[],p=this.firstChild;p;p=p.nextSibling)p.nodeType!==Node.COMMENT_NODE&&v.push(p.textContent);return v.join("")},set:function(v){for(;this.firstChild;)f.call(this,this.firstChild);v!=null&&v!==""&&c.call(this,document.createTextNode(v))}})})}var he=window.customElements;function ba(){var u=new ft;Nu(u),ar(u),kn(u,DocumentFragment.prototype,{prepend:o,append:s}),Cu(u),lr(u),window.CustomElementRegistry=K,u=new K(u),document.__CE_registry=u,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:u})}he&&!he.forcePolyfill&&typeof he.define=="function"&&typeof he.get=="function"||ba(),window.__CE_installPolyfill=ba}).call(self);var Pc=`<form data-multi-step class="form inline">
  <div class="row-container">
    <div class="information">
      <div class="logo">
        <img src="" />
        <p></p>
      </div>
      <p data-step="1">How are we doing?</p>
      <p data-step="2">Glad you like it! Can you help us share the \u2764\uFE0F?</p>
      <input name="feedback" data-step="3" placeholder="How can we improve?" />
      <p data-step="4">Thanks for the feedback!</p>
    </div>
    <div class="action">
      <div data-step="1">
        <span class="star" data-star-index="1"></span>
        <span class="star" data-star-index="2"></span>
        <span class="star" data-star-index="3"></span>
        <span class="star" data-star-index="4"></span>
        <span class="star" data-star-index="5"></span>
      </div>
      <div data-step="2">
        <button id="rate-on-store" type="button" data-next-step="4">
          Rate on webstore
        </button>
        <button id="decline-rate-on-rate" type="button" data-next-step="4">
          No thanks
        </button>
      </div>
      <button id="submit-form" type="button" data-step="3" data-next-step="4">
        Submit
      </button>
    </div>
  </div>
</form>
`;var $c=`/* Start css reset */
/* 1. Use a more-intuitive box-sizing model. */
*,
*::before,
*::after {
  box-sizing: border-box;
}
/* 2. Remove default margin */
* {
  margin: 0;
}
/* 3. Allow percentage-based heights in the application */
html,
body {
  height: 100%;
}
/* Typographic tweaks! 4. Add accessible line-height 5. Improve text rendering */
body {
  line-height: 20px;
  -webkit-font-smoothing: antialiased;
}
/* 6. Improve media defaults */
img,
picture,
video,
canvas,
svg {
  display: block;
  max-width: 100%;
}
/* 7. Remove built-in form typography styles */
input,
button,
textarea,
select {
  font-size: 12px;
}
/* 8. Avoid text overflows */
p,
h1,
h2,
h3,
h4,
h5,
h6 {
  overflow-wrap: break-word;
}
/* End css reset */

.form {
  width: 100%;
  font-family: Verdana, sans-serif;
}
[data-step],
.form[data-current-step="4"] .action {
  display: none;
}
.form[data-current-step="1"] [data-step="1"],
.form[data-current-step="2"] [data-step="2"],
.form[data-current-step="3"] [data-step="3"],
.form[data-current-step="4"] [data-step="4"] {
  display: block;
}
.row-container {
  align-items: center;
  background: #cce;
  display: grid;
  gap: 8px;
  margin: 0;
  padding: 4px 10px;
}

.information {
  align-items: center;
  display: grid;
  gap: 8px;
  grid-auto-flow: column;
}
.action {
  align-items: center;
  display: flex;
}
.logo {
  align-items: center;
  display: flex;
  gap: 8px;
}
.logo img {
  width: 15px;
}
.logo p {
  display: none;
}
button {
  background-color: transparent;
  border-radius: 5px;
  margin-right: 8px;
}
.star {
  cursor: pointer;
  font-size: 14px;
  font-weight: bold;
}
.star:before {
  content: "\u2606";
}
.full.star:before {
  content: "\u2605";
  color: gold;
}

.inline .row-container,
.inline .row-container.active {
  display: flex;
  min-height: 35px;
}
.inline .row-container .information {
  display: flex;
  flex-grow: 100;
}
.row-container .information input {
  flex: 1;
}
.inline .row-container[data-step="4"] .information {
  flex-grow: 0;
}

.small .row-container .information {
  display: flex;
}

.medium .row-container .information {
  grid-auto-flow: row;
}
.medium .logo p {
  display: block;
}
p {
  font-size: 12px;
}

div[data-step="2"] {
  white-space: nowrap;
}
`;var zr={};fr(zr,{appDesc:()=>rh,appName:()=>nh,appShortName:()=>ih,default:()=>oh});var nh={message:"Search & Link Preview",description:"The name of the extension"},ih={message:"Link Previews",description:"The short-version name of the extension name"},rh={message:"See previews of links and instantly performs searches on the same page using this previewer instead of opening new tabs",description:"A description of its function"},oh={appName:nh,appShortName:ih,appDesc:rh};var gs=new At("i18n"),Xn=e=>{if(!e)return gs.error("A valid key is required for i18n, got",e),e;if(chrome?.i18n&&chrome.i18n.getMessage(e)!=="")return chrome.i18n.getMessage(e);gs.warn("chrome.i18n is not available in the current context, falling back to en-US"),Object.keys(zr).forEach(t=>{});for(let[t,n]of Object.entries(zr))if(t===e)return n.message;return gs.error("No translation available for key:",e),e};var _s=class extends HTMLElement{constructor(){super();this.logger=new At("feedback-form");this.attachShadow({mode:"open"})}setProgressHandler(n){this.progressHandler=n}static get observedAttributes(){return["size","app-name","logo-url","store-link","form-link"]}connectedCallback(){this.logger.debug("Feedback form added to page."),this.updateStyle(this)}disconnectedCallback(){this.logger.debug("Feedback form removed from page.")}adoptedCallback(){this.logger.debug("Feedback form moved to new page.")}updateStyle(n){let i=document.createElement("style");i.textContent=$c;let r=document.createRange();r.selectNode(document.getElementsByTagName("body").item(0));let o=r.createContextualFragment(Pc),s=n.shadowRoot;s.append(i,o);let a=n.getAttribute("size")??"inline",c=n.getAttribute("app-name")??Xn("appName"),l=n.getAttribute("logo-url")??chrome.runtime.getURL("assets/logo-24x24.png"),f=n.getAttribute("store-link")??"https://chrome.google.com/webstore/detail/"+Xn("@@extension_id"),d=n.getAttribute("form-link")??"https://formspree.io/f/mayzdndj";this.logger.debug(`Attributes: size=${a}, app=${c}, logo=${l}`);let g=s.querySelector("[data-multi-step]");g.classList.remove("inline","small","medium"),g.classList.add(a),g.querySelector("img").src=l,g.querySelector(".logo p").innerHTML=c;let E=g.getAttribute("data-current-step");E||(E=1,g.setAttribute("data-current-step",E));let x=[...g.querySelectorAll(".star")],T=[...g.querySelectorAll("[data-next-step]")];if(x.length>0){let w=()=>x.forEach(A=>A.classList=["star"]),C=A=>{let y=A.target.getAttribute("data-star-index");w(),x.forEach((O,L)=>L<y?O.classList.add("full"):null)},N=A=>{let y=A.target.getAttribute("data-star-index");this.progressHandler&&this.progressHandler("started",y),E=y<5?3:2,g.setAttribute("data-current-step",E)};x.forEach(A=>A.addEventListener("mouseover",C)),x.forEach(A=>A.addEventListener("click",N)),g.addEventListener("mouseleave",w)}T.forEach(w=>w.addEventListener("click",C=>{E=C.target.getAttribute("data-next-step"),g.setAttribute("data-current-step",E),w.id==="rate-on-store"&&window.open(f);let N={feedback:g.querySelector("input").value,appName:c};w.id==="submit-form"&&fetch(d,{method:"POST",body:JSON.stringify(N)}).then(function(A){return this.logger.debug("response",A.json())}).then(function(A){this.logger.debug("response 2",A.json())}),E==4&&setTimeout(()=>{this.progressHandler&&this.progressHandler("completed",N)},1300)}))}};customElements.define("feedback-form",_s);var vs="feedback_data";var Es=class{constructor(){this.storageService=chrome.storage.sync}put(t,n){if(n==null)return Promise.reject("Attempting to save a null value");if(!t)return Promise.reject("Attempting to use a null key");let i={};return i[t]=n,this.storageService.set(i)}async get(t){return(await this.storageService.get(t))[t]}getAll(){return this.storageService.get(null)}async getAndUpdate(t,n){let i=await this.get(t);return this.put(t,await n(i))}},Ut=new Es;async function Bc(){let{sessionData:e}=await chrome.storage.session.get("sessionData"),t=Date.now();return e&&e.timestamp&&((t-e.timestamp)/6e4>30?e=null:(e.timestamp=t,await chrome.storage.session.set({sessionData:e}))),e||(e={session_id:t.toString(),timestamp:t.toString()},await chrome.storage.session.set({sessionData:e})),e.session_id}var sh="https://www.google-analytics.com/mp/collect",ah="https://www.google-analytics.com/debug/mp/collect",ch=mt.__measurement_id__,lh=mt.__ga_api_secret__,uh=100,ys=class{constructor(){this.debug=IS_DEV_BUILD}async getOrCreateClientId(){let{clientId:t}=await chrome.storage.local.get("clientId");return t||(t=self.crypto.randomUUID(),await chrome.storage.local.set({clientId:t})),t}async getSessionId(){try{return Bc()}catch{return new Promise(n=>{chrome.runtime.sendMessage("get_or_create_session_id",i=>{n(i)})})}}async fireEvent(t,n={}){n.session_id||(n.session_id=await this.getSessionId()),n.engagement_time_msec||(n.engagement_time_msec=uh);try{let i=await fetch(`${this.debug?ah:sh}?measurement_id=${ch}&api_secret=${lh}`,{method:"POST",body:JSON.stringify({client_id:await this.getOrCreateClientId(),events:[{name:t,params:n}]})});if(!this.debug)return;console.log(await i.text())}catch(i){console.error("Google Analytics request failed with an exception",i)}}async firePageViewEvent(t,n,i={}){return this.fireEvent("page_view",{page_title:t,page_location:n,...i})}async fireErrorEvent(t,n={}){return this.fireEvent("extension_error",{...t,...n})}},bs=new ys;var Pi=mt.__package_name__+"/mainframe";ke.prototype.setUrl=function(e,t){let n=this.body.firstChild;return n&&n.tagName.toLowerCase()==="iframe"?n.src=e:(this.body.innerHTML='<iframe name="'+Pi+'" src="'+e+'"></iframe>',t&&(this.body.firstChild.onload=t)),this};var ws=class{constructor(){this.logger=new At(this);this.headerIconUrlBase="https://www.google.com/s2/favicons?domain=";this.isVisible=!1;this.navStack=[];this.displayReaderMode=!1;this.isDemo=!1;this.searchUrl={google:"https://www.google.com/search?igu=1&q=",bing:"https://www.bing.com/search?q=",yahoo:"https://search.yahoo.com/search?p=",baidu:"https://www.baidu.com/s?wd=",yandex:"https://yandex.com/search/?text=",duckduckgo:"https://duckduckgo.com/?q=",ecosia:"https://www.ecosia.org/search?q="};this.onEscHandler=t=>{t=t||window.event;var n=!1;"key"in t?n=t.key==="Escape"||t.key==="Esc":n=t.keyCode===27,n&&this.handleMessage({action:"escape",href:document.location.href,sourceFrame:Pi})}}init(){if(this.inIframe()){this.logger.log("Not inserting previewr in iframe: ",window.location.href);return}this.listenForCspError(),this.listenForWindowMessages(),document.addEventListener("keydown",this.onEscHandler)}listenForCspError(){document.addEventListener("securitypolicyviolation",t=>{window.name===Pi&&this.logger.error("CSP error",t,t.blockedURI)})}listenForWindowMessages(){window.addEventListener("message",t=>{if(t.origin!==window.location.origin){this.logger.debug("Ignoring message from different origin",t.origin,t.data);return}if(t.data.application!==mt.__package_name__){this.logger.debug("Ignoring origin messsage not initiated by Better Previews",t.data);return}this.logger.log("#WindowMessage: ",t),this.handleMessage(t.data)},!1)}async handleMessage(t){let n;if(t.mode==="demo"&&(this.isDemo=!0),t.action==="copy"){navigator.clipboard.writeText(t.data);return}else if(t.action==="preview")n=t.data;else if(t.action==="search"){let r=await Ut.get("search-engine")??"google";n=this.searchUrl[r]+t.data}else if(t.action==="load")t.sourceFrame===Pi&&this.dialog&&(this.dialog.setTitle(t.data.title),this.dialog.setIcon(this.headerIconUrlBase+new URL(t.href).hostname));else if(t.action==="navigate")n=t.href;else if(t.action==="escape"){this.dialog?.close();return}else this.logger.warn("Unhandled action",t);if(!n||(0,Hc.sanitizeUrl)(n)==="about:blank")return;let i;try{i=new URL(n)}catch(r){this.logger.error(r);return}return this.url&&this.url.href!==i.href&&this.navStack.push(this.url),this.previewUrl(i)}async previewUrl(t){this.logger.log("#previewUrl: ",t),this.url=t;let n=await this.getWinboxOptions(t);if(this.displayReaderMode){let r=new Uc.Readability(window.document.cloneNode(!0)).parse();r||(console.error("Article is null"),n.html="<h1>Failed to parse article</h1>"),n.html=`<h1>${r.title}</h1> <p>${r.byline}</p> ${r.content}`}else n.url=this.url;this.dialog?(this.logger.debug("restoring dialog"),this.dialog.restore(),this.dialog.setUrl(t.href),this.dialog.setTitle(t.hostname),this.dialog.setIcon(this.headerIconUrlBase+t.hostname)):(this.logger.debug("creating new dialog"),this.dialog=new ke(t.hostname,n),this.dialog.addControl({index:2,class:"wb-nav-away",title:"Open in New Tab",image:"",click:(i,r)=>{this.logger.log("#onOpenInNewTab: url",this.url),window.open(this.url,"_blank")}})),this.dialog.removeControl("nav-back"),this.navStack.length>0&&this.dialog.addControl({index:0,class:"nav-back",image:"",title:"Go Back",click:(i,r)=>{this.navBack()}}),await this.registerFeedbackUI()}async registerFeedbackUI(){(await Ut.get(vs))?.status==="eligible"&&this.dialog?.addClass("show-footer"),(this.dialog?.dom.querySelector("feedback-form")).setProgressHandler((r,o)=>{if(r==="started"){this.logger.log("started: this",this,chrome?.storage?.sync);let s={status:"honored",timestamp:Date.now(),rating:o};Ut.put(vs,s),bs.fireEvent("user_feedback",{action:"rate_experience",star_rating:o})}r==="completed"&&(this.dialog?.removeClass("show-footer"),bs.fireEvent("user_feedback",{action:"submit_feedback",feedback_text:o}))})}navBack(){let t=this.navStack.pop();t&&this.previewUrl(t)}inIframe(){try{return window.self!==window.top}catch{return!0}}getMaxZIndex(){return new Promise(t=>{let n=Math.max(...Array.from(document.querySelectorAll("body *"),i=>parseFloat(window.getComputedStyle(i).zIndex)).filter(i=>!Number.isNaN(i)),0);t(n)})}async getWinboxOptions(t,n){let i=(await Ut.get("previewr-width")??"55")+"%",r=(await Ut.get("previewr-height")??"80")+"%",o="50px";return this.isDemo&&(i="45%",r="40%",o="500px"),{icon:this.headerIconUrlBase+t.hostname,x:"right",y:o,right:10,width:i,height:r,class:["no-max","no-full"],index:await this.getMaxZIndex(),hidden:!1,shadowel:"search-preview-window",framename:Pi,onclose:()=>{this.navStack=[],this.url=void 0,this.dialog=void 0}}}};new ws().init();var xs=class{constructor(){this.iframeName=mt.__package_name__+"/mainframe";this.logger=new At(this);this.redirectClicks=t=>{var n=this.getLinkTarget(t);!n||!n.href||n.href.startsWith("#")||(t.stopImmediatePropagation(),t.preventDefault(),this.logger.debug("Prevented click propagation and posting navigate"),this.sendMessage({action:"navigate",href:n.href,source:window.location.href}))}}registerListeners(){!this.inIframe()||this.getFrameName()===this.iframeName&&(document.addEventListener("click",this.redirectClicks,!0),window.addEventListener("load",()=>{this.sendMessage({action:"load",data:{title:this.getTitle()}})}),window.addEventListener("unload",()=>{this.sendMessage({action:"unload"})}))}inIframe(){try{return window.self!==window.top}catch{return!0}}getFrameName(){return window.name}getLinkTarget(t){var n=t.target;do if(n.nodeName.toUpperCase()==="A"&&n.href)return n;while(n=n.parentElement);return null}sendMessage(t){this.logger.debug("#sendMessage",t),chrome.runtime.sendMessage({application:mt.__package_name__,href:document.location.href,sourceFrame:this.getFrameName(),...t})}getTitle(){if(document.title)return document.title;let t=document.querySelector("meta[property='og:site_name'][content]");return t?t.content:window.location.origin}},fh=new xs;fh.registerListeners();function Bi(e){return e.split("-")[1]}function As(e){return e==="y"?"height":"width"}function En(e){return e.split("-")[0]}function Hi(e){return["top","bottom"].includes(En(e))?"x":"y"}function Fc(e,t,n){let{reference:i,floating:r}=e,o=i.x+i.width/2-r.width/2,s=i.y+i.height/2-r.height/2,a=Hi(t),c=As(a),l=i[c]/2-r[c]/2,f=a==="x",d;switch(En(t)){case"top":d={x:o,y:i.y-r.height};break;case"bottom":d={x:o,y:i.y+i.height};break;case"right":d={x:i.x+i.width,y:s};break;case"left":d={x:i.x-r.width,y:s};break;default:d={x:i.x,y:i.y}}switch(Bi(t)){case"start":d[a]-=l*(n&&f?-1:1);break;case"end":d[a]+=l*(n&&f?-1:1)}return d}var jc=async(e,t,n)=>{let{placement:i="bottom",strategy:r="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t)),l=await s.getElementRects({reference:e,floating:t,strategy:r}),{x:f,y:d}=Fc(l,i,c),g=i,E={},x=0;for(let T=0;T<a.length;T++){let{name:w,fn:C}=a[T],{x:N,y:A,data:y,reset:O}=await C({x:f,y:d,initialPlacement:i,placement:g,strategy:r,middlewareData:E,rects:l,platform:s,elements:{reference:e,floating:t}});f=N??f,d=A??d,E={...E,[w]:{...E[w],...y}},O&&x<=50&&(x++,typeof O=="object"&&(O.placement&&(g=O.placement),O.rects&&(l=O.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:r}):O.rects),{x:f,y:d}=Fc(l,g,c)),T=-1)}return{x:f,y:d,placement:g,strategy:r,middlewareData:E}};function Gc(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function $i(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function Ns(e,t){var n;t===void 0&&(t={});let{x:i,y:r,platform:o,rects:s,elements:a,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:g=!1,padding:E=0}=t,x=Gc(E),T=a[g?d==="floating"?"reference":"floating":d],w=$i(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(T)))==null||n?T:T.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:l,rootBoundary:f,strategy:c})),C=d==="floating"?{...s.floating,x:i,y:r}:s.reference,N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),A=await(o.isElement==null?void 0:o.isElement(N))&&await(o.getScale==null?void 0:o.getScale(N))||{x:1,y:1},y=$i(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:C,offsetParent:N,strategy:c}):C);return{top:(w.top-y.top+x.top)/A.y,bottom:(y.bottom-w.bottom+x.bottom)/A.y,left:(w.left-y.left+x.left)/A.x,right:(y.right-w.right+x.right)/A.x}}var dh=Math.min,hh=Math.max;function Ss(e,t,n){return hh(e,dh(t,n))}var Cs=e=>({name:"arrow",options:e,async fn(t){let{element:n,padding:i=0}=e||{},{x:r,y:o,placement:s,rects:a,platform:c}=t;if(n==null)return{};let l=Gc(i),f={x:r,y:o},d=Hi(s),g=As(d),E=await c.getDimensions(n),x=d==="y"?"top":"left",T=d==="y"?"bottom":"right",w=a.reference[g]+a.reference[d]-f[d]-a.floating[g],C=f[d]-a.reference[d],N=await(c.getOffsetParent==null?void 0:c.getOffsetParent(n)),A=N?d==="y"?N.clientHeight||0:N.clientWidth||0:0;A===0&&(A=a.floating[g]);let y=w/2-C/2,O=l[x],L=A-E[g]-l[T],R=A/2-E[g]/2+y,$=Ss(O,R,L),B=Bi(s)!=null&&R!=$&&a.reference[g]/2-(R<O?l[x]:l[T])-E[g]/2<0;return{[d]:f[d]-(B?R<O?O-R:L-R:0),data:{[d]:$,centerOffset:R-$}}}}),ph=["top","right","bottom","left"],hx=ph.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]),mh={left:"right",right:"left",bottom:"top",top:"bottom"};function Yr(e){return e.replace(/left|right|bottom|top/g,t=>mh[t])}function gh(e,t,n){n===void 0&&(n=!1);let i=Bi(e),r=Hi(e),o=As(r),s=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=Yr(s)),{main:s,cross:Yr(s)}}var _h={start:"end",end:"start"};function Ts(e){return e.replace(/start|end/g,t=>_h[t])}var Ds=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;let{placement:i,middlewareData:r,rects:o,initialPlacement:s,platform:a,elements:c}=t,{mainAxis:l=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:x=!0,...T}=e,w=En(i),C=En(s)===s,N=await(a.isRTL==null?void 0:a.isRTL(c.floating)),A=d||(C||!x?[Yr(s)]:function(M){let F=Yr(M);return[Ts(M),F,Ts(F)]}(s));d||E==="none"||A.push(...function(M,F,W,q){let it=Bi(M),H=function(V,Q,at){let rt=["left","right"],z=["right","left"],G=["top","bottom"],bt=["bottom","top"];switch(V){case"top":case"bottom":return at?Q?z:rt:Q?rt:z;case"left":case"right":return Q?G:bt;default:return[]}}(En(M),W==="start",q);return it&&(H=H.map(V=>V+"-"+it),F&&(H=H.concat(H.map(Ts)))),H}(s,x,E,N));let y=[s,...A],O=await Ns(t,T),L=[],R=((n=r.flip)==null?void 0:n.overflows)||[];if(l&&L.push(O[w]),f){let{main:M,cross:F}=gh(i,o,N);L.push(O[M],O[F])}if(R=[...R,{placement:i,overflows:L}],!L.every(M=>M<=0)){var $;let M=((($=r.flip)==null?void 0:$.index)||0)+1,F=y[M];if(F)return{data:{index:M,overflows:R},reset:{placement:F}};let W="bottom";switch(g){case"bestFit":{var B;let q=(B=R.map(it=>[it,it.overflows.filter(H=>H>0).reduce((H,V)=>H+V,0)]).sort((it,H)=>it[1]-H[1])[0])==null?void 0:B[0].placement;q&&(W=q);break}case"initialPlacement":W=s}if(i!==W)return{reset:{placement:W}}}return{}}}};var Ls=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){let{x:n,y:i}=t,r=await async function(o,s){let{placement:a,platform:c,elements:l}=o,f=await(c.isRTL==null?void 0:c.isRTL(l.floating)),d=En(a),g=Bi(a),E=Hi(a)==="x",x=["left","top"].includes(d)?-1:1,T=f&&E?-1:1,w=typeof s=="function"?s(o):s,{mainAxis:C,crossAxis:N,alignmentAxis:A}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...w};return g&&typeof A=="number"&&(N=g==="end"?-1*A:A),E?{x:N*T,y:C*x}:{x:C*x,y:N*T}}(t,e);return{x:n+r.x,y:i+r.y,data:r}}}};function Eh(e){return e==="x"?"y":"x"}var Os=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){let{x:n,y:i,placement:r}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:w=>{let{x:C,y:N}=w;return{x:C,y:N}}},...c}=e,l={x:n,y:i},f=await Ns(t,c),d=Hi(En(r)),g=Eh(d),E=l[d],x=l[g];if(o){let w=d==="y"?"bottom":"right";E=Ss(E+f[d==="y"?"top":"left"],E,E-f[w])}if(s){let w=g==="y"?"bottom":"right";x=Ss(x+f[g==="y"?"top":"left"],x,x-f[w])}let T=a.fn({...t,[d]:E,[g]:x});return{...T,data:{x:T.x-n,y:T.y-i}}}}};function Kt(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function be(e){return Kt(e).getComputedStyle(e)}function Ze(e){return Xc(e)?(e.nodeName||"").toLowerCase():""}var Vr;function Kc(){if(Vr)return Vr;let e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(Vr=e.brands.map(t=>t.brand+"/"+t.version).join(" "),Vr):navigator.userAgent}function Pe(e){return e instanceof Kt(e).HTMLElement}function Je(e){return e instanceof Kt(e).Element}function Xc(e){return e instanceof Kt(e).Node}function zc(e){return typeof ShadowRoot>"u"?!1:e instanceof Kt(e).ShadowRoot||e instanceof ShadowRoot}function Kr(e){let{overflow:t,overflowX:n,overflowY:i,display:r}=be(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(r)}function vh(e){return["table","td","th"].includes(Ze(e))}function Is(e){let t=/firefox/i.test(Kc()),n=be(e),i=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!i&&i!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(r=>n.willChange.includes(r))||["paint","layout","strict","content"].some(r=>{let o=n.contain;return o!=null&&o.includes(r)})}function Jc(){return!/^((?!chrome|android).)*safari/i.test(Kc())}function Rs(e){return["html","body","#document"].includes(Ze(e))}var Wc=Math.min,Ui=Math.max,qr=Math.round;function Qc(e){let t=be(e),n=parseFloat(t.width),i=parseFloat(t.height),r=e.offsetWidth,o=e.offsetHeight,s=qr(n)!==r||qr(i)!==o;return s&&(n=r,i=o),{width:n,height:i,fallback:s}}function Zc(e){return Je(e)?e:e.contextElement}var tl={x:1,y:1};function Jn(e){let t=Zc(e);if(!Pe(t))return tl;let n=t.getBoundingClientRect(),{width:i,height:r,fallback:o}=Qc(t),s=(o?qr(n.width):n.width)/i,a=(o?qr(n.height):n.height)/r;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}function Fi(e,t,n,i){var r,o;t===void 0&&(t=!1),n===void 0&&(n=!1);let s=e.getBoundingClientRect(),a=Zc(e),c=tl;t&&(i?Je(i)&&(c=Jn(i)):c=Jn(e));let l=a?Kt(a):window,f=!Jc()&&n,d=(s.left+(f&&((r=l.visualViewport)==null?void 0:r.offsetLeft)||0))/c.x,g=(s.top+(f&&((o=l.visualViewport)==null?void 0:o.offsetTop)||0))/c.y,E=s.width/c.x,x=s.height/c.y;if(a){let T=Kt(a),w=i&&Je(i)?Kt(i):i,C=T.frameElement;for(;C&&i&&w!==T;){let N=Jn(C),A=C.getBoundingClientRect(),y=getComputedStyle(C);A.x+=(C.clientLeft+parseFloat(y.paddingLeft))*N.x,A.y+=(C.clientTop+parseFloat(y.paddingTop))*N.y,d*=N.x,g*=N.y,E*=N.x,x*=N.y,d+=A.x,g+=A.y,C=Kt(C).frameElement}}return{width:E,height:x,top:g,right:d+E,bottom:g+x,left:d,x:d,y:g}}function Qe(e){return((Xc(e)?e.ownerDocument:e.document)||window.document).documentElement}function Xr(e){return Je(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function el(e){return Fi(Qe(e)).left+Xr(e).scrollLeft}function yh(e,t,n){let i=Pe(t),r=Qe(t),o=Fi(e,!0,n==="fixed",t),s={scrollLeft:0,scrollTop:0},a={x:0,y:0};if(i||!i&&n!=="fixed")if((Ze(t)!=="body"||Kr(r))&&(s=Xr(t)),Pe(t)){let c=Fi(t,!0);a.x=c.x+t.clientLeft,a.y=c.y+t.clientTop}else r&&(a.x=el(r));return{x:o.left+s.scrollLeft-a.x,y:o.top+s.scrollTop-a.y,width:o.width,height:o.height}}function ji(e){if(Ze(e)==="html")return e;let t=e.assignedSlot||e.parentNode||(zc(e)?e.host:null)||Qe(e);return zc(t)?t.host:t}function Yc(e){return Pe(e)&&be(e).position!=="fixed"?e.offsetParent:null}function Vc(e){let t=Kt(e),n=Yc(e);for(;n&&vh(n)&&be(n).position==="static";)n=Yc(n);return n&&(Ze(n)==="html"||Ze(n)==="body"&&be(n).position==="static"&&!Is(n))?t:n||function(i){let r=ji(i);for(;Pe(r)&&!Rs(r);){if(Is(r))return r;r=ji(r)}return null}(e)||t}function nl(e){let t=ji(e);return Rs(t)?e.ownerDocument.body:Pe(t)&&Kr(t)?t:nl(t)}function il(e,t){var n;t===void 0&&(t=[]);let i=nl(e),r=i===((n=e.ownerDocument)==null?void 0:n.body),o=Kt(i);return r?t.concat(o,o.visualViewport||[],Kr(i)?i:[]):t.concat(i,il(i))}function qc(e,t,n){return t==="viewport"?$i(function(i,r){let o=Kt(i),s=Qe(i),a=o.visualViewport,c=s.clientWidth,l=s.clientHeight,f=0,d=0;if(a){c=a.width,l=a.height;let g=Jc();(g||!g&&r==="fixed")&&(f=a.offsetLeft,d=a.offsetTop)}return{width:c,height:l,x:f,y:d}}(e,n)):Je(t)?function(i,r){let o=Fi(i,!0,r==="fixed"),s=o.top+i.clientTop,a=o.left+i.clientLeft,c=Pe(i)?Jn(i):{x:1,y:1},l=i.clientWidth*c.x,f=i.clientHeight*c.y,d=a*c.x,g=s*c.y;return{top:g,left:d,right:d+l,bottom:g+f,x:d,y:g,width:l,height:f}}(t,n):$i(function(i){var r;let o=Qe(i),s=Xr(i),a=(r=i.ownerDocument)==null?void 0:r.body,c=Ui(o.scrollWidth,o.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),l=Ui(o.scrollHeight,o.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),f=-s.scrollLeft+el(i),d=-s.scrollTop;return be(a||o).direction==="rtl"&&(f+=Ui(o.clientWidth,a?a.clientWidth:0)-c),{width:c,height:l,x:f,y:d}}(Qe(e)))}var bh={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:i,strategy:r}=e,o=n==="clippingAncestors"?function(l,f){let d=f.get(l);if(d)return d;let g=il(l).filter(w=>Je(w)&&Ze(w)!=="body"),E=null,x=be(l).position==="fixed",T=x?ji(l):l;for(;Je(T)&&!Rs(T);){let w=be(T),C=Is(T);(x?C||E:C||w.position!=="static"||!E||!["absolute","fixed"].includes(E.position))?E=w:g=g.filter(N=>N!==T),T=ji(T)}return f.set(l,g),g}(t,this._c):[].concat(n),s=[...o,i],a=s[0],c=s.reduce((l,f)=>{let d=qc(t,f,r);return l.top=Ui(d.top,l.top),l.right=Wc(d.right,l.right),l.bottom=Wc(d.bottom,l.bottom),l.left=Ui(d.left,l.left),l},qc(t,a,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:i}=e,r=Pe(n),o=Qe(n);if(n===o)return t;let s={scrollLeft:0,scrollTop:0},a={x:1,y:1},c={x:0,y:0};if((r||!r&&i!=="fixed")&&((Ze(n)!=="body"||Kr(o))&&(s=Xr(n)),Pe(n))){let l=Fi(n);a=Jn(n),c.x=l.x+n.clientLeft,c.y=l.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+c.x,y:t.y*a.y-s.scrollTop*a.y+c.y}},isElement:Je,getDimensions:function(e){return Qc(e)},getOffsetParent:Vc,getDocumentElement:Qe,getScale:Jn,async getElementRects(e){let{reference:t,floating:n,strategy:i}=e,r=this.getOffsetParent||Vc,o=this.getDimensions;return{reference:yh(t,await r(n),i),floating:{x:0,y:0,...await o(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>be(e).direction==="rtl"};var rl=(e,t,n)=>{let i=new Map,r={platform:bh,...n},o={...r.platform,_c:i};return jc(e,t,{...r,platform:o})};var ol=`/* Floatie CSS */
#sp-floatie-container {
  display: none;
  position: absolute;
  top: 0;
  left: 0;
  background: #222222;
  color: white;
  border-radius: 4px;
  padding: 2px;
  font-size: 11px;
  font-family: sans-serif;
}

#sp-floatie-arrow {
  position: absolute;
  background: rgb(255, 34, 34);
  background: linear-gradient(
    -45deg,
    rgba(34, 34, 34, 1) 0%,
    rgba(34, 34, 34, 1) 51%,
    rgba(0, 0, 0, 0) 53%,
    rgba(0, 0, 0, 0) 80%
  );
  width: 8px;
  height: 8px;
  transform: rotate(45deg);
}

.sp-floatie-action {
  display: block;
  background-color: #222222;
  padding-top: 5px;
  padding-bottom: 5px;
  padding-left: 8px;
  padding-right: 8px;
  margin: 0 0 !important;
}

.sp-floatie-action:hover {
  background-color: #777;
}
`;var Jr=class{constructor(){this.isCopyActionEnabled=!1;this.logger=new At(this);let t=`
        <div id="sp-floatie-container">
            <div id="sp-floatie-arrow"></div>
            <div id="sp-floatie-search" class="sp-floatie-action" data-action="search">Search</div>
            <div id="sp-floatie-preview" class="sp-floatie-action" data-action="preview">Preview</div>
            <div id="sp-floatie-copy" class="sp-floatie-action" data-action="copy">Copy</div>
        </div>
        `,n=document.createRange();n.selectNode(document.getElementsByTagName("body").item(0)),this.documentFragment=n.createContextualFragment(t);let i=this.documentFragment.getElementById("sp-floatie-container"),r=this.documentFragment.getElementById("sp-floatie-search"),o=this.documentFragment.getElementById("sp-floatie-preview"),s=this.documentFragment.getElementById("sp-floatie-copy"),a=this.documentFragment.getElementById("sp-floatie-arrow");if(!i||!r||!o||!s||!a)throw new Error("Impossible error obtaining action buttons from DOM");this.container=i,this.searchButton=r,this.previewButton=o,this.copyButton=s,this.tooltipArrow=a,this.logger.debug("Initialized floatie")}startListening(){if(this.inIframe())return;let t=document.createElement("better-previews-tooltip"),n=document.createElement("style");n.textContent=ol,t.appendChild(n),t.appendChild(this.documentFragment),t.attachShadow({mode:"open"}).innerHTML="<slot></slot>",document.body.appendChild(t),window.onscroll=()=>this.hideAll(),window.onresize=()=>this.hideAll(),window.oncontextmenu=()=>this.hideAll(),document.onmouseup=i=>this.deferredMaybeShow(i),document.onkeydown=()=>this.hideAll(),this.setupLinkPreviews()}setupLinkPreviews(){let t=document.querySelectorAll("a"),n=null,i=null;t.forEach(r=>{!this.isGoodUrl(r.href)||!r.innerText.trim()||(r.addEventListener("mouseover",o=>{i&&(clearTimeout(i),i=null),n=setTimeout(()=>{Ut.get("preview-on-hover").then(s=>{s?this.sendMessage("preview",r.href):this.showActions(r.getBoundingClientRect(),o,r.href,[this.previewButton])})},500)}),r.addEventListener("mouseout",()=>{n&&(clearTimeout(n),n=null),i=setTimeout(()=>{this.hideAll()},2e3)}))})}stopListening(){document.body.removeChild(this.documentFragment),document.removeEventListener("onmouseup",()=>{}),window.removeEventListener("onscroll",()=>{}),window.removeEventListener("onresize",()=>{})}deferredMaybeShow(t){this.showTimeout=window.setTimeout(()=>this.maybeShow(t),100)}maybeShow(t){if(this.hideAll(),typeof window.getSelection>"u")return;let n=window.getSelection();if(n.isCollapsed)return;let i=n.toString().trim(),o=n.getRangeAt(0).getBoundingClientRect();this.logger.debug("Selected: ",i);let s=[];this.shouldShowPreview(t,i)?s.push(this.previewButton):this.shouldShowSearch(t,i)&&s.push(this.searchButton),this.shouldShowCopy(i)&&s.push(this.copyButton),this.showActions(o,t,i,s)}getAbsoluteUrl(t){let n=new RegExp("^(?:[a-z+]+:)?//","i"),i;try{if(n.test(t))i=new URL(t);else return null}catch{return null}return i}isGoodUrl(t){if(!t||!t.trim())return!1;let n=this.getAbsoluteUrl(t);return!(n===null||n.protocol!=="http:"&&n.protocol!=="https:"||n.hostname===window.location.hostname)}shouldShowCopy(t){return this.isCopyActionEnabled&&t.length>0}shouldShowPreview(t,n){let i=r=>{var o=r.target;do if(o.nodeName.toUpperCase()==="A"&&this.isGoodUrl(o.href))return!0;while(o=o.parentElement);return!1};return this.isGoodUrl(n)||i(t)}getPreviewUrl(t,n){let i=r=>{var o=r.target;do if(o.nodeName.toUpperCase()==="A"&&this.isGoodUrl(o.href))return o.href;while(o=o.parentElement)};return this.isGoodUrl(n)?this.getAbsoluteUrl(n)?.href:i(t)}shouldShowSearch(t,n){let i=a=>a.length>0&&a.length<100,r=a=>String(a).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),o=a=>!isNaN(Date.parse(a)),s=a=>/[a-zA-Z]/.test(a);return i(n)&&s(n)&&!r(n)&&!o(n)&&!this.shouldShowPreview(t,n)}showActions(t,n,i,r){this.hideAll(),r.length!==0&&(this.showContainer(t),r.forEach(o=>{o.style.display="inline-block",o.onclick=()=>{if(typeof window.getSelection<"u"){let s=window.getSelection();if(s.isCollapsed||(i=s.toString().trim()),o.innerText=="Preview"){let a=this.getPreviewUrl(n,i);a&&(i=a)}}this.sendMessage(o.getAttribute("data-action")||"unknown-action",i),this.hideAll()}}))}sendMessage(t,n){window.postMessage({application:mt.__package_name__,action:t,data:n},window.location.origin)}showContainer(t){this.container.style.display="block";let n=()=>new Promise(r=>{let o=Math.max(...Array.from(document.querySelectorAll("body *"),s=>parseFloat(window.getComputedStyle(s).zIndex)).filter(s=>!Number.isNaN(s)),0);r(o)});rl({getBoundingClientRect(){return{width:t.width,height:t.height,x:t.x,y:t.y,top:t.top,left:t.left,right:t.right,bottom:t.bottom}}},this.container,{placement:"top",strategy:"absolute",middleware:[Ls(12),Ds(),Os({padding:5}),Cs({element:this.tooltipArrow})]}).then(({x:r,y:o,placement:s,middlewareData:a})=>{Object.assign(this.container.style,{top:`${o}px`,left:`${r}px`});let c=a.arrow,l="bottom";switch(s.split("-")[0]){case"top":l="bottom";break;case"left":l="right";break;case"bottom":l="top";break;case"right":l="left";break}Object.assign(this.tooltipArrow.style,{left:c?.x!=null?`${c.x}px`:"",top:c?.y!=null?`${c.y}px`:"",right:"",bottom:"",[l]:"-4px"}),n().then(f=>{this.container.style.zIndex=""+(f+10),this.tooltipArrow.style.zIndex=""+(f-1)})})}hideAll(){clearTimeout(this.showTimeout),this.container.style.display="none",this.copyButton.style.display="none",this.searchButton.style.display="none",this.previewButton.style.display="none"}inIframe(){try{return window.self!==window.top}catch{return!0}}};var Ms=class{constructor(){this.floatie=new Jr;this.logger=new At(this);this.unsupportedHosts=["mail.google.com"]}async start(){if(await this.isDisabledDomain()){this.logger.debug("Better Previews is disabled on ",window.location.host);return}this.floatie.startListening(),this.inIframe()||chrome.runtime.onMessage.addListener((t,n,i)=>{this.logger.debug("Re-posting message for DOM: ",t),window.postMessage({application:mt.__package_name__,...t}),i("ok")})}stop(){this.floatie.stopListening()}async isDisabledDomain(){let t=await Ut.get("blocked-sites")??"";if(!t)return!1;let n=window.location.hostname;return t.includes(n)}inIframe(){try{return window.self!==window.top}catch{return!0}}},xh=new Ms;xh.start();var ao={};fr(ao,{afterMain:()=>fl,afterRead:()=>cl,afterWrite:()=>pl,applyStyles:()=>Zn,arrow:()=>Zr,auto:()=>Gi,basePlacements:()=>$e,beforeMain:()=>ll,beforeRead:()=>sl,beforeWrite:()=>dl,bottom:()=>dt,clippingParents:()=>ks,computeStyles:()=>ei,createPopper:()=>Qi,createPopperBase:()=>xl,createPopperLite:()=>Tl,detectOverflow:()=>Ot,end:()=>tn,eventListeners:()=>ni,flip:()=>io,hide:()=>ro,left:()=>lt,main:()=>ul,modifierPhases:()=>$s,offset:()=>oo,placements:()=>Wi,popper:()=>vn,popperGenerator:()=>Nn,popperOffsets:()=>oi,preventOverflow:()=>so,read:()=>al,reference:()=>Ps,right:()=>ut,start:()=>we,top:()=>st,variationPlacements:()=>Qr,viewport:()=>zi,write:()=>hl});var st="top",dt="bottom",ut="right",lt="left",Gi="auto",$e=[st,dt,ut,lt],we="start",tn="end",ks="clippingParents",zi="viewport",vn="popper",Ps="reference",Qr=$e.reduce(function(e,t){return e.concat([t+"-"+we,t+"-"+tn])},[]),Wi=[].concat($e,[Gi]).reduce(function(e,t){return e.concat([t,t+"-"+we,t+"-"+tn])},[]),sl="beforeRead",al="read",cl="afterRead",ll="beforeMain",ul="main",fl="afterMain",dl="beforeWrite",hl="write",pl="afterWrite",$s=[sl,al,cl,ll,ul,fl,dl,hl,pl];function vt(e){return e?(e.nodeName||"").toLowerCase():null}function nt(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Xt(e){var t=nt(e).Element;return e instanceof t||e instanceof Element}function gt(e){var t=nt(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Qn(e){if(typeof ShadowRoot>"u")return!1;var t=nt(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Th(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var i=t.styles[n]||{},r=t.attributes[n]||{},o=t.elements[n];!gt(o)||!vt(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var a=r[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function Sh(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],o=t.attributes[i]||{},s=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:n[i]),a=s.reduce(function(c,l){return c[l]="",c},{});!gt(r)||!vt(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(c){r.removeAttribute(c)}))})}}var Zn={name:"applyStyles",enabled:!0,phase:"write",fn:Th,effect:Sh,requires:["computeStyles"]};function yt(e){return e.split("-")[0]}var ue=Math.max,yn=Math.min,Be=Math.round;function ti(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Yi(){return!/^((?!chrome|android).)*safari/i.test(ti())}function Jt(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=e.getBoundingClientRect(),r=1,o=1;t&&gt(e)&&(r=e.offsetWidth>0&&Be(i.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Be(i.height)/e.offsetHeight||1);var s=Xt(e)?nt(e):window,a=s.visualViewport,c=!Yi()&&n,l=(i.left+(c&&a?a.offsetLeft:0))/r,f=(i.top+(c&&a?a.offsetTop:0))/o,d=i.width/r,g=i.height/o;return{width:d,height:g,top:f,right:l+d,bottom:f+g,left:l,x:l,y:f}}function bn(e){var t=Jt(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function Vi(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Qn(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Lt(e){return nt(e).getComputedStyle(e)}function Bs(e){return["table","td","th"].indexOf(vt(e))>=0}function wt(e){return((Xt(e)?e.ownerDocument:e.document)||window.document).documentElement}function He(e){return vt(e)==="html"?e:e.assignedSlot||e.parentNode||(Qn(e)?e.host:null)||wt(e)}function ml(e){return!gt(e)||Lt(e).position==="fixed"?null:e.offsetParent}function Ah(e){var t=/firefox/i.test(ti()),n=/Trident/i.test(ti());if(n&&gt(e)){var i=Lt(e);if(i.position==="fixed")return null}var r=He(e);for(Qn(r)&&(r=r.host);gt(r)&&["html","body"].indexOf(vt(r))<0;){var o=Lt(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function fe(e){for(var t=nt(e),n=ml(e);n&&Bs(n)&&Lt(n).position==="static";)n=ml(n);return n&&(vt(n)==="html"||vt(n)==="body"&&Lt(n).position==="static")?t:n||Ah(e)||t}function wn(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function xn(e,t,n){return ue(e,yn(t,n))}function gl(e,t,n){var i=xn(e,t,n);return i>n?n:i}function qi(){return{top:0,right:0,bottom:0,left:0}}function Ki(e){return Object.assign({},qi(),e)}function Xi(e,t){return t.reduce(function(n,i){return n[i]=e,n},{})}var Nh=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Ki(typeof t!="number"?t:Xi(t,$e))};function Ch(e){var t,n=e.state,i=e.name,r=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=yt(n.placement),c=wn(a),l=[lt,ut].indexOf(a)>=0,f=l?"height":"width";if(!(!o||!s)){var d=Nh(r.padding,n),g=bn(o),E=c==="y"?st:lt,x=c==="y"?dt:ut,T=n.rects.reference[f]+n.rects.reference[c]-s[c]-n.rects.popper[f],w=s[c]-n.rects.reference[c],C=fe(o),N=C?c==="y"?C.clientHeight||0:C.clientWidth||0:0,A=T/2-w/2,y=d[E],O=N-g[f]-d[x],L=N/2-g[f]/2+A,R=xn(y,L,O),$=c;n.modifiersData[i]=(t={},t[$]=R,t.centerOffset=R-L,t)}}function Dh(e){var t=e.state,n=e.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||!Vi(t.elements.popper,r)||(t.elements.arrow=r))}var Zr={name:"arrow",enabled:!0,phase:"main",fn:Ch,effect:Dh,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Qt(e){return e.split("-")[1]}var Lh={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Oh(e,t){var n=e.x,i=e.y,r=t.devicePixelRatio||1;return{x:Be(n*r)/r||0,y:Be(i*r)/r||0}}function _l(e){var t,n=e.popper,i=e.popperRect,r=e.placement,o=e.variation,s=e.offsets,a=e.position,c=e.gpuAcceleration,l=e.adaptive,f=e.roundOffsets,d=e.isFixed,g=s.x,E=g===void 0?0:g,x=s.y,T=x===void 0?0:x,w=typeof f=="function"?f({x:E,y:T}):{x:E,y:T};E=w.x,T=w.y;var C=s.hasOwnProperty("x"),N=s.hasOwnProperty("y"),A=lt,y=st,O=window;if(l){var L=fe(n),R="clientHeight",$="clientWidth";if(L===nt(n)&&(L=wt(n),Lt(L).position!=="static"&&a==="absolute"&&(R="scrollHeight",$="scrollWidth")),L=L,r===st||(r===lt||r===ut)&&o===tn){y=dt;var B=d&&L===O&&O.visualViewport?O.visualViewport.height:L[R];T-=B-i.height,T*=c?1:-1}if(r===lt||(r===st||r===dt)&&o===tn){A=ut;var M=d&&L===O&&O.visualViewport?O.visualViewport.width:L[$];E-=M-i.width,E*=c?1:-1}}var F=Object.assign({position:a},l&&Lh),W=f===!0?Oh({x:E,y:T},nt(n)):{x:E,y:T};if(E=W.x,T=W.y,c){var q;return Object.assign({},F,(q={},q[y]=N?"0":"",q[A]=C?"0":"",q.transform=(O.devicePixelRatio||1)<=1?"translate("+E+"px, "+T+"px)":"translate3d("+E+"px, "+T+"px, 0)",q))}return Object.assign({},F,(t={},t[y]=N?T+"px":"",t[A]=C?E+"px":"",t.transform="",t))}function Ih(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=i===void 0?!0:i,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,c=a===void 0?!0:a,l={placement:yt(t.placement),variation:Qt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,_l(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,_l(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var ei={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ih,data:{}};var to={passive:!0};function Rh(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,o=r===void 0?!0:r,s=i.resize,a=s===void 0?!0:s,c=nt(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&l.forEach(function(f){f.addEventListener("scroll",n.update,to)}),a&&c.addEventListener("resize",n.update,to),function(){o&&l.forEach(function(f){f.removeEventListener("scroll",n.update,to)}),a&&c.removeEventListener("resize",n.update,to)}}var ni={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Rh,data:{}};var Mh={left:"right",right:"left",bottom:"top",top:"bottom"};function ii(e){return e.replace(/left|right|bottom|top/g,function(t){return Mh[t]})}var kh={start:"end",end:"start"};function eo(e){return e.replace(/start|end/g,function(t){return kh[t]})}function Tn(e){var t=nt(e),n=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Sn(e){return Jt(wt(e)).left+Tn(e).scrollLeft}function Hs(e,t){var n=nt(e),i=wt(e),r=n.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,c=0;if(r){o=r.width,s=r.height;var l=Yi();(l||!l&&t==="fixed")&&(a=r.offsetLeft,c=r.offsetTop)}return{width:o,height:s,x:a+Sn(e),y:c}}function Us(e){var t,n=wt(e),i=Tn(e),r=(t=e.ownerDocument)==null?void 0:t.body,o=ue(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=ue(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+Sn(e),c=-i.scrollTop;return Lt(r||n).direction==="rtl"&&(a+=ue(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}function An(e){var t=Lt(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function no(e){return["html","body","#document"].indexOf(vt(e))>=0?e.ownerDocument.body:gt(e)&&An(e)?e:no(He(e))}function en(e,t){var n;t===void 0&&(t=[]);var i=no(e),r=i===((n=e.ownerDocument)==null?void 0:n.body),o=nt(i),s=r?[o].concat(o.visualViewport||[],An(i)?i:[]):i,a=t.concat(s);return r?a:a.concat(en(He(s)))}function ri(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ph(e,t){var n=Jt(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function El(e,t,n){return t===zi?ri(Hs(e,n)):Xt(t)?Ph(t,n):ri(Us(wt(e)))}function $h(e){var t=en(He(e)),n=["absolute","fixed"].indexOf(Lt(e).position)>=0,i=n&&gt(e)?fe(e):e;return Xt(i)?t.filter(function(r){return Xt(r)&&Vi(r,i)&&vt(r)!=="body"}):[]}function Fs(e,t,n,i){var r=t==="clippingParents"?$h(e):[].concat(t),o=[].concat(r,[n]),s=o[0],a=o.reduce(function(c,l){var f=El(e,l,i);return c.top=ue(f.top,c.top),c.right=yn(f.right,c.right),c.bottom=yn(f.bottom,c.bottom),c.left=ue(f.left,c.left),c},El(e,s,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Ji(e){var t=e.reference,n=e.element,i=e.placement,r=i?yt(i):null,o=i?Qt(i):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,c;switch(r){case st:c={x:s,y:t.y-n.height};break;case dt:c={x:s,y:t.y+t.height};break;case ut:c={x:t.x+t.width,y:a};break;case lt:c={x:t.x-n.width,y:a};break;default:c={x:t.x,y:t.y}}var l=r?wn(r):null;if(l!=null){var f=l==="y"?"height":"width";switch(o){case we:c[l]=c[l]-(t[f]/2-n[f]/2);break;case tn:c[l]=c[l]+(t[f]/2-n[f]/2);break;default:}}return c}function Ot(e,t){t===void 0&&(t={});var n=t,i=n.placement,r=i===void 0?e.placement:i,o=n.strategy,s=o===void 0?e.strategy:o,a=n.boundary,c=a===void 0?ks:a,l=n.rootBoundary,f=l===void 0?zi:l,d=n.elementContext,g=d===void 0?vn:d,E=n.altBoundary,x=E===void 0?!1:E,T=n.padding,w=T===void 0?0:T,C=Ki(typeof w!="number"?w:Xi(w,$e)),N=g===vn?Ps:vn,A=e.rects.popper,y=e.elements[x?N:g],O=Fs(Xt(y)?y:y.contextElement||wt(e.elements.popper),c,f,s),L=Jt(e.elements.reference),R=Ji({reference:L,element:A,strategy:"absolute",placement:r}),$=ri(Object.assign({},A,R)),B=g===vn?$:L,M={top:O.top-B.top+C.top,bottom:B.bottom-O.bottom+C.bottom,left:O.left-B.left+C.left,right:B.right-O.right+C.right},F=e.modifiersData.offset;if(g===vn&&F){var W=F[r];Object.keys(M).forEach(function(q){var it=[ut,dt].indexOf(q)>=0?1:-1,H=[st,dt].indexOf(q)>=0?"y":"x";M[q]+=W[H]*it})}return M}function js(e,t){t===void 0&&(t={});var n=t,i=n.placement,r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,l=c===void 0?Wi:c,f=Qt(i),d=f?a?Qr:Qr.filter(function(x){return Qt(x)===f}):$e,g=d.filter(function(x){return l.indexOf(x)>=0});g.length===0&&(g=d);var E=g.reduce(function(x,T){return x[T]=Ot(e,{placement:T,boundary:r,rootBoundary:o,padding:s})[yt(T)],x},{});return Object.keys(E).sort(function(x,T){return E[x]-E[T]})}function Bh(e){if(yt(e)===Gi)return[];var t=ii(e);return[eo(e),t,eo(t)]}function Hh(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,s=n.altAxis,a=s===void 0?!0:s,c=n.fallbackPlacements,l=n.padding,f=n.boundary,d=n.rootBoundary,g=n.altBoundary,E=n.flipVariations,x=E===void 0?!0:E,T=n.allowedAutoPlacements,w=t.options.placement,C=yt(w),N=C===w,A=c||(N||!x?[ii(w)]:Bh(w)),y=[w].concat(A).reduce(function(xt,ft){return xt.concat(yt(ft)===Gi?js(t,{placement:ft,boundary:f,rootBoundary:d,padding:l,flipVariations:x,allowedAutoPlacements:T}):ft)},[]),O=t.rects.reference,L=t.rects.popper,R=new Map,$=!0,B=y[0],M=0;M<y.length;M++){var F=y[M],W=yt(F),q=Qt(F)===we,it=[st,dt].indexOf(W)>=0,H=it?"width":"height",V=Ot(t,{placement:F,boundary:f,rootBoundary:d,altBoundary:g,padding:l}),Q=it?q?ut:lt:q?dt:st;O[H]>L[H]&&(Q=ii(Q));var at=ii(Q),rt=[];if(o&&rt.push(V[W]<=0),a&&rt.push(V[Q]<=0,V[at]<=0),rt.every(function(xt){return xt})){B=F,$=!1;break}R.set(F,rt)}if($)for(var z=x?3:1,G=function(ft){var ht=y.find(function($t){var _t=R.get($t);if(_t)return _t.slice(0,ft).every(function(jt){return jt})});if(ht)return B=ht,"break"},bt=z;bt>0;bt--){var It=G(bt);if(It==="break")break}t.placement!==B&&(t.modifiersData[i]._skip=!0,t.placement=B,t.reset=!0)}}var io={name:"flip",enabled:!0,phase:"main",fn:Hh,requiresIfExists:["offset"],data:{_skip:!1}};function vl(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function yl(e){return[st,ut,dt,lt].some(function(t){return e[t]>=0})}function Uh(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,s=Ot(t,{elementContext:"reference"}),a=Ot(t,{altBoundary:!0}),c=vl(s,i),l=vl(a,r,o),f=yl(c),d=yl(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:f,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}var ro={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Uh};function Fh(e,t,n){var i=yt(e),r=[lt,st].indexOf(i)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[lt,ut].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}function jh(e){var t=e.state,n=e.options,i=e.name,r=n.offset,o=r===void 0?[0,0]:r,s=Wi.reduce(function(f,d){return f[d]=Fh(d,t.rects,o),f},{}),a=s[t.placement],c=a.x,l=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[i]=s}var oo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:jh};function Gh(e){var t=e.state,n=e.name;t.modifiersData[n]=Ji({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var oi={name:"popperOffsets",enabled:!0,phase:"read",fn:Gh,data:{}};function Gs(e){return e==="x"?"y":"x"}function zh(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=r===void 0?!0:r,s=n.altAxis,a=s===void 0?!1:s,c=n.boundary,l=n.rootBoundary,f=n.altBoundary,d=n.padding,g=n.tether,E=g===void 0?!0:g,x=n.tetherOffset,T=x===void 0?0:x,w=Ot(t,{boundary:c,rootBoundary:l,padding:d,altBoundary:f}),C=yt(t.placement),N=Qt(t.placement),A=!N,y=wn(C),O=Gs(y),L=t.modifiersData.popperOffsets,R=t.rects.reference,$=t.rects.popper,B=typeof T=="function"?T(Object.assign({},t.rects,{placement:t.placement})):T,M=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),F=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,W={x:0,y:0};if(!!L){if(o){var q,it=y==="y"?st:lt,H=y==="y"?dt:ut,V=y==="y"?"height":"width",Q=L[y],at=Q+w[it],rt=Q-w[H],z=E?-$[V]/2:0,G=N===we?R[V]:$[V],bt=N===we?-$[V]:-R[V],It=t.elements.arrow,xt=E&&It?bn(It):{width:0,height:0},ft=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:qi(),ht=ft[it],$t=ft[H],_t=xn(0,R[V],xt[V]),jt=A?R[V]/2-z-_t-ht-M.mainAxis:G-_t-ht-M.mainAxis,Rt=A?-R[V]/2+z+_t+$t+M.mainAxis:bt+_t+$t+M.mainAxis,X=t.elements.arrow&&fe(t.elements.arrow),J=X?y==="y"?X.clientTop||0:X.clientLeft||0:0,Et=(q=F?.[y])!=null?q:0,Ct=Q+jt-Et-J,Tt=Q+Rt-Et,Z=xn(E?yn(at,Ct):at,Q,E?ue(rt,Tt):rt);L[y]=Z,W[y]=Z-Q}if(a){var Gt,de=y==="x"?st:lt,sr=y==="x"?dt:ut,K=L[O],dn=O==="y"?"height":"width",_i=K+w[de],Ei=K-w[sr],Ge=[st,lt].indexOf(C)!==-1,kn=(Gt=F?.[O])!=null?Gt:0,ar=Ge?_i:K-R[dn]-$[dn]-kn+M.altAxis,cr=Ge?K+R[dn]+$[dn]-kn-M.altAxis:Ei,lr=E&&Ge?gl(ar,K,cr):xn(E?ar:_i,K,E?cr:Ei);L[O]=lr,W[O]=lr-K}t.modifiersData[i]=W}}var so={name:"preventOverflow",enabled:!0,phase:"main",fn:zh,requiresIfExists:["offset"]};function zs(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Ws(e){return e===nt(e)||!gt(e)?Tn(e):zs(e)}function Wh(e){var t=e.getBoundingClientRect(),n=Be(t.width)/e.offsetWidth||1,i=Be(t.height)/e.offsetHeight||1;return n!==1||i!==1}function Ys(e,t,n){n===void 0&&(n=!1);var i=gt(t),r=gt(t)&&Wh(t),o=wt(t),s=Jt(e,r,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(i||!i&&!n)&&((vt(t)!=="body"||An(o))&&(a=Ws(t)),gt(t)?(c=Jt(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):o&&(c.x=Sn(o))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function Yh(e){var t=new Map,n=new Set,i=[];e.forEach(function(o){t.set(o.name,o)});function r(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var c=t.get(a);c&&r(c)}}),i.push(o)}return e.forEach(function(o){n.has(o.name)||r(o)}),i}function Vs(e){var t=Yh(e);return $s.reduce(function(n,i){return n.concat(t.filter(function(r){return r.phase===i}))},[])}function qs(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Ks(e){var t=e.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(t).map(function(n){return t[n]})}var bl={placement:"bottom",modifiers:[],strategy:"absolute"};function wl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Nn(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,i=n===void 0?[]:n,r=t.defaultOptions,o=r===void 0?bl:r;return function(a,c,l){l===void 0&&(l=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},bl,o),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},d=[],g=!1,E={state:f,setOptions:function(C){var N=typeof C=="function"?C(f.options):C;T(),f.options=Object.assign({},o,f.options,N),f.scrollParents={reference:Xt(a)?en(a):a.contextElement?en(a.contextElement):[],popper:en(c)};var A=Vs(Ks([].concat(i,f.options.modifiers)));return f.orderedModifiers=A.filter(function(y){return y.enabled}),x(),E.update()},forceUpdate:function(){if(!g){var C=f.elements,N=C.reference,A=C.popper;if(!!wl(N,A)){f.rects={reference:Ys(N,fe(A),f.options.strategy==="fixed"),popper:bn(A)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(M){return f.modifiersData[M.name]=Object.assign({},M.data)});for(var y=0;y<f.orderedModifiers.length;y++){if(f.reset===!0){f.reset=!1,y=-1;continue}var O=f.orderedModifiers[y],L=O.fn,R=O.options,$=R===void 0?{}:R,B=O.name;typeof L=="function"&&(f=L({state:f,options:$,name:B,instance:E})||f)}}}},update:qs(function(){return new Promise(function(w){E.forceUpdate(),w(f)})}),destroy:function(){T(),g=!0}};if(!wl(a,c))return E;E.setOptions(l).then(function(w){!g&&l.onFirstUpdate&&l.onFirstUpdate(w)});function x(){f.orderedModifiers.forEach(function(w){var C=w.name,N=w.options,A=N===void 0?{}:N,y=w.effect;if(typeof y=="function"){var O=y({state:f,name:C,instance:E,options:A}),L=function(){};d.push(O||L)}})}function T(){d.forEach(function(w){return w()}),d=[]}return E}}var xl=Nn();var Vh=[ni,oi,ei,Zn],Tl=Nn({defaultModifiers:Vh});var qh=[ni,oi,ei,Zn,oo,io,so,Zr,ro],Qi=Nn({defaultModifiers:qh});var nn=new Map,Xs={set(e,t,n){nn.has(e)||nn.set(e,new Map);let i=nn.get(e);if(!i.has(t)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(t,n)},get(e,t){return nn.has(e)&&nn.get(e).get(t)||null},remove(e,t){if(!nn.has(e))return;let n=nn.get(e);n.delete(t),n.size===0&&nn.delete(e)}},Kh=1e6,Xh=1e3,fa="transitionend",Zl=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(t,n)=>`#${CSS.escape(n)}`)),e),Jh=e=>e==null?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),Qh=e=>{do e+=Math.floor(Math.random()*Kh);while(document.getElementById(e));return e},Zh=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e),i=Number.parseFloat(t),r=Number.parseFloat(n);return!i&&!r?0:(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*Xh)},tu=e=>{e.dispatchEvent(new Event(fa))},Ue=e=>!e||typeof e!="object"?!1:(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u"),rn=e=>Ue(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(Zl(e)):null,mi=e=>{if(!Ue(e)||e.getClientRects().length===0)return!1;let t=getComputedStyle(e).getPropertyValue("visibility")==="visible",n=e.closest("details:not([open])");if(!n)return t;if(n!==e){let i=e.closest("summary");if(i&&i.parentNode!==n||i===null)return!1}return t},on=e=>!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")?!0:typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false",eu=e=>{if(!document.documentElement.attachShadow)return null;if(typeof e.getRootNode=="function"){let t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?eu(e.parentNode):null},_o=()=>{},ir=e=>{e.offsetHeight},nu=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Js=[],tp=e=>{document.readyState==="loading"?(Js.length||document.addEventListener("DOMContentLoaded",()=>{for(let t of Js)t()}),Js.push(e)):e()},te=()=>document.documentElement.dir==="rtl",ne=e=>{tp(()=>{let t=nu();if(t){let n=e.NAME,i=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=i,e.jQueryInterface)}})},Pt=(e,t=[],n=e)=>typeof e=="function"?e(...t):n,iu=(e,t,n=!0)=>{if(!n){Pt(e);return}let i=5,r=Zh(t)+i,o=!1,s=({target:a})=>{a===t&&(o=!0,t.removeEventListener(fa,s),Pt(e))};t.addEventListener(fa,s),setTimeout(()=>{o||tu(t)},r)},ma=(e,t,n,i)=>{let r=e.length,o=e.indexOf(t);return o===-1?!n&&i?e[r-1]:e[0]:(o+=n?1:-1,i&&(o=(o+r)%r),e[Math.max(0,Math.min(o,r-1))])},ep=/[^.]*(?=\..*)\.|.*/,np=/\..*/,ip=/::\d+$/,Qs={},Sl=1,ru={mouseenter:"mouseover",mouseleave:"mouseout"},rp=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ou(e,t){return t&&`${t}::${Sl++}`||e.uidEvent||Sl++}function su(e){let t=ou(e);return e.uidEvent=t,Qs[t]=Qs[t]||{},Qs[t]}function op(e,t){return function n(i){return ga(i,{delegateTarget:e}),n.oneOff&&b.off(e,i.type,t),t.apply(e,[i])}}function sp(e,t,n){return function i(r){let o=e.querySelectorAll(t);for(let{target:s}=r;s&&s!==this;s=s.parentNode)for(let a of o)if(a===s)return ga(r,{delegateTarget:s}),i.oneOff&&b.off(e,r.type,t,n),n.apply(s,[r])}}function au(e,t,n=null){return Object.values(e).find(i=>i.callable===t&&i.delegationSelector===n)}function cu(e,t,n){let i=typeof t=="string",r=i?n:t||n,o=lu(e);return rp.has(o)||(o=e),[i,r,o]}function Al(e,t,n,i,r){if(typeof t!="string"||!e)return;let[o,s,a]=cu(t,n,i);t in ru&&(s=(x=>function(T){if(!T.relatedTarget||T.relatedTarget!==T.delegateTarget&&!T.delegateTarget.contains(T.relatedTarget))return x.call(this,T)})(s));let c=su(e),l=c[a]||(c[a]={}),f=au(l,s,o?n:null);if(f){f.oneOff=f.oneOff&&r;return}let d=ou(s,t.replace(ep,"")),g=o?sp(e,n,s):op(e,s);g.delegationSelector=o?n:null,g.callable=s,g.oneOff=r,g.uidEvent=d,l[d]=g,e.addEventListener(a,g,o)}function da(e,t,n,i,r){let o=au(t[n],i,r);!o||(e.removeEventListener(n,o,Boolean(r)),delete t[n][o.uidEvent])}function ap(e,t,n,i){let r=t[n]||{};for(let[o,s]of Object.entries(r))o.includes(i)&&da(e,t,n,s.callable,s.delegationSelector)}function lu(e){return e=e.replace(np,""),ru[e]||e}var b={on(e,t,n,i){Al(e,t,n,i,!1)},one(e,t,n,i){Al(e,t,n,i,!0)},off(e,t,n,i){if(typeof t!="string"||!e)return;let[r,o,s]=cu(t,n,i),a=s!==t,c=su(e),l=c[s]||{},f=t.startsWith(".");if(typeof o<"u"){if(!Object.keys(l).length)return;da(e,c,s,o,r?n:null);return}if(f)for(let d of Object.keys(c))ap(e,c,d,t.slice(1));for(let[d,g]of Object.entries(l)){let E=d.replace(ip,"");(!a||t.includes(E))&&da(e,c,s,g.callable,g.delegationSelector)}},trigger(e,t,n){if(typeof t!="string"||!e)return null;let i=nu(),r=lu(t),o=t!==r,s=null,a=!0,c=!0,l=!1;o&&i&&(s=i.Event(t,n),i(e).trigger(s),a=!s.isPropagationStopped(),c=!s.isImmediatePropagationStopped(),l=s.isDefaultPrevented());let f=ga(new Event(t,{bubbles:a,cancelable:!0}),n);return l&&f.preventDefault(),c&&e.dispatchEvent(f),f.defaultPrevented&&s&&s.preventDefault(),f}};function ga(e,t={}){for(let[n,i]of Object.entries(t))try{e[n]=i}catch{Object.defineProperty(e,n,{configurable:!0,get(){return i}})}return e}function Nl(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function Zs(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}var Fe={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${Zs(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${Zs(t)}`)},getDataAttributes(e){if(!e)return{};let t={},n=Object.keys(e.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(let i of n){let r=i.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),t[r]=Nl(e.dataset[i])}return t},getDataAttribute(e,t){return Nl(e.getAttribute(`data-bs-${Zs(t)}`))}},Ln=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,n){let i=Ue(n)?Fe.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof i=="object"?i:{},...Ue(n)?Fe.getDataAttributes(n):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,n=this.constructor.DefaultType){for(let[i,r]of Object.entries(n)){let o=t[i],s=Ue(o)?"element":Jh(o);if(!new RegExp(r).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${s}" but expected type "${r}".`)}}},cp="5.3.2",Ft=class extends Ln{constructor(t,n){super(),t=rn(t),t&&(this._element=t,this._config=this._getConfig(n),Xs.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Xs.remove(this._element,this.constructor.DATA_KEY),b.off(this._element,this.constructor.EVENT_KEY);for(let t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,n,i=!0){iu(t,n,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Xs.get(rn(t),this.DATA_KEY)}static getOrCreateInstance(t,n={}){return this.getInstance(t)||new this(t,typeof n=="object"?n:null)}static get VERSION(){return cp}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}},ta=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&n!=="#"?Zl(n.trim()):null}return t},P={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(n=>n.matches(t))},parents(e,t){let n=[],i=e.parentNode.closest(t);for(;i;)n.push(i),i=i.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){let t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(n=>!on(n)&&mi(n))},getSelectorFromElement(e){let t=ta(e);return t&&P.findOne(t)?t:null},getElementFromSelector(e){let t=ta(e);return t?P.findOne(t):null},getMultipleElementsFromSelector(e){let t=ta(e);return t?P.find(t):[]}},bo=(e,t="hide")=>{let n=`click.dismiss${e.EVENT_KEY}`,i=e.NAME;b.on(document,n,`[data-bs-dismiss="${i}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),on(this))return;let o=P.getElementFromSelector(this)||this.closest(`.${i}`);e.getOrCreateInstance(o)[t]()})},lp="alert",up="bs.alert",uu=`.${up}`,fp=`close${uu}`,dp=`closed${uu}`,hp="fade",pp="show",fi=class extends Ft{static get NAME(){return lp}close(){if(b.trigger(this._element,fp).defaultPrevented)return;this._element.classList.remove(pp);let n=this._element.classList.contains(hp);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),b.trigger(this._element,dp),this.dispose()}static jQueryInterface(t){return this.each(function(){let n=fi.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}};bo(fi,"close");ne(fi);var mp="button",gp="bs.button",_p=`.${gp}`,Ep=".data-api",vp="active",Cl='[data-bs-toggle="button"]',yp=`click${_p}${Ep}`,di=class extends Ft{static get NAME(){return mp}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(vp))}static jQueryInterface(t){return this.each(function(){let n=di.getOrCreateInstance(this);t==="toggle"&&n[t]()})}};b.on(document,yp,Cl,e=>{e.preventDefault();let t=e.target.closest(Cl);di.getOrCreateInstance(t).toggle()});ne(di);var bp="swipe",gi=".bs.swipe",wp=`touchstart${gi}`,xp=`touchmove${gi}`,Tp=`touchend${gi}`,Sp=`pointerdown${gi}`,Ap=`pointerup${gi}`,Np="touch",Cp="pen",Dp="pointer-event",Lp=40,Op={endCallback:null,leftCallback:null,rightCallback:null},Ip={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"},hi=class extends Ln{constructor(t,n){super(),this._element=t,!(!t||!hi.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Op}static get DefaultType(){return Ip}static get NAME(){return bp}dispose(){b.off(this._element,gi)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Pt(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){let t=Math.abs(this._deltaX);if(t<=Lp)return;let n=t/this._deltaX;this._deltaX=0,n&&Pt(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(b.on(this._element,Sp,t=>this._start(t)),b.on(this._element,Ap,t=>this._end(t)),this._element.classList.add(Dp)):(b.on(this._element,wp,t=>this._start(t)),b.on(this._element,xp,t=>this._move(t)),b.on(this._element,Tp,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===Cp||t.pointerType===Np)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}},Rp="carousel",Mp="bs.carousel",un=`.${Mp}`,fu=".data-api",kp="ArrowLeft",Pp="ArrowRight",$p=500,Zi="next",si="prev",ci="left",mo="right",Bp=`slide${un}`,ea=`slid${un}`,Hp=`keydown${un}`,Up=`mouseenter${un}`,Fp=`mouseleave${un}`,jp=`dragstart${un}`,Gp=`load${un}${fu}`,zp=`click${un}${fu}`,du="carousel",co="active",Wp="slide",Yp="carousel-item-end",Vp="carousel-item-start",qp="carousel-item-next",Kp="carousel-item-prev",hu=".active",pu=".carousel-item",Xp=hu+pu,Jp=".carousel-item img",Qp=".carousel-indicators",Zp="[data-bs-slide], [data-bs-slide-to]",tm='[data-bs-ride="carousel"]',em={[kp]:mo,[Pp]:ci},nm={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},im={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"},On=class extends Ft{constructor(t,n){super(t,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=P.findOne(Qp,this._element),this._addEventListeners(),this._config.ride===du&&this.cycle()}static get Default(){return nm}static get DefaultType(){return im}static get NAME(){return Rp}next(){this._slide(Zi)}nextWhenVisible(){!document.hidden&&mi(this._element)&&this.next()}prev(){this._slide(si)}pause(){this._isSliding&&tu(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(!!this._config.ride){if(this._isSliding){b.one(this._element,ea,()=>this.cycle());return}this.cycle()}}to(t){let n=this._getItems();if(t>n.length-1||t<0)return;if(this._isSliding){b.one(this._element,ea,()=>this.to(t));return}let i=this._getItemIndex(this._getActive());if(i===t)return;let r=t>i?Zi:si;this._slide(r,n[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&b.on(this._element,Hp,t=>this._keydown(t)),this._config.pause==="hover"&&(b.on(this._element,Up,()=>this.pause()),b.on(this._element,Fp,()=>this._maybeEnableCycle())),this._config.touch&&hi.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let i of P.find(Jp,this._element))b.on(i,jp,r=>r.preventDefault());let n={leftCallback:()=>this._slide(this._directionToOrder(ci)),rightCallback:()=>this._slide(this._directionToOrder(mo)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),$p+this._config.interval))}};this._swipeHelper=new hi(this._element,n)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;let n=em[t.key];n&&(t.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;let n=P.findOne(hu,this._indicatorsElement);n.classList.remove(co),n.removeAttribute("aria-current");let i=P.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(co),i.setAttribute("aria-current","true"))}_updateInterval(){let t=this._activeElement||this._getActive();if(!t)return;let n=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(t,n=null){if(this._isSliding)return;let i=this._getActive(),r=t===Zi,o=n||ma(this._getItems(),i,r,this._config.wrap);if(o===i)return;let s=this._getItemIndex(o),a=E=>b.trigger(this._element,E,{relatedTarget:o,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:s});if(a(Bp).defaultPrevented||!i||!o)return;let l=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=o;let f=r?Vp:Yp,d=r?qp:Kp;o.classList.add(d),ir(o),i.classList.add(f),o.classList.add(f);let g=()=>{o.classList.remove(f,d),o.classList.add(co),i.classList.remove(co,d,f),this._isSliding=!1,a(ea)};this._queueCallback(g,i,this._isAnimated()),l&&this.cycle()}_isAnimated(){return this._element.classList.contains(Wp)}_getActive(){return P.findOne(Xp,this._element)}_getItems(){return P.find(pu,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return te()?t===ci?si:Zi:t===ci?Zi:si}_orderToDirection(t){return te()?t===si?ci:mo:t===si?mo:ci}static jQueryInterface(t){return this.each(function(){let n=On.getOrCreateInstance(this,t);if(typeof t=="number"){n.to(t);return}if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}};b.on(document,zp,Zp,function(e){let t=P.getElementFromSelector(this);if(!t||!t.classList.contains(du))return;e.preventDefault();let n=On.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");if(i){n.to(i),n._maybeEnableCycle();return}if(Fe.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});b.on(window,Gp,()=>{let e=P.find(tm);for(let t of e)On.getOrCreateInstance(t)});ne(On);var rm="collapse",om="bs.collapse",rr=`.${om}`,sm=".data-api",am=`show${rr}`,cm=`shown${rr}`,lm=`hide${rr}`,um=`hidden${rr}`,fm=`click${rr}${sm}`,na="show",ui="collapse",lo="collapsing",dm="collapsed",hm=`:scope .${ui} .${ui}`,pm="collapse-horizontal",mm="width",gm="height",_m=".collapse.show, .collapse.collapsing",ha='[data-bs-toggle="collapse"]',Em={parent:null,toggle:!0},vm={parent:"(null|element)",toggle:"boolean"},In=class extends Ft{constructor(t,n){super(t,n),this._isTransitioning=!1,this._triggerArray=[];let i=P.find(ha);for(let r of i){let o=P.getSelectorFromElement(r),s=P.find(o).filter(a=>a===this._element);o!==null&&s.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Em}static get DefaultType(){return vm}static get NAME(){return rm}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(_m).filter(a=>a!==this._element).map(a=>In.getOrCreateInstance(a,{toggle:!1}))),t.length&&t[0]._isTransitioning||b.trigger(this._element,am).defaultPrevented)return;for(let a of t)a.hide();let i=this._getDimension();this._element.classList.remove(ui),this._element.classList.add(lo),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let r=()=>{this._isTransitioning=!1,this._element.classList.remove(lo),this._element.classList.add(ui,na),this._element.style[i]="",b.trigger(this._element,cm)},s=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[i]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown()||b.trigger(this._element,lm).defaultPrevented)return;let n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,ir(this._element),this._element.classList.add(lo),this._element.classList.remove(ui,na);for(let r of this._triggerArray){let o=P.getElementFromSelector(r);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;let i=()=>{this._isTransitioning=!1,this._element.classList.remove(lo),this._element.classList.add(ui),b.trigger(this._element,um)};this._element.style[n]="",this._queueCallback(i,this._element,!0)}_isShown(t=this._element){return t.classList.contains(na)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=rn(t.parent),t}_getDimension(){return this._element.classList.contains(pm)?mm:gm}_initializeChildren(){if(!this._config.parent)return;let t=this._getFirstLevelChildren(ha);for(let n of t){let i=P.getElementFromSelector(n);i&&this._addAriaAndCollapsedClass([n],this._isShown(i))}}_getFirstLevelChildren(t){let n=P.find(hm,this._config.parent);return P.find(t,this._config.parent).filter(i=>!n.includes(i))}_addAriaAndCollapsedClass(t,n){if(!!t.length)for(let i of t)i.classList.toggle(dm,!n),i.setAttribute("aria-expanded",n)}static jQueryInterface(t){let n={};return typeof t=="string"&&/show|hide/.test(t)&&(n.toggle=!1),this.each(function(){let i=In.getOrCreateInstance(this,n);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t]()}})}};b.on(document,fm,ha,function(e){(e.target.tagName==="A"||e.delegateTarget&&e.delegateTarget.tagName==="A")&&e.preventDefault();for(let t of P.getMultipleElementsFromSelector(this))In.getOrCreateInstance(t,{toggle:!1}).toggle()});ne(In);var Dl="dropdown",ym="bs.dropdown",Rn=`.${ym}`,_a=".data-api",bm="Escape",Ll="Tab",wm="ArrowUp",Ol="ArrowDown",xm=2,Tm=`hide${Rn}`,Sm=`hidden${Rn}`,Am=`show${Rn}`,Nm=`shown${Rn}`,mu=`click${Rn}${_a}`,gu=`keydown${Rn}${_a}`,Cm=`keyup${Rn}${_a}`,li="show",Dm="dropup",Lm="dropend",Om="dropstart",Im="dropup-center",Rm="dropdown-center",Cn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Mm=`${Cn}.${li}`,go=".dropdown-menu",km=".navbar",Pm=".navbar-nav",$m=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Bm=te()?"top-end":"top-start",Hm=te()?"top-start":"top-end",Um=te()?"bottom-end":"bottom-start",Fm=te()?"bottom-start":"bottom-end",jm=te()?"left-start":"right-start",Gm=te()?"right-start":"left-start",zm="top",Wm="bottom",Ym={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Vm={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"},Zt=class extends Ft{constructor(t,n){super(t,n),this._popper=null,this._parent=this._element.parentNode,this._menu=P.next(this._element,go)[0]||P.prev(this._element,go)[0]||P.findOne(go,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Ym}static get DefaultType(){return Vm}static get NAME(){return Dl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(on(this._element)||this._isShown())return;let t={relatedTarget:this._element};if(!b.trigger(this._element,Am,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Pm))for(let i of[].concat(...document.body.children))b.on(i,"mouseover",_o);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(li),this._element.classList.add(li),b.trigger(this._element,Nm,t)}}hide(){if(on(this._element)||!this._isShown())return;let t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!b.trigger(this._element,Tm,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(let i of[].concat(...document.body.children))b.off(i,"mouseover",_o);this._popper&&this._popper.destroy(),this._menu.classList.remove(li),this._element.classList.remove(li),this._element.setAttribute("aria-expanded","false"),Fe.removeDataAttribute(this._menu,"popper"),b.trigger(this._element,Sm,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!Ue(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${Dl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof ao>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:Ue(this._config.reference)?t=rn(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);let n=this._getPopperConfig();this._popper=Qi(t,this._menu,n)}_isShown(){return this._menu.classList.contains(li)}_getPlacement(){let t=this._parent;if(t.classList.contains(Lm))return jm;if(t.classList.contains(Om))return Gm;if(t.classList.contains(Im))return zm;if(t.classList.contains(Rm))return Wm;let n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(Dm)?n?Hm:Bm:n?Fm:Um}_detectNavbar(){return this._element.closest(km)!==null}_getOffset(){let{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_getPopperConfig(){let t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Fe.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...Pt(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:n}){let i=P.find($m,this._menu).filter(r=>mi(r));!i.length||ma(i,n,t===Ol,!i.includes(n)).focus()}static jQueryInterface(t){return this.each(function(){let n=Zt.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}static clearMenus(t){if(t.button===xm||t.type==="keyup"&&t.key!==Ll)return;let n=P.find(Mm);for(let i of n){let r=Zt.getInstance(i);if(!r||r._config.autoClose===!1)continue;let o=t.composedPath(),s=o.includes(r._menu);if(o.includes(r._element)||r._config.autoClose==="inside"&&!s||r._config.autoClose==="outside"&&s||r._menu.contains(t.target)&&(t.type==="keyup"&&t.key===Ll||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;let a={relatedTarget:r._element};t.type==="click"&&(a.clickEvent=t),r._completeHide(a)}}static dataApiKeydownHandler(t){let n=/input|textarea/i.test(t.target.tagName),i=t.key===bm,r=[wm,Ol].includes(t.key);if(!r&&!i||n&&!i)return;t.preventDefault();let o=this.matches(Cn)?this:P.prev(this,Cn)[0]||P.next(this,Cn)[0]||P.findOne(Cn,t.delegateTarget.parentNode),s=Zt.getOrCreateInstance(o);if(r){t.stopPropagation(),s.show(),s._selectMenuItem(t);return}s._isShown()&&(t.stopPropagation(),s.hide(),o.focus())}};b.on(document,gu,Cn,Zt.dataApiKeydownHandler);b.on(document,gu,go,Zt.dataApiKeydownHandler);b.on(document,mu,Zt.clearMenus);b.on(document,Cm,Zt.clearMenus);b.on(document,mu,Cn,function(e){e.preventDefault(),Zt.getOrCreateInstance(this).toggle()});ne(Zt);var _u="backdrop",qm="fade",Il="show",Rl=`mousedown.bs.${_u}`,Km={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Xm={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"},Eo=class extends Ln{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Km}static get DefaultType(){return Xm}static get NAME(){return _u}show(t){if(!this._config.isVisible){Pt(t);return}this._append();let n=this._getElement();this._config.isAnimated&&ir(n),n.classList.add(Il),this._emulateAnimation(()=>{Pt(t)})}hide(t){if(!this._config.isVisible){Pt(t);return}this._getElement().classList.remove(Il),this._emulateAnimation(()=>{this.dispose(),Pt(t)})}dispose(){!this._isAppended||(b.off(this._element,Rl),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(qm),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=rn(t.rootElement),t}_append(){if(this._isAppended)return;let t=this._getElement();this._config.rootElement.append(t),b.on(t,Rl,()=>{Pt(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){iu(t,this._getElement(),this._config.isAnimated)}},Jm="focustrap",Qm="bs.focustrap",vo=`.${Qm}`,Zm=`focusin${vo}`,tg=`keydown.tab${vo}`,eg="Tab",ng="forward",Ml="backward",ig={autofocus:!0,trapElement:null},rg={autofocus:"boolean",trapElement:"element"},yo=class extends Ln{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ig}static get DefaultType(){return rg}static get NAME(){return Jm}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),b.off(document,vo),b.on(document,Zm,t=>this._handleFocusin(t)),b.on(document,tg,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,b.off(document,vo))}_handleFocusin(t){let{trapElement:n}=this._config;if(t.target===document||t.target===n||n.contains(t.target))return;let i=P.focusableChildren(n);i.length===0?n.focus():this._lastTabNavDirection===Ml?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){t.key===eg&&(this._lastTabNavDirection=t.shiftKey?Ml:ng)}},kl=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Pl=".sticky-top",uo="padding-right",$l="margin-right",er=class{constructor(){this._element=document.body}getWidth(){let t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){let t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,uo,n=>n+t),this._setElementAttributes(kl,uo,n=>n+t),this._setElementAttributes(Pl,$l,n=>n-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,uo),this._resetElementAttributes(kl,uo),this._resetElementAttributes(Pl,$l)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,n,i){let r=this.getWidth(),o=s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+r)return;this._saveInitialAttribute(s,n);let a=window.getComputedStyle(s).getPropertyValue(n);s.style.setProperty(n,`${i(Number.parseFloat(a))}px`)};this._applyManipulationCallback(t,o)}_saveInitialAttribute(t,n){let i=t.style.getPropertyValue(n);i&&Fe.setDataAttribute(t,n,i)}_resetElementAttributes(t,n){let i=r=>{let o=Fe.getDataAttribute(r,n);if(o===null){r.style.removeProperty(n);return}Fe.removeDataAttribute(r,n),r.style.setProperty(n,o)};this._applyManipulationCallback(t,i)}_applyManipulationCallback(t,n){if(Ue(t)){n(t);return}for(let i of P.find(t,this._element))n(i)}},og="modal",sg="bs.modal",ee=`.${sg}`,ag=".data-api",cg="Escape",lg=`hide${ee}`,ug=`hidePrevented${ee}`,Eu=`hidden${ee}`,vu=`show${ee}`,fg=`shown${ee}`,dg=`resize${ee}`,hg=`click.dismiss${ee}`,pg=`mousedown.dismiss${ee}`,mg=`keydown.dismiss${ee}`,gg=`click${ee}${ag}`,Bl="modal-open",_g="fade",Hl="show",ia="modal-static",Eg=".modal.show",vg=".modal-dialog",yg=".modal-body",bg='[data-bs-toggle="modal"]',wg={backdrop:!0,focus:!0,keyboard:!0},xg={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},sn=class extends Ft{constructor(t,n){super(t,n),this._dialog=P.findOne(vg,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new er,this._addEventListeners()}static get Default(){return wg}static get DefaultType(){return xg}static get NAME(){return og}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||b.trigger(this._element,vu,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Bl),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||b.trigger(this._element,lg).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Hl),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){b.off(window,ee),b.off(this._dialog,ee),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Eo({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new yo({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let n=P.findOne(yg,this._dialog);n&&(n.scrollTop=0),ir(this._element),this._element.classList.add(Hl);let i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,b.trigger(this._element,fg,{relatedTarget:t})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){b.on(this._element,mg,t=>{if(t.key===cg){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),b.on(window,dg,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),b.on(this._element,pg,t=>{b.one(this._element,hg,n=>{if(!(this._element!==t.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Bl),this._resetAdjustments(),this._scrollBar.reset(),b.trigger(this._element,Eu)})}_isAnimated(){return this._element.classList.contains(_g)}_triggerBackdropTransition(){if(b.trigger(this._element,ug).defaultPrevented)return;let n=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(ia)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(ia),this._queueCallback(()=>{this._element.classList.remove(ia),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),i=n>0;if(i&&!t){let r=te()?"paddingLeft":"paddingRight";this._element.style[r]=`${n}px`}if(!i&&t){let r=te()?"paddingRight":"paddingLeft";this._element.style[r]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,n){return this.each(function(){let i=sn.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t](n)}})}};b.on(document,gg,bg,function(e){let t=P.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),b.one(t,vu,r=>{r.defaultPrevented||b.one(t,Eu,()=>{mi(this)&&this.focus()})});let n=P.findOne(Eg);n&&sn.getInstance(n).hide(),sn.getOrCreateInstance(t).toggle(this)});bo(sn);ne(sn);var Tg="offcanvas",Sg="bs.offcanvas",je=`.${Sg}`,yu=".data-api",Ag=`load${je}${yu}`,Ng="Escape",Ul="show",Fl="showing",jl="hiding",Cg="offcanvas-backdrop",bu=".offcanvas.show",Dg=`show${je}`,Lg=`shown${je}`,Og=`hide${je}`,Gl=`hidePrevented${je}`,wu=`hidden${je}`,Ig=`resize${je}`,Rg=`click${je}${yu}`,Mg=`keydown.dismiss${je}`,kg='[data-bs-toggle="offcanvas"]',Pg={backdrop:!0,keyboard:!0,scroll:!1},$g={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"},xe=class extends Ft{constructor(t,n){super(t,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Pg}static get DefaultType(){return $g}static get NAME(){return Tg}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||b.trigger(this._element,Dg,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new er().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Fl);let i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Ul),this._element.classList.remove(Fl),b.trigger(this._element,Lg,{relatedTarget:t})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||b.trigger(this._element,Og).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(jl),this._backdrop.hide();let n=()=>{this._element.classList.remove(Ul,jl),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new er().reset(),b.trigger(this._element,wu)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let t=()=>{if(this._config.backdrop==="static"){b.trigger(this._element,Gl);return}this.hide()},n=Boolean(this._config.backdrop);return new Eo({className:Cg,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?t:null})}_initializeFocusTrap(){return new yo({trapElement:this._element})}_addEventListeners(){b.on(this._element,Mg,t=>{if(t.key===Ng){if(this._config.keyboard){this.hide();return}b.trigger(this._element,Gl)}})}static jQueryInterface(t){return this.each(function(){let n=xe.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}};b.on(document,Rg,kg,function(e){let t=P.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),on(this))return;b.one(t,wu,()=>{mi(this)&&this.focus()});let n=P.findOne(bu);n&&n!==t&&xe.getInstance(n).hide(),xe.getOrCreateInstance(t).toggle(this)});b.on(window,Ag,()=>{for(let e of P.find(bu))xe.getOrCreateInstance(e).show()});b.on(window,Ig,()=>{for(let e of P.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(e).position!=="fixed"&&xe.getOrCreateInstance(e).hide()});bo(xe);ne(xe);var Bg=/^aria-[\w-]*$/i,xu={"*":["class","dir","id","lang","role",Bg],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Hg=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Ug=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Fg=(e,t)=>{let n=e.nodeName.toLowerCase();return t.includes(n)?Hg.has(n)?Boolean(Ug.test(e.nodeValue)):!0:t.filter(i=>i instanceof RegExp).some(i=>i.test(n))};function jg(e,t,n){if(!e.length)return e;if(n&&typeof n=="function")return n(e);let r=new window.DOMParser().parseFromString(e,"text/html"),o=[].concat(...r.body.querySelectorAll("*"));for(let s of o){let a=s.nodeName.toLowerCase();if(!Object.keys(t).includes(a)){s.remove();continue}let c=[].concat(...s.attributes),l=[].concat(t["*"]||[],t[a]||[]);for(let f of c)Fg(f,l)||s.removeAttribute(f.nodeName)}return r.body.innerHTML}var Gg="TemplateFactory",zg={allowList:xu,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Wg={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Yg={entry:"(string|element|function|null)",selector:"(string|element)"},pa=class extends Ln{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return zg}static get DefaultType(){return Wg}static get NAME(){return Gg}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){let t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(let[r,o]of Object.entries(this._config.content))this._setContent(t,o,r);let n=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&n.classList.add(...i.split(" ")),n}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(let[n,i]of Object.entries(t))super._typeCheckConfig({selector:n,entry:i},Yg)}_setContent(t,n,i){let r=P.findOne(i,t);if(!!r){if(n=this._resolvePossibleFunction(n),!n){r.remove();return}if(Ue(n)){this._putElementInTemplate(rn(n),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(n);return}r.textContent=n}}_maybeSanitize(t){return this._config.sanitize?jg(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return Pt(t,[this])}_putElementInTemplate(t,n){if(this._config.html){n.innerHTML="",n.append(t);return}n.textContent=t.textContent}},Vg="tooltip",qg=new Set(["sanitize","allowList","sanitizeFn"]),ra="fade",Kg="modal",fo="show",Xg=".tooltip-inner",zl=`.${Kg}`,Wl="hide.bs.modal",tr="hover",oa="focus",Jg="click",Qg="manual",Zg="hide",t_="hidden",e_="show",n_="shown",i_="inserted",r_="click",o_="focusin",s_="focusout",a_="mouseenter",c_="mouseleave",l_={AUTO:"auto",TOP:"top",RIGHT:te()?"left":"right",BOTTOM:"bottom",LEFT:te()?"right":"left"},u_={allowList:xu,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},f_={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"},an=class extends Ft{constructor(t,n){if(typeof ao>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return u_}static get DefaultType(){return f_}static get NAME(){return Vg}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(!!this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),b.off(this._element.closest(zl),Wl,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let t=b.trigger(this._element,this.constructor.eventName(e_)),i=(eu(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!i)return;this._disposePopper();let r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));let{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(r),b.trigger(this._element,this.constructor.eventName(i_))),this._popper=this._createPopper(r),r.classList.add(fo),"ontouchstart"in document.documentElement)for(let a of[].concat(...document.body.children))b.on(a,"mouseover",_o);let s=()=>{b.trigger(this._element,this.constructor.eventName(n_)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(s,this.tip,this._isAnimated())}hide(){if(!this._isShown()||b.trigger(this._element,this.constructor.eventName(Zg)).defaultPrevented)return;if(this._getTipElement().classList.remove(fo),"ontouchstart"in document.documentElement)for(let r of[].concat(...document.body.children))b.off(r,"mouseover",_o);this._activeTrigger[Jg]=!1,this._activeTrigger[oa]=!1,this._activeTrigger[tr]=!1,this._isHovered=null;let i=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),b.trigger(this._element,this.constructor.eventName(t_)))};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){let n=this._getTemplateFactory(t).toHtml();if(!n)return null;n.classList.remove(ra,fo),n.classList.add(`bs-${this.constructor.NAME}-auto`);let i=Qh(this.constructor.NAME).toString();return n.setAttribute("id",i),this._isAnimated()&&n.classList.add(ra),n}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new pa({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Xg]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ra)}_isShown(){return this.tip&&this.tip.classList.contains(fo)}_createPopper(t){let n=Pt(this._config.placement,[this,t,this._element]),i=l_[n.toUpperCase()];return Qi(this._element,t,this._getPopperConfig(i))}_getOffset(){let{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_resolvePossibleFunction(t){return Pt(t,[this._element])}_getPopperConfig(t){let n={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...n,...Pt(this._config.popperConfig,[n])}}_setListeners(){let t=this._config.trigger.split(" ");for(let n of t)if(n==="click")b.on(this._element,this.constructor.eventName(r_),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if(n!==Qg){let i=n===tr?this.constructor.eventName(a_):this.constructor.eventName(o_),r=n===tr?this.constructor.eventName(c_):this.constructor.eventName(s_);b.on(this._element,i,this._config.selector,o=>{let s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusin"?oa:tr]=!0,s._enter()}),b.on(this._element,r,this._config.selector,o=>{let s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusout"?oa:tr]=s._element.contains(o.relatedTarget),s._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},b.on(this._element.closest(zl),Wl,this._hideModalHandler)}_fixTitle(){let t=this._element.getAttribute("title");!t||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,n){clearTimeout(this._timeout),this._timeout=setTimeout(t,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){let n=Fe.getDataAttributes(this._element);for(let i of Object.keys(n))qg.has(i)&&delete n[i];return t={...n,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:rn(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){let t={};for(let[n,i]of Object.entries(this._config))this.constructor.Default[n]!==i&&(t[n]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){let n=an.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}};ne(an);var d_="popover",h_=".popover-header",p_=".popover-body",m_={...an.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},g_={...an.DefaultType,content:"(null|string|element|function)"},nr=class extends an{static get Default(){return m_}static get DefaultType(){return g_}static get NAME(){return d_}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[h_]:this._getTitle(),[p_]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){let n=nr.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}};ne(nr);var __="scrollspy",E_="bs.scrollspy",Ea=`.${E_}`,v_=".data-api",y_=`activate${Ea}`,Yl=`click${Ea}`,b_=`load${Ea}${v_}`,w_="dropdown-item",ai="active",x_='[data-bs-spy="scroll"]',sa="[href]",T_=".nav, .list-group",Vl=".nav-link",S_=".nav-item",A_=".list-group-item",N_=`${Vl}, ${S_} > ${Vl}, ${A_}`,C_=".dropdown",D_=".dropdown-toggle",L_={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},O_={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"},pi=class extends Ft{constructor(t,n){super(t,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return L_}static get DefaultType(){return O_}static get NAME(){return __}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(let t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=rn(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(n=>Number.parseFloat(n))),t}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(b.off(this._config.target,Yl),b.on(this._config.target,Yl,sa,t=>{let n=this._observableSections.get(t.target.hash);if(n){t.preventDefault();let i=this._rootElement||window,r=n.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:r,behavior:"smooth"});return}i.scrollTop=r}}))}_getNewObserver(){let t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),t)}_observerCallback(t){let n=s=>this._targetLinks.get(`#${s.target.id}`),i=s=>{this._previousScrollData.visibleEntryTop=s.target.offsetTop,this._process(n(s))},r=(this._rootElement||document.documentElement).scrollTop,o=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(let s of t){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(s));continue}let a=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&a){if(i(s),!r)return;continue}!o&&!a&&i(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let t=P.find(sa,this._config.target);for(let n of t){if(!n.hash||on(n))continue;let i=P.findOne(decodeURI(n.hash),this._element);mi(i)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,i))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(ai),this._activateParents(t),b.trigger(this._element,y_,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(w_)){P.findOne(D_,t.closest(C_)).classList.add(ai);return}for(let n of P.parents(t,T_))for(let i of P.prev(n,N_))i.classList.add(ai)}_clearActiveClass(t){t.classList.remove(ai);let n=P.find(`${sa}.${ai}`,t);for(let i of n)i.classList.remove(ai)}static jQueryInterface(t){return this.each(function(){let n=pi.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}};b.on(window,b_,()=>{for(let e of P.find(x_))pi.getOrCreateInstance(e)});ne(pi);var I_="tab",R_="bs.tab",Mn=`.${R_}`,M_=`hide${Mn}`,k_=`hidden${Mn}`,P_=`show${Mn}`,$_=`shown${Mn}`,B_=`click${Mn}`,H_=`keydown${Mn}`,U_=`load${Mn}`,F_="ArrowLeft",ql="ArrowRight",j_="ArrowUp",Kl="ArrowDown",aa="Home",Xl="End",Dn="active",Jl="fade",ca="show",G_="dropdown",Tu=".dropdown-toggle",z_=".dropdown-menu",la=`:not(${Tu})`,W_='.list-group, .nav, [role="tablist"]',Y_=".nav-item, .list-group-item",V_=`.nav-link${la}, .list-group-item${la}, [role="tab"]${la}`,Su='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ua=`${V_}, ${Su}`,q_=`.${Dn}[data-bs-toggle="tab"], .${Dn}[data-bs-toggle="pill"], .${Dn}[data-bs-toggle="list"]`,cn=class extends Ft{constructor(t){super(t),this._parent=this._element.closest(W_),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),b.on(this._element,H_,n=>this._keydown(n)))}static get NAME(){return I_}show(){let t=this._element;if(this._elemIsActive(t))return;let n=this._getActiveElem(),i=n?b.trigger(n,M_,{relatedTarget:t}):null;b.trigger(t,P_,{relatedTarget:n}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(n,t),this._activate(t,n))}_activate(t,n){if(!t)return;t.classList.add(Dn),this._activate(P.getElementFromSelector(t));let i=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(ca);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),b.trigger(t,$_,{relatedTarget:n})};this._queueCallback(i,t,t.classList.contains(Jl))}_deactivate(t,n){if(!t)return;t.classList.remove(Dn),t.blur(),this._deactivate(P.getElementFromSelector(t));let i=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(ca);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),b.trigger(t,k_,{relatedTarget:n})};this._queueCallback(i,t,t.classList.contains(Jl))}_keydown(t){if(![F_,ql,j_,Kl,aa,Xl].includes(t.key))return;t.stopPropagation(),t.preventDefault();let n=this._getChildren().filter(r=>!on(r)),i;if([aa,Xl].includes(t.key))i=n[t.key===aa?0:n.length-1];else{let r=[ql,Kl].includes(t.key);i=ma(n,t.target,r,!0)}i&&(i.focus({preventScroll:!0}),cn.getOrCreateInstance(i).show())}_getChildren(){return P.find(ua,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,n){this._setAttributeIfNotExists(t,"role","tablist");for(let i of n)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);let n=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",n),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),n||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){let n=P.getElementFromSelector(t);!n||(this._setAttributeIfNotExists(n,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,n){let i=this._getOuterElement(t);if(!i.classList.contains(G_))return;let r=(o,s)=>{let a=P.findOne(o,i);a&&a.classList.toggle(s,n)};r(Tu,Dn),r(z_,ca),i.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(t,n,i){t.hasAttribute(n)||t.setAttribute(n,i)}_elemIsActive(t){return t.classList.contains(Dn)}_getInnerElement(t){return t.matches(ua)?t:P.findOne(ua,t)}_getOuterElement(t){return t.closest(Y_)||t}static jQueryInterface(t){return this.each(function(){let n=cn.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}};b.on(document,B_,Su,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),!on(this)&&cn.getOrCreateInstance(this).show()});b.on(window,U_,()=>{for(let e of P.find(q_))cn.getOrCreateInstance(e)});ne(cn);var K_="toast",X_="bs.toast",fn=`.${X_}`,J_=`mouseover${fn}`,Q_=`mouseout${fn}`,Z_=`focusin${fn}`,tE=`focusout${fn}`,eE=`hide${fn}`,nE=`hidden${fn}`,iE=`show${fn}`,rE=`shown${fn}`,oE="fade",Ql="hide",ho="show",po="showing",sE={animation:"boolean",autohide:"boolean",delay:"number"},aE={animation:!0,autohide:!0,delay:5e3},ln=class extends Ft{constructor(t,n){super(t,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return aE}static get DefaultType(){return sE}static get NAME(){return K_}show(){if(b.trigger(this._element,iE).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(oE);let n=()=>{this._element.classList.remove(po),b.trigger(this._element,rE),this._maybeScheduleHide()};this._element.classList.remove(Ql),ir(this._element),this._element.classList.add(ho,po),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||b.trigger(this._element,eE).defaultPrevented)return;let n=()=>{this._element.classList.add(Ql),this._element.classList.remove(po,ho),b.trigger(this._element,nE)};this._element.classList.add(po),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ho),super.dispose()}isShown(){return this._element.classList.contains(ho)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(t,n){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}let i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){b.on(this._element,J_,t=>this._onInteraction(t,!0)),b.on(this._element,Q_,t=>this._onInteraction(t,!1)),b.on(this._element,Z_,t=>this._onInteraction(t,!0)),b.on(this._element,tE,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){let n=ln.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t](this)}})}};bo(ln);ne(ln);var Au=`<div class="container" style="margin-top: 100px">
  <div class="options-container"></div>
  <div class="row" style="display: none">
    <div class="col">
      <ul class="list-group">
        <!--Checkbox -->
        <li
          class="checkbox-template list-group-item p-4 d-flex justify-content-between align-items-center"
        >
          <div class="ms-2 me-5">
            <div class="fw-bold control-title">Subheading title</div>
            <small class="control-description disabled"
              >Content for list item ent for list item ent for list ent for list
              item ent for list ent for list item ent for list ent for list item
              ent for list</small
            >
          </div>
          <input
            class="control-input form-check-input me-1"
            type="checkbox"
            value=""
            id="thirdCheckbox"
          />
        </li>

        <!--Select -->
        <li
          class="select-template list-group-item p-4 d-flex justify-content-between align-items-center"
        >
          <div class="ms-2 me-5">
            <div class="control-title fw-bold">Subheading title</div>
            <small class="control-description disabled"
              >Content for list item ent for for list ent for list item ent for
              list</small
            >
          </div>
          <select
            autocomplete="off"
            class="control-input form-select form-select-md"
            aria-label="choose an option"
            style="max-width: 200px"
          ></select>
        </li>

        <!--Range -->
        <li class="range-template list-group-item p-4">
          <div class="ms-2">
            <div class="control-title fw-bold">Subheading title</div>
            <small class="control-description disabled"
              >Content for list item ent for list item ent for list</small
            >
            <input
              type="range"
              class="control-input form-range"
              id="customRange2"
            />
          </div>
        </li>

        <!--Switch  -->
        <li
          class="switch-template list-group-item p-4 d-flex justify-content-between align-items-center"
        >
          <div class="ms-2 me-auto">
            <div class="control-title fw-bold">Subheading title</div>
            <small class="control-description disabled"
              >Content for list item ent for list item ent for list</small
            >
          </div>
          <div class="form-check form-switch">
            <input
              class="control-input form-check-input"
              type="checkbox"
              role="switch"
              id="flexSwitchCheckChecked"
              checked="true"
            />
          </div>
        </li>

        <!--Radio -->
        <li
          class="radio-template list-group-item p-4 d-flex justify-content-between align-items-center"
        >
          <div class="ms-2 me-5">
            <div class="control-title fw-bold">Subheading title</div>
            <small class="control-description disabled"
              >Content for list item ent for list item ent for list ent for list
              item ent for list ent for list item ent for list ent for list item
              ent for list</small
            >
          </div>
          <div
            class="control-input btn-group"
            role="group"
            aria-label="Choose an option"
          ></div>
        </li>

        <!--TextArea -->
        <li class="textarea-template list-group-item p-4">
          <div class="ms-2">
            <div class="control-title fw-bold">Subheading title</div>
            <small class="control-description disabled"
              >Content for list item ent for list item ent for list</small
            >
            <textarea
              class="control-input form-control p-3 mt-2"
              rows="5"
            ></textarea>
          </div>
        </li>
      </ul>
    </div>
  </div>

  <div class="toast-container position-fixed bottom-0 end-0 p-1">
    <div
      id="liveToast"
      class="toast"
      role="alert"
      aria-live="assertive"
      aria-atomic="true"
    >
      <div class="toast-body">
        <img src="../assets/logo-24x24.png" class="rounded me-2" alt="Logo" />
        Successfully updated settings
      </div>
    </div>
  </div>
</div>
`;var or=class extends HTMLElement{constructor(n){super();this.template=new DOMParser().parseFromString(Au,"text/html");this.logger=new At(this);this.configItems=n,this.attachShadow({mode:"open"})}connectedCallback(){this.logger.debug("SettingsUI added to page."),this.fetchAndSetConfigValues(this.configItems).then(n=>{this.render(n)})}disconnectedCallback(){this.logger.debug("SettingsUI element removed from page.")}adoptedCallback(){this.logger.debug("SettingsUI element moved to new page.")}async fetchAndSetConfigValues(n){for(let i of n){let r=await Ut.get(i.id);r==null||r===void 0?i.value=i.default_value:i.value=r}return n}render(n){this.logger.debug("Rendering options: ",n);let i=document.createElement("link");i.rel="stylesheet",i.href=chrome.runtime.getURL("utils/settings/settings.css"),this.shadowRoot?.append(i);let r=document.createElement("ul");r.className="list-group",n.forEach(o=>r.appendChild(this.cloneInput(o))),this.shadowRoot?.append(r)}async saveChange(n,i){this.logger.debug("saving: ",n.id,i),await Ut.put(n.id,i),this.showToast()}cloneInput(n){let i=this.template.getElementsByClassName(`${n.type}-template`)[0].cloneNode(!0);i.getElementsByClassName("control-title")[0].innerHTML=Xn(n.title),i.getElementsByClassName("control-description")[0].innerHTML=Xn(n.description);let r=i.getElementsByClassName("control-input")[0];return["checkbox","switch"].includes(n.type)?(r.checked=!!n.value,r.addEventListener("input",o=>this.saveChange(n,o.target.checked))):r.value=n.value,n.type==="range"&&(r.min=n.min??"0",r.max=n.max??"5",r.addEventListener("input",o=>this.saveChange(n,o.target.value))),n.type==="select"&&(n.options?.forEach(o=>{r.add(new Option(o.text,o.id,o.id===n.value))}),r.selectedIndex=n.options?.findIndex(o=>o.id===n.value)??-1,r.addEventListener("change",o=>this.saveChange(n,o.target.value))),n.type==="radio"&&(n.options?.forEach(o=>{let s=document.createElement("input");s.type="radio",s.name=n.id,s.value=o.id,s.id=`${n.id}-${o.id}`,s.autocomplete="off",s.className="btn-check",s.checked=o.id===n.value,r.appendChild(s);let a=document.createElement("label");a.className="btn btn-outline-primary",a.htmlFor=s.id,a.appendChild(document.createTextNode(o.text)),r.appendChild(a)}),r.addEventListener("input",o=>this.saveChange(n,o.target.value))),n.type==="textarea"&&r.addEventListener("input",o=>this.saveChange(n,o.target.value)),i}showToast(){let n=this.shadowRoot?.querySelector(".toast-container");n||(n=this.template.querySelector(".toast-container"),this.shadowRoot?.append(n));let i=new ln(n.querySelector("#liveToast"),{delay:1e3});this.logger.log("showing toast: ",i),i.show()}};customElements.define("settings-ui",or);var va=[{id:"search-engine",type:"select",title:"Search engine",description:"The search engine that would be used for inline search previews.",default_value:"google",options:[{id:"google",text:"Google"},{id:"bing",text:"Bing"},{id:"yahoo",text:"Yahoo"},{id:"baidu",text:"Baidu"},{id:"yandex",text:"Yandex"}]},{id:"previewr-width",type:"range",title:"Preview Width (%)",description:"The width of the preview panel relative to the page.",default_value:40,min:"20",max:"90"},{id:"previewr-height",type:"range",title:"Preview Height (%)",description:"The height of the preview panel relative to the page.",default_value:70,min:"20",max:"95"},{id:"blocked-sites",type:"textarea",title:"Disabled on Websites",description:"Extension will not run on these sites. Enter one site per line.",default_value:""}],lE="betterpreviews.com/mainframe",d0=new URL(window.location.href).protocol;window.name===lE?va["disable-on-this-site"]={id:"disable-on-this-site",type:"switch",title:"Disable Previews on this site",description:"The detail information about the checkbox here.",value:!1}:va["disabled-on-sites"]={id:"disabled-on-sites",type:"textarea",title:"Disabled on Websites",description:"Extension will not run on these sites, you can disable a site by adding to this list.",value:`example.com
example.org`};document.addEventListener("DOMContentLoaded",()=>{document.querySelector(".options-container")?.appendChild(new or(va)),document.querySelector("#show-preview")?.addEventListener("click",()=>{window.postMessage({application:mt.__package_name__,action:"search",data:"hello world"},window.location.origin)})});})();
